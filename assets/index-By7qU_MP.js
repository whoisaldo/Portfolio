var V0=a=>{throw TypeError(a)};var Vh=(a,t,e)=>t.has(a)||V0("Cannot "+e);var Xt=(a,t,e)=>(Vh(a,t,"read from private field"),e?e.call(a):t.get(a)),Fi=(a,t,e)=>t.has(a)?V0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),Ze=(a,t,e,n)=>(Vh(a,t,"write to private field"),n?n.call(a,e):t.set(a,e),e),zi=(a,t,e)=>(Vh(a,t,"access private method"),e);var H0=(a,t,e,n)=>({set _(r){Ze(a,t,r,e)},get _(){return Xt(a,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function Wd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Hh={exports:{}},Fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Ow(){if(U0)return Fr;U0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:a,type:n,key:c,ref:r!==void 0?r:null,props:l}}return Fr.Fragment=t,Fr.jsx=e,Fr.jsxs=e,Fr}var G0;function jw(){return G0||(G0=1,Hh.exports=Ow()),Hh.exports}var S=jw(),Uh={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function Bw(){if(q0)return wt;q0=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function T(D,q,Z){this.props=D,this.context=q,this.refs=w,this.updater=Z||v}T.prototype.isReactComponent={},T.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function _(){}_.prototype=T.prototype;function k(D,q,Z){this.props=D,this.context=q,this.refs=w,this.updater=Z||v}var C=k.prototype=new _;C.constructor=k,x(C,T.prototype),C.isPureReactComponent=!0;var N=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function B(D,q,Z,W,et,bt){return Z=bt.ref,{$$typeof:a,type:D,key:q,ref:Z!==void 0?Z:null,props:bt}}function U(D,q){return B(D.type,q,void 0,void 0,void 0,D.props)}function $(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function Q(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(Z){return q[Z]})}var J=/\/+/g;function rt(D,q){return typeof D=="object"&&D!==null&&D.key!=null?Q(""+D.key):q.toString(36)}function dt(){}function nt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(dt,dt):(D.status="pending",D.then(function(q){D.status==="pending"&&(D.status="fulfilled",D.value=q)},function(q){D.status==="pending"&&(D.status="rejected",D.reason=q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function pt(D,q,Z,W,et){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var at=!1;if(D===null)at=!0;else switch(bt){case"bigint":case"string":case"number":at=!0;break;case"object":switch(D.$$typeof){case a:case t:at=!0;break;case p:return at=D._init,pt(at(D._payload),q,Z,W,et)}}if(at)return et=et(D),at=W===""?"."+rt(D,0):W,N(et)?(Z="",at!=null&&(Z=at.replace(J,"$&/")+"/"),pt(et,q,Z,"",function(de){return de})):et!=null&&($(et)&&(et=U(et,Z+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(J,"$&/")+"/")+at)),q.push(et)),1;at=0;var At=W===""?".":W+":";if(N(D))for(var Rt=0;Rt<D.length;Rt++)W=D[Rt],bt=At+rt(W,Rt),at+=pt(W,q,Z,bt,et);else if(Rt=b(D),typeof Rt=="function")for(D=Rt.call(D),Rt=0;!(W=D.next()).done;)W=W.value,bt=At+rt(W,Rt++),at+=pt(W,q,Z,bt,et);else if(bt==="object"){if(typeof D.then=="function")return pt(nt(D),q,Z,W,et);throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return at}function L(D,q,Z){if(D==null)return D;var W=[],et=0;return pt(D,W,"","",function(bt){return q.call(Z,bt,et++)}),W}function I(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(Z){(D._status===0||D._status===-1)&&(D._status=1,D._result=Z)},function(Z){(D._status===0||D._status===-1)&&(D._status=2,D._result=Z)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var tt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ct(){}return wt.Children={map:L,forEach:function(D,q,Z){L(D,function(){q.apply(this,arguments)},Z)},count:function(D){var q=0;return L(D,function(){q++}),q},toArray:function(D){return L(D,function(q){return q})||[]},only:function(D){if(!$(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=T,wt.Fragment=e,wt.Profiler=r,wt.PureComponent=k,wt.StrictMode=n,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,q,Z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=x({},D.props),et=D.key,bt=void 0;if(q!=null)for(at in q.ref!==void 0&&(bt=void 0),q.key!==void 0&&(et=""+q.key),q)!j.call(q,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&q.ref===void 0||(W[at]=q[at]);var at=arguments.length-2;if(at===1)W.children=Z;else if(1<at){for(var At=Array(at),Rt=0;Rt<at;Rt++)At[Rt]=arguments[Rt+2];W.children=At}return B(D.type,et,void 0,void 0,bt,W)},wt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},wt.createElement=function(D,q,Z){var W,et={},bt=null;if(q!=null)for(W in q.key!==void 0&&(bt=""+q.key),q)j.call(q,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(et[W]=q[W]);var at=arguments.length-2;if(at===1)et.children=Z;else if(1<at){for(var At=Array(at),Rt=0;Rt<at;Rt++)At[Rt]=arguments[Rt+2];et.children=At}if(D&&D.defaultProps)for(W in at=D.defaultProps,at)et[W]===void 0&&(et[W]=at[W]);return B(D,bt,void 0,void 0,null,et)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:h,render:D}},wt.isValidElement=$,wt.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:I}},wt.memo=function(D,q){return{$$typeof:f,type:D,compare:q===void 0?null:q}},wt.startTransition=function(D){var q=M.T,Z={};M.T=Z;try{var W=D(),et=M.S;et!==null&&et(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ct,tt)}catch(bt){tt(bt)}finally{M.T=q}},wt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},wt.use=function(D){return M.H.use(D)},wt.useActionState=function(D,q,Z){return M.H.useActionState(D,q,Z)},wt.useCallback=function(D,q){return M.H.useCallback(D,q)},wt.useContext=function(D){return M.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,q){return M.H.useDeferredValue(D,q)},wt.useEffect=function(D,q,Z){var W=M.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(D,q)},wt.useId=function(){return M.H.useId()},wt.useImperativeHandle=function(D,q,Z){return M.H.useImperativeHandle(D,q,Z)},wt.useInsertionEffect=function(D,q){return M.H.useInsertionEffect(D,q)},wt.useLayoutEffect=function(D,q){return M.H.useLayoutEffect(D,q)},wt.useMemo=function(D,q){return M.H.useMemo(D,q)},wt.useOptimistic=function(D,q){return M.H.useOptimistic(D,q)},wt.useReducer=function(D,q,Z){return M.H.useReducer(D,q,Z)},wt.useRef=function(D){return M.H.useRef(D)},wt.useState=function(D){return M.H.useState(D)},wt.useSyncExternalStore=function(D,q,Z){return M.H.useSyncExternalStore(D,q,Z)},wt.useTransition=function(){return M.H.useTransition()},wt.version="19.1.1",wt}var X0;function Qd(){return X0||(X0=1,Uh.exports=Bw()),Uh.exports}var Y=Qd();const Iw=Wd(Y);var Gh={exports:{}},zr={},qh={exports:{}},Xh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function Fw(){return Y0||(Y0=1,function(a){function t(L,I){var tt=L.length;L.push(I);t:for(;0<tt;){var ct=tt-1>>>1,D=L[ct];if(0<r(D,I))L[ct]=I,L[tt]=D,tt=ct;else break t}}function e(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var I=L[0],tt=L.pop();if(tt!==I){L[0]=tt;t:for(var ct=0,D=L.length,q=D>>>1;ct<q;){var Z=2*(ct+1)-1,W=L[Z],et=Z+1,bt=L[et];if(0>r(W,tt))et<D&&0>r(bt,W)?(L[ct]=bt,L[et]=tt,ct=et):(L[ct]=W,L[Z]=tt,ct=Z);else if(et<D&&0>r(bt,tt))L[ct]=bt,L[et]=tt,ct=et;else break t}}return I}function r(L,I){var tt=L.sortIndex-I.sortIndex;return tt!==0?tt:L.id-I.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;a.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var d=[],f=[],p=1,y=null,b=3,v=!1,x=!1,w=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N(L){for(var I=e(f);I!==null;){if(I.callback===null)n(f);else if(I.startTime<=L)n(f),I.sortIndex=I.expirationTime,t(d,I);else break;I=e(f)}}function M(L){if(w=!1,N(L),!x)if(e(d)!==null)x=!0,j||(j=!0,rt());else{var I=e(f);I!==null&&pt(M,I.startTime-L)}}var j=!1,B=-1,U=5,$=-1;function Q(){return T?!0:!(a.unstable_now()-$<U)}function J(){if(T=!1,j){var L=a.unstable_now();$=L;var I=!0;try{t:{x=!1,w&&(w=!1,k(B),B=-1),v=!0;var tt=b;try{e:{for(N(L),y=e(d);y!==null&&!(y.expirationTime>L&&Q());){var ct=y.callback;if(typeof ct=="function"){y.callback=null,b=y.priorityLevel;var D=ct(y.expirationTime<=L);if(L=a.unstable_now(),typeof D=="function"){y.callback=D,N(L),I=!0;break e}y===e(d)&&n(d),N(L)}else n(d);y=e(d)}if(y!==null)I=!0;else{var q=e(f);q!==null&&pt(M,q.startTime-L),I=!1}}break t}finally{y=null,b=tt,v=!1}I=void 0}}finally{I?rt():j=!1}}}var rt;if(typeof C=="function")rt=function(){C(J)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,nt=dt.port2;dt.port1.onmessage=J,rt=function(){nt.postMessage(null)}}else rt=function(){_(J,0)};function pt(L,I){B=_(function(){L(a.unstable_now())},I)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(L){L.callback=null},a.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<L?Math.floor(1e3/L):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(L){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var tt=b;b=I;try{return L()}finally{b=tt}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var tt=b;b=L;try{return I()}finally{b=tt}},a.unstable_scheduleCallback=function(L,I,tt){var ct=a.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?ct+tt:ct):tt=ct,L){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=tt+D,L={id:p++,callback:I,priorityLevel:L,startTime:tt,expirationTime:D,sortIndex:-1},tt>ct?(L.sortIndex=tt,t(f,L),e(d)===null&&L===e(f)&&(w?(k(B),B=-1):w=!0,pt(M,tt-ct))):(L.sortIndex=D,t(d,L),x||v||(x=!0,j||(j=!0,rt()))),L},a.unstable_shouldYield=Q,a.unstable_wrapCallback=function(L){var I=b;return function(){var tt=b;b=I;try{return L.apply(this,arguments)}finally{b=tt}}}}(Xh)),Xh}var $0;function zw(){return $0||($0=1,qh.exports=Fw()),qh.exports}var Yh={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function Vw(){if(K0)return je;K0=1;var a=Qd();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(d,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:f,implementation:p}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,je.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(d,f,null,p)},je.flushSync=function(d){var f=c.T,p=n.p;try{if(c.T=null,n.p=2,d)return d()}finally{c.T=f,n.p=p,n.d.f()}},je.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},je.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},je.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,y=h(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):p==="script"&&n.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},je.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=h(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},je.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=h(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},je.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=h(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},je.requestFormReset=function(d){n.d.r(d)},je.unstable_batchedUpdates=function(d,f){return d(f)},je.useFormState=function(d,f,p){return c.H.useFormState(d,f,p)},je.useFormStatus=function(){return c.H.useHostTransitionStatus()},je.version="19.1.1",je}var W0;function Hw(){if(W0)return Yh.exports;W0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Yh.exports=Vw(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function Uw(){if(Q0)return zr;Q0=1;var a=zw(),t=Qd(),e=Hw();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(n(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(n(188));return s!==i?null:i}for(var o=i,u=s;;){var g=o.return;if(g===null)break;var m=g.alternate;if(m===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===o)return h(g),i;if(m===u)return h(g),s;m=m.sibling}throw Error(n(188))}if(o.return!==u.return)o=g,u=m;else{for(var A=!1,E=g.child;E;){if(E===o){A=!0,o=g,u=m;break}if(E===u){A=!0,u=g,o=m;break}E=E.sibling}if(!A){for(E=m.child;E;){if(E===o){A=!0,o=m,u=g;break}if(E===u){A=!0,u=m,o=g;break}E=E.sibling}if(!A)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?i:s}function f(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=f(i),s!==null)return s;i=i.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function rt(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var dt=Symbol.for("react.client.reference");function nt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===dt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case C:return(i.displayName||"Context")+".Provider";case k:return(i._context.displayName||"Context")+".Consumer";case N:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return s=i.displayName||null,s!==null?s:nt(i.type)||"Memo";case U:s=i._payload,i=i._init;try{return nt(i(s))}catch{}}return null}var pt=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},ct=[],D=-1;function q(i){return{current:i}}function Z(i){0>D||(i.current=ct[D],ct[D]=null,D--)}function W(i,s){D++,ct[D]=i.current,i.current=s}var et=q(null),bt=q(null),at=q(null),At=q(null);function Rt(i,s){switch(W(at,s),W(bt,i),W(et,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?p0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=p0(s),i=m0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(et),W(et,i)}function de(){Z(et),Z(bt),Z(at)}function Vt(i){i.memoizedState!==null&&W(At,i);var s=et.current,o=m0(s,i.type);s!==o&&(W(bt,i),W(et,o))}function Xe(i){bt.current===i&&(Z(et),Z(bt)),At.current===i&&(Z(At),Pr._currentValue=tt)}var ii=Object.prototype.hasOwnProperty,kt=a.unstable_scheduleCallback,jt=a.unstable_cancelCallback,ne=a.unstable_shouldYield,fe=a.unstable_requestPaint,Me=a.unstable_now,Kn=a.unstable_getCurrentPriorityLevel,Ls=a.unstable_ImmediatePriority,Ro=a.unstable_UserBlockingPriority,Wi=a.unstable_NormalPriority,Cc=a.unstable_LowPriority,ko=a.unstable_IdlePriority,Mc=a.log,Rc=a.unstable_setDisableYieldValue,Wn=null,Zt=null;function Ve(i){if(typeof Mc=="function"&&Rc(i),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(Wn,i)}catch{}}var Jt=Math.clz32?Math.clz32:Ax,Ha=Math.log,xx=Math.LN2;function Ax(i){return i>>>=0,i===0?32:31-(Ha(i)/xx|0)|0}var Do=256,No=4194304;function Qn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Lo(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var g=0,m=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var E=u&134217727;return E!==0?(u=E&~m,u!==0?g=Qn(u):(A&=E,A!==0?g=Qn(A):o||(o=E&~i,o!==0&&(g=Qn(o))))):(E=u&~m,E!==0?g=Qn(E):A!==0?g=Qn(A):o||(o=u&~i,o!==0&&(g=Qn(o)))),g===0?0:s!==0&&s!==g&&(s&m)===0&&(m=g&-g,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:g}function Ua(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function wx(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(){var i=Do;return Do<<=1,(Do&4194048)===0&&(Do=256),i}function Jf(){var i=No;return No<<=1,(No&62914560)===0&&(No=4194304),i}function kc(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ga(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sx(i,s,o,u,g,m){var A=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,R=i.expirationTimes,z=i.hiddenUpdates;for(o=A&~o;0<o;){var G=31-Jt(o),K=1<<G;E[G]=0,R[G]=-1;var V=z[G];if(V!==null)for(z[G]=null,G=0;G<V.length;G++){var H=V[G];H!==null&&(H.lane&=-536870913)}o&=~K}u!==0&&tg(i,u,0),m!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=m&~(A&~s))}function tg(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Jt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function eg(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Jt(o),g=1<<u;g&s|i[u]&s&&(i[u]|=s),o&=~g}}function Dc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Nc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ig(){var i=I.p;return i!==0?i:(i=window.event,i===void 0?32:O0(i.type))}function Ex(i,s){var o=I.p;try{return I.p=i,s()}finally{I.p=o}}var vn=Math.random().toString(36).slice(2),Pe="__reactFiber$"+vn,Ye="__reactProps$"+vn,Ps="__reactContainer$"+vn,Lc="__reactEvents$"+vn,Tx="__reactListeners$"+vn,_x="__reactHandles$"+vn,ng="__reactResources$"+vn,qa="__reactMarker$"+vn;function Pc(i){delete i[Pe],delete i[Ye],delete i[Lc],delete i[Tx],delete i[_x]}function Os(i){var s=i[Pe];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ps]||o[Pe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=x0(i);i!==null;){if(o=i[Pe])return o;i=x0(i)}return s}i=o,o=i.parentNode}return null}function js(i){if(i=i[Pe]||i[Ps]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Xa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Bs(i){var s=i[ng];return s||(s=i[ng]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function we(i){i[qa]=!0}var sg=new Set,ag={};function Zn(i,s){Is(i,s),Is(i+"Capture",s)}function Is(i,s){for(ag[i]=s,i=0;i<s.length;i++)sg.add(s[i])}var Cx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rg={},og={};function Mx(i){return ii.call(og,i)?!0:ii.call(rg,i)?!1:Cx.test(i)?og[i]=!0:(rg[i]=!0,!1)}function Po(i,s,o){if(Mx(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Oo(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Qi(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Oc,lg;function Fs(i){if(Oc===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Oc=s&&s[1]||"",lg=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oc+i+lg}var jc=!1;function Bc(i,s){if(!i||jc)return"";jc=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var V=H}Reflect.construct(i,[],K)}else{try{K.call()}catch(H){V=H}i.call(K.prototype)}}else{try{throw Error()}catch(H){V=H}(K=i())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&V&&typeof H.stack=="string")return[H.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),A=m[0],E=m[1];if(A&&E){var R=A.split(`
`),z=E.split(`
`);for(g=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;if(u===R.length||g===z.length)for(u=R.length-1,g=z.length-1;1<=u&&0<=g&&R[u]!==z[g];)g--;for(;1<=u&&0<=g;u--,g--)if(R[u]!==z[g]){if(u!==1||g!==1)do if(u--,g--,0>g||R[u]!==z[g]){var G=`
`+R[u].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=u&&0<=g);break}}}finally{jc=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Fs(o):""}function Rx(i){switch(i.tag){case 26:case 27:case 5:return Fs(i.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 15:return Bc(i.type,!1);case 11:return Bc(i.type.render,!1);case 1:return Bc(i.type,!0);case 31:return Fs("Activity");default:return""}}function cg(i){try{var s="";do s+=Rx(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ug(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kx(i){var s=ug(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,m=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(A){u=""+A,m.call(this,A)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function jo(i){i._valueTracker||(i._valueTracker=kx(i))}function hg(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=ug(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Bo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dx=/[\n"\\]/g;function gi(i){return i.replace(Dx,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ic(i,s,o,u,g,m,A,E){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+fi(s)):i.value!==""+fi(s)&&(i.value=""+fi(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Fc(i,A,fi(s)):o!=null?Fc(i,A,fi(o)):u!=null&&i.removeAttribute("value"),g==null&&m!=null&&(i.defaultChecked=!!m),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+fi(E):i.removeAttribute("name")}function dg(i,s,o,u,g,m,A,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+fi(o):"",s=s!=null?""+fi(s):o,E||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=E?i.checked:!!u,i.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A)}function Fc(i,s,o){s==="number"&&Bo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function zs(i,s,o,u){if(i=i.options,s){s={};for(var g=0;g<o.length;g++)s["$"+o[g]]=!0;for(o=0;o<i.length;o++)g=s.hasOwnProperty("$"+i[o].value),i[o].selected!==g&&(i[o].selected=g),g&&u&&(i[o].defaultSelected=!0)}else{for(o=""+fi(o),s=null,g=0;g<i.length;g++){if(i[g].value===o){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function fg(i,s,o){if(s!=null&&(s=""+fi(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+fi(o):""}function gg(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(n(92));if(pt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=fi(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Vs(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Nx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pg(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Nx.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function mg(i,s,o){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&o[g]!==u&&pg(i,g,u)}else for(var m in s)s.hasOwnProperty(m)&&pg(i,m,s[m])}function zc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Px=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(i){return Px.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Vc=null;function Hc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hs=null,Us=null;function yg(i){var s=js(i);if(s&&(i=s.stateNode)){var o=i[Ye]||null;t:switch(i=s.stateNode,s.type){case"input":if(Ic(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gi(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var g=u[Ye]||null;if(!g)throw Error(n(90));Ic(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&hg(u)}break t;case"textarea":fg(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&zs(i,!!o.multiple,s,!1)}}}var Uc=!1;function bg(i,s,o){if(Uc)return i(s,o);Uc=!0;try{var u=i(s);return u}finally{if(Uc=!1,(Hs!==null||Us!==null)&&(Sl(),Hs&&(s=Hs,i=Us,Us=Hs=null,yg(s),i)))for(s=0;s<i.length;s++)yg(i[s])}}function Ya(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ye]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(n(231,s,typeof o));return o}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=!1;if(Zi)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Gc=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Gc=!1}var xn=null,qc=null,Fo=null;function vg(){if(Fo)return Fo;var i,s=qc,o=s.length,u,g="value"in xn?xn.value:xn.textContent,m=g.length;for(i=0;i<o&&s[i]===g[i];i++);var A=o-i;for(u=1;u<=A&&s[o-u]===g[m-u];u++);return Fo=g.slice(i,1<u?1-u:void 0)}function zo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Vo(){return!0}function xg(){return!1}function $e(i){function s(o,u,g,m,A){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vo:xg,this.isPropagationStopped=xg,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),s}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=$e(Jn),Ka=p({},Jn,{view:0,detail:0}),Ox=$e(Ka),Xc,Yc,Wa,Uo=p({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Wa&&(Wa&&i.type==="mousemove"?(Xc=i.screenX-Wa.screenX,Yc=i.screenY-Wa.screenY):Yc=Xc=0,Wa=i),Xc)},movementY:function(i){return"movementY"in i?i.movementY:Yc}}),Ag=$e(Uo),jx=p({},Uo,{dataTransfer:0}),Bx=$e(jx),Ix=p({},Ka,{relatedTarget:0}),$c=$e(Ix),Fx=p({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=$e(Fx),Vx=p({},Jn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Hx=$e(Vx),Ux=p({},Jn,{data:0}),wg=$e(Ux),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Xx[i])?!!s[i]:!1}function Kc(){return Yx}var $x=p({},Ka,{key:function(i){if(i.key){var s=Gx[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=zo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(i){return i.type==="keypress"?zo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Kx=$e($x),Wx=p({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sg=$e(Wx),Qx=p({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),Zx=$e(Qx),Jx=p({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tA=$e(Jx),eA=p({},Uo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),iA=$e(eA),nA=p({},Jn,{newState:0,oldState:0}),sA=$e(nA),aA=[9,13,27,32],Wc=Zi&&"CompositionEvent"in window,Qa=null;Zi&&"documentMode"in document&&(Qa=document.documentMode);var rA=Zi&&"TextEvent"in window&&!Qa,Eg=Zi&&(!Wc||Qa&&8<Qa&&11>=Qa),Tg=" ",_g=!1;function Cg(i,s){switch(i){case"keyup":return aA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Gs=!1;function oA(i,s){switch(i){case"compositionend":return Mg(s);case"keypress":return s.which!==32?null:(_g=!0,Tg);case"textInput":return i=s.data,i===Tg&&_g?null:i;default:return null}}function lA(i,s){if(Gs)return i==="compositionend"||!Wc&&Cg(i,s)?(i=vg(),Fo=qc=xn=null,Gs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Eg&&s.locale!=="ko"?null:s.data;default:return null}}var cA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!cA[i.type]:s==="textarea"}function kg(i,s,o,u){Hs?Us?Us.push(u):Us=[u]:Hs=u,s=Rl(s,"onChange"),0<s.length&&(o=new Ho("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Za=null,Ja=null;function uA(i){u0(i,0)}function Go(i){var s=Xa(i);if(hg(s))return i}function Dg(i,s){if(i==="change")return s}var Ng=!1;if(Zi){var Qc;if(Zi){var Zc="oninput"in document;if(!Zc){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Zc=typeof Lg.oninput=="function"}Qc=Zc}else Qc=!1;Ng=Qc&&(!document.documentMode||9<document.documentMode)}function Pg(){Za&&(Za.detachEvent("onpropertychange",Og),Ja=Za=null)}function Og(i){if(i.propertyName==="value"&&Go(Ja)){var s=[];kg(s,Ja,i,Hc(i)),bg(uA,s)}}function hA(i,s,o){i==="focusin"?(Pg(),Za=s,Ja=o,Za.attachEvent("onpropertychange",Og)):i==="focusout"&&Pg()}function dA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Go(Ja)}function fA(i,s){if(i==="click")return Go(s)}function gA(i,s){if(i==="input"||i==="change")return Go(s)}function pA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var ni=typeof Object.is=="function"?Object.is:pA;function tr(i,s){if(ni(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!ii.call(s,g)||!ni(i[g],s[g]))return!1}return!0}function jg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bg(i,s){var o=jg(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=jg(o)}}function Ig(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ig(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Fg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bo(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Bo(i.document)}return s}function Jc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var mA=Zi&&"documentMode"in document&&11>=document.documentMode,qs=null,tu=null,er=null,eu=!1;function zg(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;eu||qs==null||qs!==Bo(u)||(u=qs,"selectionStart"in u&&Jc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),er&&tr(er,u)||(er=u,u=Rl(tu,"onSelect"),0<u.length&&(s=new Ho("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=qs)))}function ts(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Xs={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},iu={},Vg={};Zi&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function es(i){if(iu[i])return iu[i];if(!Xs[i])return i;var s=Xs[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in Vg)return iu[i]=s[o];return i}var Hg=es("animationend"),Ug=es("animationiteration"),Gg=es("animationstart"),yA=es("transitionrun"),bA=es("transitionstart"),vA=es("transitioncancel"),qg=es("transitionend"),Xg=new Map,nu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nu.push("scrollEnd");function Mi(i,s){Xg.set(i,s),Zn(s,[i])}var Yg=new WeakMap;function pi(i,s){if(typeof i=="object"&&i!==null){var o=Yg.get(i);return o!==void 0?o:(s={value:i,source:s,stack:cg(s)},Yg.set(i,s),s)}return{value:i,source:s,stack:cg(s)}}var mi=[],Ys=0,su=0;function qo(){for(var i=Ys,s=su=Ys=0;s<i;){var o=mi[s];mi[s++]=null;var u=mi[s];mi[s++]=null;var g=mi[s];mi[s++]=null;var m=mi[s];if(mi[s++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}m!==0&&$g(o,g,m)}}function Xo(i,s,o,u){mi[Ys++]=i,mi[Ys++]=s,mi[Ys++]=o,mi[Ys++]=u,su|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function au(i,s,o,u){return Xo(i,s,o,u),Yo(i)}function $s(i,s){return Xo(i,null,null,s),Yo(i)}function $g(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var g=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(g=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,g&&s!==null&&(g=31-Jt(o),i=m.hiddenUpdates,u=i[g],u===null?i[g]=[s]:u.push(s),s.lane=o|536870912),m):null}function Yo(i){if(50<_r)throw _r=0,hh=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ks={};function xA(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,s,o,u){return new xA(i,s,o,u)}function ru(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ji(i,s){var o=i.alternate;return o===null?(o=si(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Kg(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function $o(i,s,o,u,g,m){var A=0;if(u=i,typeof i=="function")ru(i)&&(A=1);else if(typeof i=="string")A=ww(i,o,et.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case $:return i=si(31,o,s,g),i.elementType=$,i.lanes=m,i;case x:return is(o.children,g,m,s);case w:A=8,g|=24;break;case T:return i=si(12,o,s,g|2),i.elementType=T,i.lanes=m,i;case M:return i=si(13,o,s,g),i.elementType=M,i.lanes=m,i;case j:return i=si(19,o,s,g),i.elementType=j,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case C:A=10;break t;case k:A=9;break t;case N:A=11;break t;case B:A=14;break t;case U:A=16,u=null;break t}A=29,o=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=si(A,o,s,g),s.elementType=i,s.type=u,s.lanes=m,s}function is(i,s,o,u){return i=si(7,i,u,s),i.lanes=o,i}function ou(i,s,o){return i=si(6,i,null,s),i.lanes=o,i}function lu(i,s,o){return s=si(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ws=[],Qs=0,Ko=null,Wo=0,yi=[],bi=0,ns=null,tn=1,en="";function ss(i,s){Ws[Qs++]=Wo,Ws[Qs++]=Ko,Ko=i,Wo=s}function Wg(i,s,o){yi[bi++]=tn,yi[bi++]=en,yi[bi++]=ns,ns=i;var u=tn;i=en;var g=32-Jt(u)-1;u&=~(1<<g),o+=1;var m=32-Jt(s)+g;if(30<m){var A=g-g%5;m=(u&(1<<A)-1).toString(32),u>>=A,g-=A,tn=1<<32-Jt(s)+g|o<<g|u,en=m+i}else tn=1<<m|o<<g|u,en=i}function cu(i){i.return!==null&&(ss(i,1),Wg(i,1,0))}function uu(i){for(;i===Ko;)Ko=Ws[--Qs],Ws[Qs]=null,Wo=Ws[--Qs],Ws[Qs]=null;for(;i===ns;)ns=yi[--bi],yi[bi]=null,en=yi[--bi],yi[bi]=null,tn=yi[--bi],yi[bi]=null}var He=null,te=null,Lt=!1,as=null,Pi=!1,hu=Error(n(519));function rs(i){var s=Error(n(418,""));throw sr(pi(s,i)),hu}function Qg(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Pe]=i,s[Ye]=u,o){case"dialog":_t("cancel",s),_t("close",s);break;case"iframe":case"object":case"embed":_t("load",s);break;case"video":case"audio":for(o=0;o<Mr.length;o++)_t(Mr[o],s);break;case"source":_t("error",s);break;case"img":case"image":case"link":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"input":_t("invalid",s),dg(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),jo(s);break;case"select":_t("invalid",s);break;case"textarea":_t("invalid",s),gg(s,u.value,u.defaultValue,u.children),jo(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||g0(s.textContent,o)?(u.popover!=null&&(_t("beforetoggle",s),_t("toggle",s)),u.onScroll!=null&&_t("scroll",s),u.onScrollEnd!=null&&_t("scrollend",s),u.onClick!=null&&(s.onclick=kl),s=!0):s=!1,s||rs(i)}function Zg(i){for(He=i.return;He;)switch(He.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:He=He.return}}function ir(i){if(i!==He)return!1;if(!Lt)return Zg(i),Lt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ch(i.type,i.memoizedProps)),o=!o),o&&te&&rs(i),Zg(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){te=ki(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}te=null}}else s===27?(s=te,jn(i.type)?(i=Dh,Dh=null,te=i):te=s):te=He?ki(i.stateNode.nextSibling):null;return!0}function nr(){te=He=null,Lt=!1}function Jg(){var i=as;return i!==null&&(Qe===null?Qe=i:Qe.push.apply(Qe,i),as=null),i}function sr(i){as===null?as=[i]:as.push(i)}var du=q(null),os=null,nn=null;function An(i,s,o){W(du,s._currentValue),s._currentValue=o}function sn(i){i._currentValue=du.current,Z(du)}function fu(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function gu(i,s,o,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var m=g.dependencies;if(m!==null){var A=g.child;m=m.firstContext;t:for(;m!==null;){var E=m;m=g;for(var R=0;R<s.length;R++)if(E.context===s[R]){m.lanes|=o,E=m.alternate,E!==null&&(E.lanes|=o),fu(m.return,o,i),u||(A=null);break t}m=E.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(n(341));A.lanes|=o,m=A.alternate,m!==null&&(m.lanes|=o),fu(A,o,i),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===i){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function ar(i,s,o,u){i=null;for(var g=s,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var E=g.type;ni(g.pendingProps.value,A.value)||(i!==null?i.push(E):i=[E])}}else if(g===At.current){if(A=g.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Pr):i=[Pr])}g=g.return}i!==null&&gu(s,i,o,u),s.flags|=262144}function Qo(i){for(i=i.firstContext;i!==null;){if(!ni(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ls(i){os=i,nn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Oe(i){return tp(os,i)}function Zo(i,s){return os===null&&ls(i),tp(i,s)}function tp(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},nn===null){if(i===null)throw Error(n(308));nn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else nn=nn.next=s;return o}var AA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},wA=a.unstable_scheduleCallback,SA=a.unstable_NormalPriority,ve={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new AA,data:new Map,refCount:0}}function rr(i){i.refCount--,i.refCount===0&&wA(SA,function(){i.controller.abort()})}var or=null,mu=0,Zs=0,Js=null;function EA(i,s){if(or===null){var o=or=[];mu=0,Zs=bh(),Js={status:"pending",value:void 0,then:function(u){o.push(u)}}}return mu++,s.then(ep,ep),s}function ep(){if(--mu===0&&or!==null){Js!==null&&(Js.status="fulfilled");var i=or;or=null,Zs=0,Js=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function TA(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<o.length;g++)(0,o[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var ip=L.S;L.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&EA(i,s),ip!==null&&ip(i,s)};var cs=q(null);function yu(){var i=cs.current;return i!==null?i:Gt.pooledCache}function Jo(i,s){s===null?W(cs,cs.current):W(cs,s.pool)}function np(){var i=yu();return i===null?null:{parent:ve._currentValue,pool:i}}var lr=Error(n(460)),sp=Error(n(474)),tl=Error(n(542)),bu={then:function(){}};function ap(i){return i=i.status,i==="fulfilled"||i==="rejected"}function el(){}function rp(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(el,el),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,lp(i),i;default:if(typeof s.status=="string")s.then(el,el);else{if(i=Gt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,lp(i),i}throw cr=s,lr}}var cr=null;function op(){if(cr===null)throw Error(n(459));var i=cr;return cr=null,i}function lp(i){if(i===lr||i===tl)throw Error(n(483))}var wn=!1;function vu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xu(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Sn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function En(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Pt&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Yo(i),$g(i,null,o),s}return Xo(i,u,s,o),Yo(i)}function ur(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,eg(i,o)}}function Au(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?g=m=A:m=m.next=A,o=o.next}while(o!==null);m===null?g=m=s:m=m.next=s}else g=m=s;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var wu=!1;function hr(){if(wu){var i=Js;if(i!==null)throw i}}function dr(i,s,o,u){wu=!1;var g=i.updateQueue;wn=!1;var m=g.firstBaseUpdate,A=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var R=E,z=R.next;R.next=null,A===null?m=z:A.next=z,A=R;var G=i.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==A&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(m!==null){var K=g.baseState;A=0,G=z=R=null,E=m;do{var V=E.lane&-536870913,H=V!==E.lane;if(H?(Dt&V)===V:(u&V)===V){V!==0&&V===Zs&&(wu=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=i,ht=E;V=s;var Ft=o;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){K=mt.call(Ft,K,V);break t}K=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,V=typeof mt=="function"?mt.call(Ft,K,V):mt,V==null)break t;K=p({},K,V);break t;case 2:wn=!0}}V=E.callback,V!==null&&(i.flags|=64,H&&(i.flags|=8192),H=g.callbacks,H===null?g.callbacks=[V]:H.push(V))}else H={lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,R=K):G=G.next=H,A|=V;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;H=E,E=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);G===null&&(R=K),g.baseState=R,g.firstBaseUpdate=z,g.lastBaseUpdate=G,m===null&&(g.shared.lanes=0),Nn|=A,i.lanes=A,i.memoizedState=K}}function cp(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function up(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)cp(o[i],s)}var ta=q(null),il=q(0);function hp(i,s){i=hn,W(il,i),W(ta,s),hn=i|s.baseLanes}function Su(){W(il,hn),W(ta,ta.current)}function Eu(){hn=il.current,Z(ta),Z(il)}var Tn=0,St=null,Bt=null,ge=null,nl=!1,ea=!1,us=!1,sl=0,fr=0,ia=null,_A=0;function se(){throw Error(n(321))}function Tu(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!ni(i[o],s[o]))return!1;return!0}function _u(i,s,o,u,g,m){return Tn=m,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=i===null||i.memoizedState===null?$p:Kp,us=!1,m=o(u,g),us=!1,ea&&(m=fp(s,o,u,g)),dp(i),m}function dp(i){L.H=ul;var s=Bt!==null&&Bt.next!==null;if(Tn=0,ge=Bt=St=null,nl=!1,fr=0,ia=null,s)throw Error(n(300));i===null||Se||(i=i.dependencies,i!==null&&Qo(i)&&(Se=!0))}function fp(i,s,o,u){St=i;var g=0;do{if(ea&&(ia=null),fr=0,ea=!1,25<=g)throw Error(n(301));if(g+=1,ge=Bt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=LA,m=s(o,u)}while(ea);return m}function CA(){var i=L.H,s=i.useState()[0];return s=typeof s.then=="function"?gr(s):s,i=i.useState()[0],(Bt!==null?Bt.memoizedState:null)!==i&&(St.flags|=1024),s}function Cu(){var i=sl!==0;return sl=0,i}function Mu(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Ru(i){if(nl){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}nl=!1}Tn=0,ge=Bt=St=null,ea=!1,fr=sl=0,ia=null}function Ke(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=i:ge=ge.next=i,ge}function pe(){if(Bt===null){var i=St.alternate;i=i!==null?i.memoizedState:null}else i=Bt.next;var s=ge===null?St.memoizedState:ge.next;if(s!==null)ge=s,Bt=i;else{if(i===null)throw St.alternate===null?Error(n(467)):Error(n(310));Bt=i,i={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},ge===null?St.memoizedState=ge=i:ge=ge.next=i}return ge}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gr(i){var s=fr;return fr+=1,ia===null&&(ia=[]),i=rp(ia,i,s),s=St,(ge===null?s.memoizedState:ge.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?$p:Kp),i}function al(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gr(i);if(i.$$typeof===C)return Oe(i)}throw Error(n(438,String(i)))}function Du(i){var s=null,o=St.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=St.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ku(),St.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=Q;return s.index++,o}function an(i,s){return typeof s=="function"?s(i):s}function rl(i){var s=pe();return Nu(s,Bt,i)}function Nu(i,s,o){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var g=i.baseQueue,m=u.pending;if(m!==null){if(g!==null){var A=g.next;g.next=m.next,m.next=A}s.baseQueue=g=m,u.pending=null}if(m=i.baseState,g===null)i.memoizedState=m;else{s=g.next;var E=A=null,R=null,z=s,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Dt&K)===K:(Tn&K)===K){var V=z.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Zs&&(G=!0);else if((Tn&V)===V){z=z.next,V===Zs&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=K,A=m):R=R.next=K,St.lanes|=V,Nn|=V;K=z.action,us&&o(m,K),m=z.hasEagerState?z.eagerState:o(m,K)}else V={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=V,A=m):R=R.next=V,St.lanes|=K,Nn|=K;z=z.next}while(z!==null&&z!==s);if(R===null?A=m:R.next=E,!ni(m,i.memoizedState)&&(Se=!0,G&&(o=Js,o!==null)))throw o;i.memoizedState=m,i.baseState=A,i.baseQueue=R,u.lastRenderedState=m}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Lu(i){var s=pe(),o=s.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=i;var u=o.dispatch,g=o.pending,m=s.memoizedState;if(g!==null){o.pending=null;var A=g=g.next;do m=i(m,A.action),A=A.next;while(A!==g);ni(m,s.memoizedState)||(Se=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function gp(i,s,o){var u=St,g=pe(),m=Lt;if(m){if(o===void 0)throw Error(n(407));o=o()}else o=s();var A=!ni((Bt||g).memoizedState,o);A&&(g.memoizedState=o,Se=!0),g=g.queue;var E=yp.bind(null,u,g,i);if(pr(2048,8,E,[i]),g.getSnapshot!==s||A||ge!==null&&ge.memoizedState.tag&1){if(u.flags|=2048,na(9,ol(),mp.bind(null,u,g,o,s),null),Gt===null)throw Error(n(349));m||(Tn&124)!==0||pp(u,s,o)}return o}function pp(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=St.updateQueue,s===null?(s=ku(),St.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function mp(i,s,o,u){s.value=o,s.getSnapshot=u,bp(s)&&vp(i)}function yp(i,s,o){return o(function(){bp(s)&&vp(i)})}function bp(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!ni(i,o)}catch{return!0}}function vp(i){var s=$s(i,2);s!==null&&ci(s,i,2)}function Pu(i){var s=Ke();if(typeof i=="function"){var o=i;if(i=o(),us){Ve(!0);try{o()}finally{Ve(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:i},s}function xp(i,s,o,u){return i.baseState=o,Nu(i,Bt,typeof u=="function"?u:an)}function MA(i,s,o,u,g){if(cl(i))throw Error(n(485));if(i=s.action,i!==null){var m={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};L.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,Ap(s,m)):(m.next=o.next,s.pending=o.next=m)}}function Ap(i,s){var o=s.action,u=s.payload,g=i.state;if(s.isTransition){var m=L.T,A={};L.T=A;try{var E=o(g,u),R=L.S;R!==null&&R(A,E),wp(i,s,E)}catch(z){Ou(i,s,z)}finally{L.T=m}}else try{m=o(g,u),wp(i,s,m)}catch(z){Ou(i,s,z)}}function wp(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Sp(i,s,u)},function(u){return Ou(i,s,u)}):Sp(i,s,o)}function Sp(i,s,o){s.status="fulfilled",s.value=o,Ep(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Ap(i,o)))}function Ou(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Ep(s),s=s.next;while(s!==u)}i.action=null}function Ep(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Tp(i,s){return s}function _p(i,s){if(Lt){var o=Gt.formState;if(o!==null){t:{var u=St;if(Lt){if(te){e:{for(var g=te,m=Pi;g.nodeType!==8;){if(!m){g=null;break e}if(g=ki(g.nextSibling),g===null){g=null;break e}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){te=ki(g.nextSibling),u=g.data==="F!";break t}}rs(u)}u=!1}u&&(s=o[0])}}return o=Ke(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:s},o.queue=u,o=qp.bind(null,St,u),u.dispatch=o,u=Pu(!1),m=zu.bind(null,St,!1,u.queue),u=Ke(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,o=MA.bind(null,St,g,m,o),g.dispatch=o,u.memoizedState=i,[s,o,!1]}function Cp(i){var s=pe();return Mp(s,Bt,i)}function Mp(i,s,o){if(s=Nu(i,s,Tp)[0],i=rl(an)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=gr(s)}catch(A){throw A===lr?tl:A}else u=s;s=pe();var g=s.queue,m=g.dispatch;return o!==s.memoizedState&&(St.flags|=2048,na(9,ol(),RA.bind(null,g,o),null)),[u,m,i]}function RA(i,s){i.action=s}function Rp(i){var s=pe(),o=Bt;if(o!==null)return Mp(s,o,i);pe(),s=s.memoizedState,o=pe();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function na(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=St.updateQueue,s===null&&(s=ku(),St.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function ol(){return{destroy:void 0,resource:void 0}}function kp(){return pe().memoizedState}function ll(i,s,o,u){var g=Ke();u=u===void 0?null:u,St.flags|=i,g.memoizedState=na(1|s,ol(),o,u)}function pr(i,s,o,u){var g=pe();u=u===void 0?null:u;var m=g.memoizedState.inst;Bt!==null&&u!==null&&Tu(u,Bt.memoizedState.deps)?g.memoizedState=na(s,m,o,u):(St.flags|=i,g.memoizedState=na(1|s,m,o,u))}function Dp(i,s){ll(8390656,8,i,s)}function Np(i,s){pr(2048,8,i,s)}function Lp(i,s){return pr(4,2,i,s)}function Pp(i,s){return pr(4,4,i,s)}function Op(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function jp(i,s,o){o=o!=null?o.concat([i]):null,pr(4,4,Op.bind(null,s,i),o)}function ju(){}function Bp(i,s){var o=pe();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Tu(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function Ip(i,s){var o=pe();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Tu(s,u[1]))return u[0];if(u=i(),us){Ve(!0);try{i()}finally{Ve(!1)}}return o.memoizedState=[u,s],u}function Bu(i,s,o){return o===void 0||(Tn&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=Vm(),St.lanes|=i,Nn|=i,o)}function Fp(i,s,o,u){return ni(o,s)?o:ta.current!==null?(i=Bu(i,o,u),ni(i,s)||(Se=!0),i):(Tn&42)===0?(Se=!0,i.memoizedState=o):(i=Vm(),St.lanes|=i,Nn|=i,s)}function zp(i,s,o,u,g){var m=I.p;I.p=m!==0&&8>m?m:8;var A=L.T,E={};L.T=E,zu(i,!1,s,o);try{var R=g(),z=L.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=TA(R,u);mr(i,s,G,li(i))}else mr(i,s,u,li(i))}catch(K){mr(i,s,{then:function(){},status:"rejected",reason:K},li())}finally{I.p=m,L.T=A}}function kA(){}function Iu(i,s,o,u){if(i.tag!==5)throw Error(n(476));var g=Vp(i).queue;zp(i,g,s,tt,o===null?kA:function(){return Hp(i),o(u)})}function Vp(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:tt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:an,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Hp(i){var s=Vp(i).next.queue;mr(i,s,{},li())}function Fu(){return Oe(Pr)}function Up(){return pe().memoizedState}function Gp(){return pe().memoizedState}function DA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=li();i=Sn(o);var u=En(s,i,o);u!==null&&(ci(u,s,o),ur(u,s,o)),s={cache:pu()},i.payload=s;return}s=s.return}}function NA(i,s,o){var u=li();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},cl(i)?Xp(s,o):(o=au(i,s,o,u),o!==null&&(ci(o,i,u),Yp(o,s,u)))}function qp(i,s,o){var u=li();mr(i,s,o,u)}function mr(i,s,o,u){var g={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(cl(i))Xp(s,g);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var A=s.lastRenderedState,E=m(A,o);if(g.hasEagerState=!0,g.eagerState=E,ni(E,A))return Xo(i,s,g,0),Gt===null&&qo(),!1}catch{}finally{}if(o=au(i,s,g,u),o!==null)return ci(o,i,u),Yp(o,s,u),!0}return!1}function zu(i,s,o,u){if(u={lane:2,revertLane:bh(),action:u,hasEagerState:!1,eagerState:null,next:null},cl(i)){if(s)throw Error(n(479))}else s=au(i,o,u,2),s!==null&&ci(s,i,2)}function cl(i){var s=i.alternate;return i===St||s!==null&&s===St}function Xp(i,s){ea=nl=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Yp(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,eg(i,o)}}var ul={readContext:Oe,use:al,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},$p={readContext:Oe,use:al,useCallback:function(i,s){return Ke().memoizedState=[i,s===void 0?null:s],i},useContext:Oe,useEffect:Dp,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,ll(4194308,4,Op.bind(null,s,i),o)},useLayoutEffect:function(i,s){return ll(4194308,4,i,s)},useInsertionEffect:function(i,s){ll(4,2,i,s)},useMemo:function(i,s){var o=Ke();s=s===void 0?null:s;var u=i();if(us){Ve(!0);try{i()}finally{Ve(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Ke();if(o!==void 0){var g=o(s);if(us){Ve(!0);try{o(s)}finally{Ve(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=NA.bind(null,St,i),[u.memoizedState,i]},useRef:function(i){var s=Ke();return i={current:i},s.memoizedState=i},useState:function(i){i=Pu(i);var s=i.queue,o=qp.bind(null,St,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:ju,useDeferredValue:function(i,s){var o=Ke();return Bu(o,i,s)},useTransition:function(){var i=Pu(!1);return i=zp.bind(null,St,i.queue,!0,!1),Ke().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=St,g=Ke();if(Lt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=s(),Gt===null)throw Error(n(349));(Dt&124)!==0||pp(u,s,o)}g.memoizedState=o;var m={value:o,getSnapshot:s};return g.queue=m,Dp(yp.bind(null,u,m,i),[i]),u.flags|=2048,na(9,ol(),mp.bind(null,u,m,o,s),null),o},useId:function(){var i=Ke(),s=Gt.identifierPrefix;if(Lt){var o=en,u=tn;o=(u&~(1<<32-Jt(u)-1)).toString(32)+o,s=""+s+"R"+o,o=sl++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=_A++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Fu,useFormState:_p,useActionState:_p,useOptimistic:function(i){var s=Ke();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=zu.bind(null,St,!0,o),o.dispatch=s,[i,s]},useMemoCache:Du,useCacheRefresh:function(){return Ke().memoizedState=DA.bind(null,St)}},Kp={readContext:Oe,use:al,useCallback:Bp,useContext:Oe,useEffect:Np,useImperativeHandle:jp,useInsertionEffect:Lp,useLayoutEffect:Pp,useMemo:Ip,useReducer:rl,useRef:kp,useState:function(){return rl(an)},useDebugValue:ju,useDeferredValue:function(i,s){var o=pe();return Fp(o,Bt.memoizedState,i,s)},useTransition:function(){var i=rl(an)[0],s=pe().memoizedState;return[typeof i=="boolean"?i:gr(i),s]},useSyncExternalStore:gp,useId:Up,useHostTransitionStatus:Fu,useFormState:Cp,useActionState:Cp,useOptimistic:function(i,s){var o=pe();return xp(o,Bt,i,s)},useMemoCache:Du,useCacheRefresh:Gp},LA={readContext:Oe,use:al,useCallback:Bp,useContext:Oe,useEffect:Np,useImperativeHandle:jp,useInsertionEffect:Lp,useLayoutEffect:Pp,useMemo:Ip,useReducer:Lu,useRef:kp,useState:function(){return Lu(an)},useDebugValue:ju,useDeferredValue:function(i,s){var o=pe();return Bt===null?Bu(o,i,s):Fp(o,Bt.memoizedState,i,s)},useTransition:function(){var i=Lu(an)[0],s=pe().memoizedState;return[typeof i=="boolean"?i:gr(i),s]},useSyncExternalStore:gp,useId:Up,useHostTransitionStatus:Fu,useFormState:Rp,useActionState:Rp,useOptimistic:function(i,s){var o=pe();return Bt!==null?xp(o,Bt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Du,useCacheRefresh:Gp},sa=null,yr=0;function hl(i){var s=yr;return yr+=1,sa===null&&(sa=[]),rp(sa,i,s)}function br(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function dl(i,s){throw s.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Wp(i){var s=i._init;return s(i._payload)}function Qp(i){function s(O,P){if(i){var F=O.deletions;F===null?(O.deletions=[P],O.flags|=16):F.push(P)}}function o(O,P){if(!i)return null;for(;P!==null;)s(O,P),P=P.sibling;return null}function u(O){for(var P=new Map;O!==null;)O.key!==null?P.set(O.key,O):P.set(O.index,O),O=O.sibling;return P}function g(O,P){return O=Ji(O,P),O.index=0,O.sibling=null,O}function m(O,P,F){return O.index=F,i?(F=O.alternate,F!==null?(F=F.index,F<P?(O.flags|=67108866,P):F):(O.flags|=67108866,P)):(O.flags|=1048576,P)}function A(O){return i&&O.alternate===null&&(O.flags|=67108866),O}function E(O,P,F,X){return P===null||P.tag!==6?(P=ou(F,O.mode,X),P.return=O,P):(P=g(P,F),P.return=O,P)}function R(O,P,F,X){var st=F.type;return st===x?G(O,P,F.props.children,X,F.key):P!==null&&(P.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===U&&Wp(st)===P.type)?(P=g(P,F.props),br(P,F),P.return=O,P):(P=$o(F.type,F.key,F.props,null,O.mode,X),br(P,F),P.return=O,P)}function z(O,P,F,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=lu(F,O.mode,X),P.return=O,P):(P=g(P,F.children||[]),P.return=O,P)}function G(O,P,F,X,st){return P===null||P.tag!==7?(P=is(F,O.mode,X,st),P.return=O,P):(P=g(P,F),P.return=O,P)}function K(O,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=ou(""+P,O.mode,F),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return F=$o(P.type,P.key,P.props,null,O.mode,F),br(F,P),F.return=O,F;case v:return P=lu(P,O.mode,F),P.return=O,P;case U:var X=P._init;return P=X(P._payload),K(O,P,F)}if(pt(P)||rt(P))return P=is(P,O.mode,F,null),P.return=O,P;if(typeof P.then=="function")return K(O,hl(P),F);if(P.$$typeof===C)return K(O,Zo(O,P),F);dl(O,P)}return null}function V(O,P,F,X){var st=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return st!==null?null:E(O,P,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===st?R(O,P,F,X):null;case v:return F.key===st?z(O,P,F,X):null;case U:return st=F._init,F=st(F._payload),V(O,P,F,X)}if(pt(F)||rt(F))return st!==null?null:G(O,P,F,X,null);if(typeof F.then=="function")return V(O,P,hl(F),X);if(F.$$typeof===C)return V(O,P,Zo(O,F),X);dl(O,F)}return null}function H(O,P,F,X,st){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return O=O.get(F)||null,E(P,O,""+X,st);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return O=O.get(X.key===null?F:X.key)||null,R(P,O,X,st);case v:return O=O.get(X.key===null?F:X.key)||null,z(P,O,X,st);case U:var Et=X._init;return X=Et(X._payload),H(O,P,F,X,st)}if(pt(X)||rt(X))return O=O.get(F)||null,G(P,O,X,st,null);if(typeof X.then=="function")return H(O,P,F,hl(X),st);if(X.$$typeof===C)return H(O,P,F,Zo(P,X),st);dl(P,X)}return null}function mt(O,P,F,X){for(var st=null,Et=null,ot=P,ft=P=0,Te=null;ot!==null&&ft<F.length;ft++){ot.index>ft?(Te=ot,ot=null):Te=ot.sibling;var Nt=V(O,ot,F[ft],X);if(Nt===null){ot===null&&(ot=Te);break}i&&ot&&Nt.alternate===null&&s(O,ot),P=m(Nt,P,ft),Et===null?st=Nt:Et.sibling=Nt,Et=Nt,ot=Te}if(ft===F.length)return o(O,ot),Lt&&ss(O,ft),st;if(ot===null){for(;ft<F.length;ft++)ot=K(O,F[ft],X),ot!==null&&(P=m(ot,P,ft),Et===null?st=ot:Et.sibling=ot,Et=ot);return Lt&&ss(O,ft),st}for(ot=u(ot);ft<F.length;ft++)Te=H(ot,O,ft,F[ft],X),Te!==null&&(i&&Te.alternate!==null&&ot.delete(Te.key===null?ft:Te.key),P=m(Te,P,ft),Et===null?st=Te:Et.sibling=Te,Et=Te);return i&&ot.forEach(function(Vn){return s(O,Vn)}),Lt&&ss(O,ft),st}function ht(O,P,F,X){if(F==null)throw Error(n(151));for(var st=null,Et=null,ot=P,ft=P=0,Te=null,Nt=F.next();ot!==null&&!Nt.done;ft++,Nt=F.next()){ot.index>ft?(Te=ot,ot=null):Te=ot.sibling;var Vn=V(O,ot,Nt.value,X);if(Vn===null){ot===null&&(ot=Te);break}i&&ot&&Vn.alternate===null&&s(O,ot),P=m(Vn,P,ft),Et===null?st=Vn:Et.sibling=Vn,Et=Vn,ot=Te}if(Nt.done)return o(O,ot),Lt&&ss(O,ft),st;if(ot===null){for(;!Nt.done;ft++,Nt=F.next())Nt=K(O,Nt.value,X),Nt!==null&&(P=m(Nt,P,ft),Et===null?st=Nt:Et.sibling=Nt,Et=Nt);return Lt&&ss(O,ft),st}for(ot=u(ot);!Nt.done;ft++,Nt=F.next())Nt=H(ot,O,ft,Nt.value,X),Nt!==null&&(i&&Nt.alternate!==null&&ot.delete(Nt.key===null?ft:Nt.key),P=m(Nt,P,ft),Et===null?st=Nt:Et.sibling=Nt,Et=Nt);return i&&ot.forEach(function(Pw){return s(O,Pw)}),Lt&&ss(O,ft),st}function Ft(O,P,F,X){if(typeof F=="object"&&F!==null&&F.type===x&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:t:{for(var st=F.key;P!==null;){if(P.key===st){if(st=F.type,st===x){if(P.tag===7){o(O,P.sibling),X=g(P,F.props.children),X.return=O,O=X;break t}}else if(P.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===U&&Wp(st)===P.type){o(O,P.sibling),X=g(P,F.props),br(X,F),X.return=O,O=X;break t}o(O,P);break}else s(O,P);P=P.sibling}F.type===x?(X=is(F.props.children,O.mode,X,F.key),X.return=O,O=X):(X=$o(F.type,F.key,F.props,null,O.mode,X),br(X,F),X.return=O,O=X)}return A(O);case v:t:{for(st=F.key;P!==null;){if(P.key===st)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){o(O,P.sibling),X=g(P,F.children||[]),X.return=O,O=X;break t}else{o(O,P);break}else s(O,P);P=P.sibling}X=lu(F,O.mode,X),X.return=O,O=X}return A(O);case U:return st=F._init,F=st(F._payload),Ft(O,P,F,X)}if(pt(F))return mt(O,P,F,X);if(rt(F)){if(st=rt(F),typeof st!="function")throw Error(n(150));return F=st.call(F),ht(O,P,F,X)}if(typeof F.then=="function")return Ft(O,P,hl(F),X);if(F.$$typeof===C)return Ft(O,P,Zo(O,F),X);dl(O,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(o(O,P.sibling),X=g(P,F),X.return=O,O=X):(o(O,P),X=ou(F,O.mode,X),X.return=O,O=X),A(O)):o(O,P)}return function(O,P,F,X){try{yr=0;var st=Ft(O,P,F,X);return sa=null,st}catch(ot){if(ot===lr||ot===tl)throw ot;var Et=si(29,ot,null,O.mode);return Et.lanes=X,Et.return=O,Et}finally{}}}var aa=Qp(!0),Zp=Qp(!1),vi=q(null),Oi=null;function _n(i){var s=i.alternate;W(xe,xe.current&1),W(vi,i),Oi===null&&(s===null||ta.current!==null||s.memoizedState!==null)&&(Oi=i)}function Jp(i){if(i.tag===22){if(W(xe,xe.current),W(vi,i),Oi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Oi=i)}}else Cn()}function Cn(){W(xe,xe.current),W(vi,vi.current)}function rn(i){Z(vi),Oi===i&&(Oi=null),Z(xe)}var xe=q(0);function fl(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||kh(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Vu(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:p({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Hu={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=li(),g=Sn(u);g.payload=s,o!=null&&(g.callback=o),s=En(i,g,u),s!==null&&(ci(s,i,u),ur(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=li(),g=Sn(u);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=En(i,g,u),s!==null&&(ci(s,i,u),ur(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=li(),u=Sn(o);u.tag=2,s!=null&&(u.callback=s),s=En(i,u,o),s!==null&&(ci(s,i,o),ur(s,i,o))}};function tm(i,s,o,u,g,m,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,A):s.prototype&&s.prototype.isPureReactComponent?!tr(o,u)||!tr(g,m):!0}function em(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Hu.enqueueReplaceState(s,s.state,null)}function hs(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=p({},o));for(var g in i)o[g]===void 0&&(o[g]=i[g])}return o}var gl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function im(i){gl(i)}function nm(i){console.error(i)}function sm(i){gl(i)}function pl(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function am(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Uu(i,s,o){return o=Sn(o),o.tag=3,o.payload={element:null},o.callback=function(){pl(i,s)},o}function rm(i){return i=Sn(i),i.tag=3,i}function om(i,s,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var m=u.value;i.payload=function(){return g(m)},i.callback=function(){am(s,o,u)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){am(s,o,u),typeof g!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function PA(i,s,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ar(s,o,g,!0),o=vi.current,o!==null){switch(o.tag){case 13:return Oi===null?fh():o.alternate===null&&ee===0&&(ee=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===bu?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),ph(i,u,g)),!1;case 22:return o.flags|=65536,u===bu?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),ph(i,u,g)),!1}throw Error(n(435,o.tag))}return ph(i,u,g),fh(),!1}if(Lt)return s=vi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==hu&&(i=Error(n(422),{cause:u}),sr(pi(i,o)))):(u!==hu&&(s=Error(n(423),{cause:u}),sr(pi(s,o))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=pi(u,o),g=Uu(i.stateNode,u,g),Au(i,g),ee!==4&&(ee=2)),!1;var m=Error(n(520),{cause:u});if(m=pi(m,o),Tr===null?Tr=[m]:Tr.push(m),ee!==4&&(ee=2),s===null)return!0;u=pi(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=g&-g,o.lanes|=i,i=Uu(o.stateNode,u,i),Au(o,i),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ln===null||!Ln.has(m))))return o.flags|=65536,g&=-g,o.lanes|=g,g=rm(g),om(g,i,o,u),Au(o,g),!1}o=o.return}while(o!==null);return!1}var lm=Error(n(461)),Se=!1;function Re(i,s,o,u){s.child=i===null?Zp(s,null,o,u):aa(s,i.child,o,u)}function cm(i,s,o,u,g){o=o.render;var m=s.ref;if("ref"in u){var A={};for(var E in u)E!=="ref"&&(A[E]=u[E])}else A=u;return ls(s),u=_u(i,s,o,A,m,g),E=Cu(),i!==null&&!Se?(Mu(i,s,g),on(i,s,g)):(Lt&&E&&cu(s),s.flags|=1,Re(i,s,u,g),s.child)}function um(i,s,o,u,g){if(i===null){var m=o.type;return typeof m=="function"&&!ru(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,hm(i,s,m,u,g)):(i=$o(o.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Qu(i,g)){var A=m.memoizedProps;if(o=o.compare,o=o!==null?o:tr,o(A,u)&&i.ref===s.ref)return on(i,s,g)}return s.flags|=1,i=Ji(m,u),i.ref=s.ref,i.return=s,s.child=i}function hm(i,s,o,u,g){if(i!==null){var m=i.memoizedProps;if(tr(m,u)&&i.ref===s.ref)if(Se=!1,s.pendingProps=u=m,Qu(i,g))(i.flags&131072)!==0&&(Se=!0);else return s.lanes=i.lanes,on(i,s,g)}return Gu(i,s,o,u,g)}function dm(i,s,o){var u=s.pendingProps,g=u.children,m=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,i!==null){for(g=s.child=i.child,m=0;g!==null;)m=m|g.lanes|g.childLanes,g=g.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return fm(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Jo(s,m!==null?m.cachePool:null),m!==null?hp(s,m):Su(),Jp(s);else return s.lanes=s.childLanes=536870912,fm(i,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(Jo(s,m.cachePool),hp(s,m),Cn(),s.memoizedState=null):(i!==null&&Jo(s,null),Su(),Cn());return Re(i,s,g,o),s.child}function fm(i,s,o,u){var g=yu();return g=g===null?null:{parent:ve._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Jo(s,null),Su(),Jp(s),i!==null&&ar(i,s,u,!0),null}function ml(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Gu(i,s,o,u,g){return ls(s),o=_u(i,s,o,u,void 0,g),u=Cu(),i!==null&&!Se?(Mu(i,s,g),on(i,s,g)):(Lt&&u&&cu(s),s.flags|=1,Re(i,s,o,g),s.child)}function gm(i,s,o,u,g,m){return ls(s),s.updateQueue=null,o=fp(s,u,o,g),dp(i),u=Cu(),i!==null&&!Se?(Mu(i,s,m),on(i,s,m)):(Lt&&u&&cu(s),s.flags|=1,Re(i,s,o,m),s.child)}function pm(i,s,o,u,g){if(ls(s),s.stateNode===null){var m=Ks,A=o.contextType;typeof A=="object"&&A!==null&&(m=Oe(A)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hu,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},vu(s),A=o.contextType,m.context=typeof A=="object"&&A!==null?Oe(A):Ks,m.state=s.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Vu(s,o,A,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&Hu.enqueueReplaceState(m,m.state,null),dr(s,u,m,g),hr(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){m=s.stateNode;var E=s.memoizedProps,R=hs(o,E);m.props=R;var z=m.context,G=o.contextType;A=Ks,typeof G=="object"&&G!==null&&(A=Oe(G));var K=o.getDerivedStateFromProps;G=typeof K=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||z!==A)&&em(s,m,u,A),wn=!1;var V=s.memoizedState;m.state=V,dr(s,u,m,g),hr(),z=s.memoizedState,E||V!==z||wn?(typeof K=="function"&&(Vu(s,o,K,u),z=s.memoizedState),(R=wn||tm(s,o,R,u,V,z,A))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=z),m.props=u,m.state=z,m.context=A,u=R):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,xu(i,s),A=s.memoizedProps,G=hs(o,A),m.props=G,K=s.pendingProps,V=m.context,z=o.contextType,R=Ks,typeof z=="object"&&z!==null&&(R=Oe(z)),E=o.getDerivedStateFromProps,(z=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==K||V!==R)&&em(s,m,u,R),wn=!1,V=s.memoizedState,m.state=V,dr(s,u,m,g),hr();var H=s.memoizedState;A!==K||V!==H||wn||i!==null&&i.dependencies!==null&&Qo(i.dependencies)?(typeof E=="function"&&(Vu(s,o,E,u),H=s.memoizedState),(G=wn||tm(s,o,G,u,V,H,R)||i!==null&&i.dependencies!==null&&Qo(i.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,H,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,H,R)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=H),m.props=u,m.state=H,m.context=R,u=G):(typeof m.componentDidUpdate!="function"||A===i.memoizedProps&&V===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&V===i.memoizedState||(s.flags|=1024),u=!1)}return m=u,ml(i,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&u?(s.child=aa(s,i.child,null,g),s.child=aa(s,null,o,g)):Re(i,s,o,g),s.memoizedState=m.state,i=s.child):i=on(i,s,g),i}function mm(i,s,o,u){return nr(),s.flags|=256,Re(i,s,o,u),s.child}var qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(i){return{baseLanes:i,cachePool:np()}}function Yu(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=xi),i}function ym(i,s,o){var u=s.pendingProps,g=!1,m=(s.flags&128)!==0,A;if((A=m)||(A=i!==null&&i.memoizedState===null?!1:(xe.current&2)!==0),A&&(g=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(Lt){if(g?_n(s):Cn(),Lt){var E=te,R;if(R=E){t:{for(R=E,E=Pi;R.nodeType!==8;){if(!E){E=null;break t}if(R=ki(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(s.memoizedState={dehydrated:E,treeContext:ns!==null?{id:tn,overflow:en}:null,retryLane:536870912,hydrationErrors:null},R=si(18,null,null,0),R.stateNode=E,R.return=s,s.child=R,He=s,te=null,R=!0):R=!1}R||rs(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return kh(E)?s.lanes=32:s.lanes=536870912,null;rn(s)}return E=u.children,u=u.fallback,g?(Cn(),g=s.mode,E=yl({mode:"hidden",children:E},g),u=is(u,g,o,null),E.return=s,u.return=s,E.sibling=u,s.child=E,g=s.child,g.memoizedState=Xu(o),g.childLanes=Yu(i,A,o),s.memoizedState=qu,u):(_n(s),$u(s,E))}if(R=i.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(m)s.flags&256?(_n(s),s.flags&=-257,s=Ku(i,s,o)):s.memoizedState!==null?(Cn(),s.child=i.child,s.flags|=128,s=null):(Cn(),g=u.fallback,E=s.mode,u=yl({mode:"visible",children:u.children},E),g=is(g,E,o,null),g.flags|=2,u.return=s,g.return=s,u.sibling=g,s.child=u,aa(s,i.child,null,o),u=s.child,u.memoizedState=Xu(o),u.childLanes=Yu(i,A,o),s.memoizedState=qu,s=g);else if(_n(s),kh(E)){if(A=E.nextSibling&&E.nextSibling.dataset,A)var z=A.dgst;A=z,u=Error(n(419)),u.stack="",u.digest=A,sr({value:u,source:null,stack:null}),s=Ku(i,s,o)}else if(Se||ar(i,s,o,!1),A=(o&i.childLanes)!==0,Se||A){if(A=Gt,A!==null&&(u=o&-o,u=(u&42)!==0?1:Dc(u),u=(u&(A.suspendedLanes|o))!==0?0:u,u!==0&&u!==R.retryLane))throw R.retryLane=u,$s(i,u),ci(A,i,u),lm;E.data==="$?"||fh(),s=Ku(i,s,o)}else E.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=R.treeContext,te=ki(E.nextSibling),He=s,Lt=!0,as=null,Pi=!1,i!==null&&(yi[bi++]=tn,yi[bi++]=en,yi[bi++]=ns,tn=i.id,en=i.overflow,ns=s),s=$u(s,u.children),s.flags|=4096);return s}return g?(Cn(),g=u.fallback,E=s.mode,R=i.child,z=R.sibling,u=Ji(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,z!==null?g=Ji(z,g):(g=is(g,E,o,null),g.flags|=2),g.return=s,u.return=s,u.sibling=g,s.child=u,u=g,g=s.child,E=i.child.memoizedState,E===null?E=Xu(o):(R=E.cachePool,R!==null?(z=ve._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=np(),E={baseLanes:E.baseLanes|o,cachePool:R}),g.memoizedState=E,g.childLanes=Yu(i,A,o),s.memoizedState=qu,u):(_n(s),o=i.child,i=o.sibling,o=Ji(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=o,s.memoizedState=null,o)}function $u(i,s){return s=yl({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function yl(i,s){return i=si(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Ku(i,s,o){return aa(s,i.child,null,o),i=$u(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function bm(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),fu(i.return,s,o)}function Wu(i,s,o,u,g){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=g)}function vm(i,s,o){var u=s.pendingProps,g=u.revealOrder,m=u.tail;if(Re(i,s,u.children,o),u=xe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bm(i,o,s);else if(i.tag===19)bm(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(W(xe,u),g){case"forwards":for(o=s.child,g=null;o!==null;)i=o.alternate,i!==null&&fl(i)===null&&(g=o),o=o.sibling;o=g,o===null?(g=s.child,s.child=null):(g=o.sibling,o.sibling=null),Wu(s,!1,g,o,m);break;case"backwards":for(o=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&fl(i)===null){s.child=g;break}i=g.sibling,g.sibling=o,o=g,g=i}Wu(s,!0,o,null,m);break;case"together":Wu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function on(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Nn|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(ar(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,o=Ji(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Ji(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Qu(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Qo(i)))}function OA(i,s,o){switch(s.tag){case 3:Rt(s,s.stateNode.containerInfo),An(s,ve,i.memoizedState.cache),nr();break;case 27:case 5:Vt(s);break;case 4:Rt(s,s.stateNode.containerInfo);break;case 10:An(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(_n(s),s.flags|=128,null):(o&s.child.childLanes)!==0?ym(i,s,o):(_n(s),i=on(i,s,o),i!==null?i.sibling:null);_n(s);break;case 19:var g=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ar(i,s,o,!1),u=(o&s.childLanes)!==0),g){if(u)return vm(i,s,o);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),W(xe,xe.current),u)break;return null;case 22:case 23:return s.lanes=0,dm(i,s,o);case 24:An(s,ve,i.memoizedState.cache)}return on(i,s,o)}function xm(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Se=!0;else{if(!Qu(i,o)&&(s.flags&128)===0)return Se=!1,OA(i,s,o);Se=(i.flags&131072)!==0}else Se=!1,Lt&&(s.flags&1048576)!==0&&Wg(s,Wo,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,g=u._init;if(u=g(u._payload),s.type=u,typeof u=="function")ru(u)?(i=hs(u,i),s.tag=1,s=pm(null,s,u,i,o)):(s.tag=0,s=Gu(null,s,u,i,o));else{if(u!=null){if(g=u.$$typeof,g===N){s.tag=11,s=cm(null,s,u,i,o);break t}else if(g===B){s.tag=14,s=um(null,s,u,i,o);break t}}throw s=nt(u)||u,Error(n(306,s,""))}}return s;case 0:return Gu(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,g=hs(u,s.pendingProps),pm(i,s,u,g,o);case 3:t:{if(Rt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));u=s.pendingProps;var m=s.memoizedState;g=m.element,xu(i,s),dr(s,u,null,o);var A=s.memoizedState;if(u=A.cache,An(s,ve,u),u!==m.cache&&gu(s,[ve],o,!0),hr(),u=A.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=mm(i,s,u,o);break t}else if(u!==g){g=pi(Error(n(424)),s),sr(g),s=mm(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(te=ki(i.firstChild),He=s,Lt=!0,as=null,Pi=!0,o=Zp(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(nr(),u===g){s=on(i,s,o);break t}Re(i,s,u,o)}s=s.child}return s;case 26:return ml(i,s),i===null?(o=E0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Lt||(o=s.type,i=s.pendingProps,u=Dl(at.current).createElement(o),u[Pe]=s,u[Ye]=i,De(u,o,i),we(u),s.stateNode=u):s.memoizedState=E0(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Vt(s),i===null&&Lt&&(u=s.stateNode=A0(s.type,s.pendingProps,at.current),He=s,Pi=!0,g=te,jn(s.type)?(Dh=g,te=ki(u.firstChild)):te=g),Re(i,s,s.pendingProps.children,o),ml(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Lt&&((g=u=te)&&(u=cw(u,s.type,s.pendingProps,Pi),u!==null?(s.stateNode=u,He=s,te=ki(u.firstChild),Pi=!1,g=!0):g=!1),g||rs(s)),Vt(s),g=s.type,m=s.pendingProps,A=i!==null?i.memoizedProps:null,u=m.children,Ch(g,m)?u=null:A!==null&&Ch(g,A)&&(s.flags|=32),s.memoizedState!==null&&(g=_u(i,s,CA,null,null,o),Pr._currentValue=g),ml(i,s),Re(i,s,u,o),s.child;case 6:return i===null&&Lt&&((i=o=te)&&(o=uw(o,s.pendingProps,Pi),o!==null?(s.stateNode=o,He=s,te=null,i=!0):i=!1),i||rs(s)),null;case 13:return ym(i,s,o);case 4:return Rt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=aa(s,null,u,o):Re(i,s,u,o),s.child;case 11:return cm(i,s,s.type,s.pendingProps,o);case 7:return Re(i,s,s.pendingProps,o),s.child;case 8:return Re(i,s,s.pendingProps.children,o),s.child;case 12:return Re(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,An(s,s.type,u.value),Re(i,s,u.children,o),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,ls(s),g=Oe(g),u=u(g),s.flags|=1,Re(i,s,u,o),s.child;case 14:return um(i,s,s.type,s.pendingProps,o);case 15:return hm(i,s,s.type,s.pendingProps,o);case 19:return vm(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=yl(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ji(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return dm(i,s,o);case 24:return ls(s),u=Oe(ve),i===null?(g=yu(),g===null&&(g=Gt,m=pu(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=o),g=m),s.memoizedState={parent:u,cache:g},vu(s),An(s,ve,g)):((i.lanes&o)!==0&&(xu(i,s),dr(s,null,null,o),hr()),g=i.memoizedState,m=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),An(s,ve,u)):(u=m.cache,An(s,ve,u),u!==g.cache&&gu(s,[ve],o,!0))),Re(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function ln(i){i.flags|=4}function Am(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!R0(s)){if(s=vi.current,s!==null&&((Dt&4194048)===Dt?Oi!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||s!==Oi))throw cr=bu,sp;i.flags|=8192}}function bl(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Jf():536870912,i.lanes|=s,ca|=s)}function vr(i,s){if(!Lt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function Kt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var g=i.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function jA(i,s,o){var u=s.pendingProps;switch(uu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(s),null;case 1:return Kt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),sn(ve),de(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ir(s)?ln(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jg())),Kt(s),null;case 26:return o=s.memoizedState,i===null?(ln(s),o!==null?(Kt(s),Am(s,o)):(Kt(s),s.flags&=-16777217)):o?o!==i.memoizedState?(ln(s),Kt(s),Am(s,o)):(Kt(s),s.flags&=-16777217):(i.memoizedProps!==u&&ln(s),Kt(s),s.flags&=-16777217),null;case 27:Xe(s),o=at.current;var g=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ln(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return Kt(s),null}i=et.current,ir(s)?Qg(s):(i=A0(g,u,o),s.stateNode=i,ln(s))}return Kt(s),null;case 5:if(Xe(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ln(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return Kt(s),null}if(i=et.current,ir(s))Qg(s);else{switch(g=Dl(at.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?g.createElement(o,{is:u.is}):g.createElement(o)}}i[Pe]=s,i[Ye]=u;t:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break t;for(;g.sibling===null;){if(g.return===null||g.return===s)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=i;t:switch(De(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ln(s)}}return Kt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ln(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=at.current,ir(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,g=He,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[Pe]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||g0(i.nodeValue,o)),i||rs(s)}else i=Dl(i).createTextNode(u),i[Pe]=s,s.stateNode=i}return Kt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=ir(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Pe]=s}else nr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Kt(s),g=!1}else g=Jg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(rn(s),s):(rn(s),null)}if(rn(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==g&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),bl(s,s.updateQueue),Kt(s),null;case 4:return de(),i===null&&wh(s.stateNode.containerInfo),Kt(s),null;case 10:return sn(s.type),Kt(s),null;case 19:if(Z(xe),g=s.memoizedState,g===null)return Kt(s),null;if(u=(s.flags&128)!==0,m=g.rendering,m===null)if(u)vr(g,!1);else{if(ee!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=fl(i),m!==null){for(s.flags|=128,vr(g,!1),i=m.updateQueue,s.updateQueue=i,bl(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Kg(o,i),o=o.sibling;return W(xe,xe.current&1|2),s.child}i=i.sibling}g.tail!==null&&Me()>Al&&(s.flags|=128,u=!0,vr(g,!1),s.lanes=4194304)}else{if(!u)if(i=fl(m),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,bl(s,i),vr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!m.alternate&&!Lt)return Kt(s),null}else 2*Me()-g.renderingStartTime>Al&&o!==536870912&&(s.flags|=128,u=!0,vr(g,!1),s.lanes=4194304);g.isBackwards?(m.sibling=s.child,s.child=m):(i=g.last,i!==null?i.sibling=m:s.child=m,g.last=m)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Me(),s.sibling=null,i=xe.current,W(xe,u?i&1|2:i&1),s):(Kt(s),null);case 22:case 23:return rn(s),Eu(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Kt(s),s.subtreeFlags&6&&(s.flags|=8192)):Kt(s),o=s.updateQueue,o!==null&&bl(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&Z(cs),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),sn(ve),Kt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function BA(i,s){switch(uu(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return sn(ve),de(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xe(s),null;case 13:if(rn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));nr()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Z(xe),null;case 4:return de(),null;case 10:return sn(s.type),null;case 22:case 23:return rn(s),Eu(),i!==null&&Z(cs),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return sn(ve),null;case 25:return null;default:return null}}function wm(i,s){switch(uu(s),s.tag){case 3:sn(ve),de();break;case 26:case 27:case 5:Xe(s);break;case 4:de();break;case 13:rn(s);break;case 19:Z(xe);break;case 10:sn(s.type);break;case 22:case 23:rn(s),Eu(),i!==null&&Z(cs);break;case 24:sn(ve)}}function xr(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&i)===i){u=void 0;var m=o.create,A=o.inst;u=m(),A.destroy=u}o=o.next}while(o!==g)}}catch(E){Ht(s,s.return,E)}}function Mn(i,s,o){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var m=g.next;u=m;do{if((u.tag&i)===i){var A=u.inst,E=A.destroy;if(E!==void 0){A.destroy=void 0,g=s;var R=o,z=E;try{z()}catch(G){Ht(g,R,G)}}}u=u.next}while(u!==m)}}catch(G){Ht(s,s.return,G)}}function Sm(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{up(s,o)}catch(u){Ht(i,i.return,u)}}}function Em(i,s,o){o.props=hs(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Ht(i,s,u)}}function Ar(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(g){Ht(i,s,g)}}function ji(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){Ht(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Ht(i,s,g)}else o.current=null}function Tm(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){Ht(i,i.return,g)}}function Zu(i,s,o){try{var u=i.stateNode;sw(u,i.type,o,s),u[Ye]=s}catch(g){Ht(i,i.return,g)}}function _m(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&jn(i.type)||i.tag===4}function Ju(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||_m(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&jn(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function th(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=kl));else if(u!==4&&(u===27&&jn(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(th(i,s,o),i=i.sibling;i!==null;)th(i,s,o),i=i.sibling}function vl(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&jn(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(vl(i,s,o),i=i.sibling;i!==null;)vl(i,s,o),i=i.sibling}function Cm(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);De(s,u,o),s[Pe]=i,s[Ye]=o}catch(m){Ht(i,i.return,m)}}var cn=!1,ae=!1,eh=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function IA(i,s){if(i=i.containerInfo,Th=Bl,i=Fg(i),Jc(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var A=0,E=-1,R=-1,z=0,G=0,K=i,V=null;e:for(;;){for(var H;K!==o||g!==0&&K.nodeType!==3||(E=A+g),K!==m||u!==0&&K.nodeType!==3||(R=A+u),K.nodeType===3&&(A+=K.nodeValue.length),(H=K.firstChild)!==null;)V=K,K=H;for(;;){if(K===i)break e;if(V===o&&++z===g&&(E=A),V===m&&++G===u&&(R=A),(H=K.nextSibling)!==null)break;K=V,V=K.parentNode}K=H}o=E===-1||R===-1?null:{start:E,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(_h={focusedElem:i,selectionRange:o},Bl=!1,Ee=s;Ee!==null;)if(s=Ee,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Ee=i;else for(;Ee!==null;){switch(s=Ee,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=s,g=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var mt=hs(o.type,g,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(mt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(ht){Ht(o,o.return,ht)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Rh(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Ee=i;break}Ee=s.return}}function Rm(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Rn(i,o),u&4&&xr(5,o);break;case 1:if(Rn(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(A){Ht(o,o.return,A)}else{var g=hs(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Ht(o,o.return,A)}}u&64&&Sm(o),u&512&&Ar(o,o.return);break;case 3:if(Rn(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{up(i,s)}catch(A){Ht(o,o.return,A)}}break;case 27:s===null&&u&4&&Cm(o);case 26:case 5:Rn(i,o),s===null&&u&4&&Tm(o),u&512&&Ar(o,o.return);break;case 12:Rn(i,o);break;case 13:Rn(i,o),u&4&&Nm(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=YA.bind(null,o),hw(i,o))));break;case 22:if(u=o.memoizedState!==null||cn,!u){s=s!==null&&s.memoizedState!==null||ae,g=cn;var m=ae;cn=u,(ae=s)&&!m?kn(i,o,(o.subtreeFlags&8772)!==0):Rn(i,o),cn=g,ae=m}break;case 30:break;default:Rn(i,o)}}function km(i){var s=i.alternate;s!==null&&(i.alternate=null,km(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Pc(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qt=null,We=!1;function un(i,s,o){for(o=o.child;o!==null;)Dm(i,s,o),o=o.sibling}function Dm(i,s,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Wn,o)}catch{}switch(o.tag){case 26:ae||ji(o,s),un(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ae||ji(o,s);var u=qt,g=We;jn(o.type)&&(qt=o.stateNode,We=!1),un(i,s,o),kr(o.stateNode),qt=u,We=g;break;case 5:ae||ji(o,s);case 6:if(u=qt,g=We,qt=null,un(i,s,o),qt=u,We=g,qt!==null)if(We)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(o.stateNode)}catch(m){Ht(o,s,m)}else try{qt.removeChild(o.stateNode)}catch(m){Ht(o,s,m)}break;case 18:qt!==null&&(We?(i=qt,v0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ir(i)):v0(qt,o.stateNode));break;case 4:u=qt,g=We,qt=o.stateNode.containerInfo,We=!0,un(i,s,o),qt=u,We=g;break;case 0:case 11:case 14:case 15:ae||Mn(2,o,s),ae||Mn(4,o,s),un(i,s,o);break;case 1:ae||(ji(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Em(o,s,u)),un(i,s,o);break;case 21:un(i,s,o);break;case 22:ae=(u=ae)||o.memoizedState!==null,un(i,s,o),ae=u;break;default:un(i,s,o)}}function Nm(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ir(i)}catch(o){Ht(s,s.return,o)}}function FA(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Mm),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Mm),s;default:throw Error(n(435,i.tag))}}function ih(i,s){var o=FA(i);s.forEach(function(u){var g=$A.bind(null,i,u);o.has(u)||(o.add(u),u.then(g,g))})}function ai(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],m=i,A=s,E=A;t:for(;E!==null;){switch(E.tag){case 27:if(jn(E.type)){qt=E.stateNode,We=!1;break t}break;case 5:qt=E.stateNode,We=!1;break t;case 3:case 4:qt=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(qt===null)throw Error(n(160));Dm(m,A,g),qt=null,We=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Lm(s,i),s=s.sibling}var Ri=null;function Lm(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ai(s,i),ri(i),u&4&&(Mn(3,i,i.return),xr(3,i),Mn(5,i,i.return));break;case 1:ai(s,i),ri(i),u&512&&(ae||o===null||ji(o,o.return)),u&64&&cn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=Ri;if(ai(s,i),ri(i),u&512&&(ae||o===null||ji(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":m=g.getElementsByTagName("title")[0],(!m||m[qa]||m[Pe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(u),g.head.insertBefore(m,g.querySelector("head > title"))),De(m,u,o),m[Pe]=i,we(m),u=m;break t;case"link":var A=C0("link","href",g).get(u+(o.href||""));if(A){for(var E=0;E<A.length;E++)if(m=A[E],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(E,1);break e}}m=g.createElement(u),De(m,u,o),g.head.appendChild(m);break;case"meta":if(A=C0("meta","content",g).get(u+(o.content||""))){for(E=0;E<A.length;E++)if(m=A[E],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(E,1);break e}}m=g.createElement(u),De(m,u,o),g.head.appendChild(m);break;default:throw Error(n(468,u))}m[Pe]=i,we(m),u=m}i.stateNode=u}else M0(g,i.type,i.stateNode);else i.stateNode=_0(g,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?M0(g,i.type,i.stateNode):_0(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Zu(i,i.memoizedProps,o.memoizedProps)}break;case 27:ai(s,i),ri(i),u&512&&(ae||o===null||ji(o,o.return)),o!==null&&u&4&&Zu(i,i.memoizedProps,o.memoizedProps);break;case 5:if(ai(s,i),ri(i),u&512&&(ae||o===null||ji(o,o.return)),i.flags&32){g=i.stateNode;try{Vs(g,"")}catch(H){Ht(i,i.return,H)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,Zu(i,g,o!==null?o.memoizedProps:g)),u&1024&&(eh=!0);break;case 6:if(ai(s,i),ri(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(H){Ht(i,i.return,H)}}break;case 3:if(Pl=null,g=Ri,Ri=Nl(s.containerInfo),ai(s,i),Ri=g,ri(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ir(s.containerInfo)}catch(H){Ht(i,i.return,H)}eh&&(eh=!1,Pm(i));break;case 4:u=Ri,Ri=Nl(i.stateNode.containerInfo),ai(s,i),ri(i),Ri=u;break;case 12:ai(s,i),ri(i);break;case 13:ai(s,i),ri(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lh=Me()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ih(i,u)));break;case 22:g=i.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,z=cn,G=ae;if(cn=z||g,ae=G||R,ai(s,i),ae=G,cn=z,ri(i),u&8192)t:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(o===null||R||cn||ae||ds(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){R=o=s;try{if(m=R.stateNode,g)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,V=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(H){Ht(R,R.return,H)}}}else if(s.tag===6){if(o===null){R=s;try{R.stateNode.nodeValue=g?"":R.memoizedProps}catch(H){Ht(R,R.return,H)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ih(i,o))));break;case 19:ai(s,i),ri(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ih(i,u)));break;case 30:break;case 21:break;default:ai(s,i),ri(i)}}function ri(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(_m(u)){o=u;break}u=u.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var g=o.stateNode,m=Ju(i);vl(i,m,g);break;case 5:var A=o.stateNode;o.flags&32&&(Vs(A,""),o.flags&=-33);var E=Ju(i);vl(i,E,A);break;case 3:case 4:var R=o.stateNode.containerInfo,z=Ju(i);th(i,z,R);break;default:throw Error(n(161))}}catch(G){Ht(i,i.return,G)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Pm(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Pm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Rn(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Rm(i,s.alternate,s),s=s.sibling}function ds(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Mn(4,s,s.return),ds(s);break;case 1:ji(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Em(s,s.return,o),ds(s);break;case 27:kr(s.stateNode);case 26:case 5:ji(s,s.return),ds(s);break;case 22:s.memoizedState===null&&ds(s);break;case 30:ds(s);break;default:ds(s)}i=i.sibling}}function kn(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,m=s,A=m.flags;switch(m.tag){case 0:case 11:case 15:kn(g,m,o),xr(4,m);break;case 1:if(kn(g,m,o),u=m,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(z){Ht(u,u.return,z)}if(u=m,g=u.updateQueue,g!==null){var E=u.stateNode;try{var R=g.shared.hiddenCallbacks;if(R!==null)for(g.shared.hiddenCallbacks=null,g=0;g<R.length;g++)cp(R[g],E)}catch(z){Ht(u,u.return,z)}}o&&A&64&&Sm(m),Ar(m,m.return);break;case 27:Cm(m);case 26:case 5:kn(g,m,o),o&&u===null&&A&4&&Tm(m),Ar(m,m.return);break;case 12:kn(g,m,o);break;case 13:kn(g,m,o),o&&A&4&&Nm(g,m);break;case 22:m.memoizedState===null&&kn(g,m,o),Ar(m,m.return);break;case 30:break;default:kn(g,m,o)}s=s.sibling}}function nh(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&rr(o))}function sh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&rr(i))}function Bi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Om(i,s,o,u),s=s.sibling}function Om(i,s,o,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(i,s,o,u),g&2048&&xr(9,s);break;case 1:Bi(i,s,o,u);break;case 3:Bi(i,s,o,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&rr(i)));break;case 12:if(g&2048){Bi(i,s,o,u),i=s.stateNode;try{var m=s.memoizedProps,A=m.id,E=m.onPostCommit;typeof E=="function"&&E(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(R){Ht(s,s.return,R)}}else Bi(i,s,o,u);break;case 13:Bi(i,s,o,u);break;case 23:break;case 22:m=s.stateNode,A=s.alternate,s.memoizedState!==null?m._visibility&2?Bi(i,s,o,u):wr(i,s):m._visibility&2?Bi(i,s,o,u):(m._visibility|=2,ra(i,s,o,u,(s.subtreeFlags&10256)!==0)),g&2048&&nh(A,s);break;case 24:Bi(i,s,o,u),g&2048&&sh(s.alternate,s);break;default:Bi(i,s,o,u)}}function ra(i,s,o,u,g){for(g=g&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,A=s,E=o,R=u,z=A.flags;switch(A.tag){case 0:case 11:case 15:ra(m,A,E,R,g),xr(8,A);break;case 23:break;case 22:var G=A.stateNode;A.memoizedState!==null?G._visibility&2?ra(m,A,E,R,g):wr(m,A):(G._visibility|=2,ra(m,A,E,R,g)),g&&z&2048&&nh(A.alternate,A);break;case 24:ra(m,A,E,R,g),g&&z&2048&&sh(A.alternate,A);break;default:ra(m,A,E,R,g)}s=s.sibling}}function wr(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,g=u.flags;switch(u.tag){case 22:wr(o,u),g&2048&&nh(u.alternate,u);break;case 24:wr(o,u),g&2048&&sh(u.alternate,u);break;default:wr(o,u)}s=s.sibling}}var Sr=8192;function oa(i){if(i.subtreeFlags&Sr)for(i=i.child;i!==null;)jm(i),i=i.sibling}function jm(i){switch(i.tag){case 26:oa(i),i.flags&Sr&&i.memoizedState!==null&&Ew(Ri,i.memoizedState,i.memoizedProps);break;case 5:oa(i);break;case 3:case 4:var s=Ri;Ri=Nl(i.stateNode.containerInfo),oa(i),Ri=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Sr,Sr=16777216,oa(i),Sr=s):oa(i));break;default:oa(i)}}function Bm(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Er(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ee=u,Fm(u,i)}Bm(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Im(i),i=i.sibling}function Im(i){switch(i.tag){case 0:case 11:case 15:Er(i),i.flags&2048&&Mn(9,i,i.return);break;case 3:Er(i);break;case 12:Er(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,xl(i)):Er(i);break;default:Er(i)}}function xl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ee=u,Fm(u,i)}Bm(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Mn(8,s,s.return),xl(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,xl(s));break;default:xl(s)}i=i.sibling}}function Fm(i,s){for(;Ee!==null;){var o=Ee;switch(o.tag){case 0:case 11:case 15:Mn(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:rr(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ee=u;else t:for(o=i;Ee!==null;){u=Ee;var g=u.sibling,m=u.return;if(km(u),u===o){Ee=null;break t}if(g!==null){g.return=m,Ee=g;break t}Ee=m}}}var zA={getCacheForType:function(i){var s=Oe(ve),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},VA=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Gt=null,Tt=null,Dt=0,Ot=0,oi=null,Dn=!1,la=!1,ah=!1,hn=0,ee=0,Nn=0,fs=0,rh=0,xi=0,ca=0,Tr=null,Qe=null,oh=!1,lh=0,Al=1/0,wl=null,Ln=null,ke=0,Pn=null,ua=null,ha=0,ch=0,uh=null,zm=null,_r=0,hh=null;function li(){if((Pt&2)!==0&&Dt!==0)return Dt&-Dt;if(L.T!==null){var i=Zs;return i!==0?i:bh()}return ig()}function Vm(){xi===0&&(xi=(Dt&536870912)===0||Lt?Zf():536870912);var i=vi.current;return i!==null&&(i.flags|=32),xi}function ci(i,s,o){(i===Gt&&(Ot===2||Ot===9)||i.cancelPendingCommit!==null)&&(da(i,0),On(i,Dt,xi,!1)),Ga(i,o),((Pt&2)===0||i!==Gt)&&(i===Gt&&((Pt&2)===0&&(fs|=o),ee===4&&On(i,Dt,xi,!1)),Ii(i))}function Hm(i,s,o){if((Pt&6)!==0)throw Error(n(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Ua(i,s),g=u?GA(i,s):gh(i,s,!0),m=u;do{if(g===0){la&&!u&&On(i,s,0,!1);break}else{if(o=i.current.alternate,m&&!HA(o)){g=gh(i,s,!1),m=!1;continue}if(g===2){if(m=s,i.errorRecoveryDisabledLanes&m)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var E=i;g=Tr;var R=E.current.memoizedState.isDehydrated;if(R&&(da(E,A).flags|=256),A=gh(E,A,!1),A!==2){if(ah&&!R){E.errorRecoveryDisabledLanes|=m,fs|=m,g=4;break t}m=Qe,Qe=g,m!==null&&(Qe===null?Qe=m:Qe.push.apply(Qe,m))}g=A}if(m=!1,g!==2)continue}}if(g===1){da(i,0),On(i,s,0,!0);break}t:{switch(u=i,m=g,m){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:On(u,s,xi,!Dn);break t;case 2:Qe=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(g=lh+300-Me(),10<g)){if(On(u,s,xi,!Dn),Lo(u,0,!0)!==0)break t;u.timeoutHandle=y0(Um.bind(null,u,o,Qe,wl,oh,s,xi,fs,ca,Dn,m,2,-0,0),g);break t}Um(u,o,Qe,wl,oh,s,xi,fs,ca,Dn,m,0,-0,0)}}break}while(!0);Ii(i)}function Um(i,s,o,u,g,m,A,E,R,z,G,K,V,H){if(i.timeoutHandle=-1,K=s.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Lr={stylesheets:null,count:0,unsuspend:Sw},jm(s),K=Tw(),K!==null)){i.cancelPendingCommit=K(Wm.bind(null,i,s,m,o,u,g,A,E,R,G,1,V,H)),On(i,m,A,!z);return}Wm(i,s,m,o,u,g,A,E,R)}function HA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],m=g.getSnapshot;g=g.value;try{if(!ni(m(),g))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function On(i,s,o,u){s&=~rh,s&=~fs,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var m=31-Jt(g),A=1<<m;u[m]=-1,g&=~A}o!==0&&tg(i,o,s)}function Sl(){return(Pt&6)===0?(Cr(0),!1):!0}function dh(){if(Tt!==null){if(Ot===0)var i=Tt.return;else i=Tt,nn=os=null,Ru(i),sa=null,yr=0,i=Tt;for(;i!==null;)wm(i.alternate,i),i=i.return;Tt=null}}function da(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,rw(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),dh(),Gt=i,Tt=o=Ji(i.current,null),Dt=s,Ot=0,oi=null,Dn=!1,la=Ua(i,s),ah=!1,ca=xi=rh=fs=Nn=ee=0,Qe=Tr=null,oh=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-Jt(u),m=1<<g;s|=i[g],u&=~m}return hn=s,qo(),o}function Gm(i,s){St=null,L.H=ul,s===lr||s===tl?(s=op(),Ot=3):s===sp?(s=op(),Ot=4):Ot=s===lm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,oi=s,Tt===null&&(ee=1,pl(i,pi(s,i.current)))}function qm(){var i=L.H;return L.H=ul,i===null?ul:i}function Xm(){var i=L.A;return L.A=zA,i}function fh(){ee=4,Dn||(Dt&4194048)!==Dt&&vi.current!==null||(la=!0),(Nn&134217727)===0&&(fs&134217727)===0||Gt===null||On(Gt,Dt,xi,!1)}function gh(i,s,o){var u=Pt;Pt|=2;var g=qm(),m=Xm();(Gt!==i||Dt!==s)&&(wl=null,da(i,s)),s=!1;var A=ee;t:do try{if(Ot!==0&&Tt!==null){var E=Tt,R=oi;switch(Ot){case 8:dh(),A=6;break t;case 3:case 2:case 9:case 6:vi.current===null&&(s=!0);var z=Ot;if(Ot=0,oi=null,fa(i,E,R,z),o&&la){A=0;break t}break;default:z=Ot,Ot=0,oi=null,fa(i,E,R,z)}}UA(),A=ee;break}catch(G){Gm(i,G)}while(!0);return s&&i.shellSuspendCounter++,nn=os=null,Pt=u,L.H=g,L.A=m,Tt===null&&(Gt=null,Dt=0,qo()),A}function UA(){for(;Tt!==null;)Ym(Tt)}function GA(i,s){var o=Pt;Pt|=2;var u=qm(),g=Xm();Gt!==i||Dt!==s?(wl=null,Al=Me()+500,da(i,s)):la=Ua(i,s);t:do try{if(Ot!==0&&Tt!==null){s=Tt;var m=oi;e:switch(Ot){case 1:Ot=0,oi=null,fa(i,s,m,1);break;case 2:case 9:if(ap(m)){Ot=0,oi=null,$m(s);break}s=function(){Ot!==2&&Ot!==9||Gt!==i||(Ot=7),Ii(i)},m.then(s,s);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:ap(m)?(Ot=0,oi=null,$m(s)):(Ot=0,oi=null,fa(i,s,m,7));break;case 5:var A=null;switch(Tt.tag){case 26:A=Tt.memoizedState;case 5:case 27:var E=Tt;if(!A||R0(A)){Ot=0,oi=null;var R=E.sibling;if(R!==null)Tt=R;else{var z=E.return;z!==null?(Tt=z,El(z)):Tt=null}break e}}Ot=0,oi=null,fa(i,s,m,5);break;case 6:Ot=0,oi=null,fa(i,s,m,6);break;case 8:dh(),ee=6;break t;default:throw Error(n(462))}}qA();break}catch(G){Gm(i,G)}while(!0);return nn=os=null,L.H=u,L.A=g,Pt=o,Tt!==null?0:(Gt=null,Dt=0,qo(),ee)}function qA(){for(;Tt!==null&&!ne();)Ym(Tt)}function Ym(i){var s=xm(i.alternate,i,hn);i.memoizedProps=i.pendingProps,s===null?El(i):Tt=s}function $m(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=gm(o,s,s.pendingProps,s.type,void 0,Dt);break;case 11:s=gm(o,s,s.pendingProps,s.type.render,s.ref,Dt);break;case 5:Ru(s);default:wm(o,s),s=Tt=Kg(s,hn),s=xm(o,s,hn)}i.memoizedProps=i.pendingProps,s===null?El(i):Tt=s}function fa(i,s,o,u){nn=os=null,Ru(s),sa=null,yr=0;var g=s.return;try{if(PA(i,g,s,o,Dt)){ee=1,pl(i,pi(o,i.current)),Tt=null;return}}catch(m){if(g!==null)throw Tt=g,m;ee=1,pl(i,pi(o,i.current)),Tt=null;return}s.flags&32768?(Lt||u===1?i=!0:la||(Dt&536870912)!==0?i=!1:(Dn=i=!0,(u===2||u===9||u===3||u===6)&&(u=vi.current,u!==null&&u.tag===13&&(u.flags|=16384))),Km(s,i)):El(s)}function El(i){var s=i;do{if((s.flags&32768)!==0){Km(s,Dn);return}i=s.return;var o=jA(s.alternate,s,hn);if(o!==null){Tt=o;return}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=i}while(s!==null);ee===0&&(ee=5)}function Km(i,s){do{var o=BA(i.alternate,i);if(o!==null){o.flags&=32767,Tt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Tt=i;return}Tt=i=o}while(i!==null);ee=6,Tt=null}function Wm(i,s,o,u,g,m,A,E,R){i.cancelPendingCommit=null;do Tl();while(ke!==0);if((Pt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(m=s.lanes|s.childLanes,m|=su,Sx(i,o,m,A,E,R),i===Gt&&(Tt=Gt=null,Dt=0),ua=s,Pn=i,ha=o,ch=m,uh=g,zm=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,KA(Wi,function(){return e0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,g=I.p,I.p=2,A=Pt,Pt|=4;try{IA(i,s,o)}finally{Pt=A,I.p=g,L.T=u}}ke=1,Qm(),Zm(),Jm()}}function Qm(){if(ke===1){ke=0;var i=Pn,s=ua,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var u=I.p;I.p=2;var g=Pt;Pt|=4;try{Lm(s,i);var m=_h,A=Fg(i.containerInfo),E=m.focusedElem,R=m.selectionRange;if(A!==E&&E&&E.ownerDocument&&Ig(E.ownerDocument.documentElement,E)){if(R!==null&&Jc(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,V=K&&K.defaultView||window;if(V.getSelection){var H=V.getSelection(),mt=E.textContent.length,ht=Math.min(R.start,mt),Ft=R.end===void 0?ht:Math.min(R.end,mt);!H.extend&&ht>Ft&&(A=Ft,Ft=ht,ht=A);var O=Bg(E,ht),P=Bg(E,Ft);if(O&&P&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==P.node||H.focusOffset!==P.offset)){var F=K.createRange();F.setStart(O.node,O.offset),H.removeAllRanges(),ht>Ft?(H.addRange(F),H.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),H.addRange(F))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var X=K[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Bl=!!Th,_h=Th=null}finally{Pt=g,I.p=u,L.T=o}}i.current=s,ke=2}}function Zm(){if(ke===2){ke=0;var i=Pn,s=ua,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var u=I.p;I.p=2;var g=Pt;Pt|=4;try{Rm(i,s.alternate,s)}finally{Pt=g,I.p=u,L.T=o}}ke=3}}function Jm(){if(ke===4||ke===3){ke=0,fe();var i=Pn,s=ua,o=ha,u=zm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ke=5:(ke=0,ua=Pn=null,t0(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ln=null),Nc(o),s=s.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Wn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=L.T,g=I.p,I.p=2,L.T=null;try{for(var m=i.onRecoverableError,A=0;A<u.length;A++){var E=u[A];m(E.value,{componentStack:E.stack})}}finally{L.T=s,I.p=g}}(ha&3)!==0&&Tl(),Ii(i),g=i.pendingLanes,(o&4194090)!==0&&(g&42)!==0?i===hh?_r++:(_r=0,hh=i):_r=0,Cr(0)}}function t0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,rr(s)))}function Tl(i){return Qm(),Zm(),Jm(),e0()}function e0(){if(ke!==5)return!1;var i=Pn,s=ch;ch=0;var o=Nc(ha),u=L.T,g=I.p;try{I.p=32>o?32:o,L.T=null,o=uh,uh=null;var m=Pn,A=ha;if(ke=0,ua=Pn=null,ha=0,(Pt&6)!==0)throw Error(n(331));var E=Pt;if(Pt|=4,Im(m.current),Om(m,m.current,A,o),Pt=E,Cr(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Wn,m)}catch{}return!0}finally{I.p=g,L.T=u,t0(i,s)}}function i0(i,s,o){s=pi(o,s),s=Uu(i.stateNode,s,2),i=En(i,s,2),i!==null&&(Ga(i,2),Ii(i))}function Ht(i,s,o){if(i.tag===3)i0(i,i,o);else for(;s!==null;){if(s.tag===3){i0(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ln===null||!Ln.has(u))){i=pi(o,i),o=rm(2),u=En(s,o,2),u!==null&&(om(o,u,s,i),Ga(u,2),Ii(u));break}}s=s.return}}function ph(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new VA;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(o)||(ah=!0,g.add(o),i=XA.bind(null,i,s,o),s.then(i,i))}function XA(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Gt===i&&(Dt&o)===o&&(ee===4||ee===3&&(Dt&62914560)===Dt&&300>Me()-lh?(Pt&2)===0&&da(i,0):rh|=o,ca===Dt&&(ca=0)),Ii(i)}function n0(i,s){s===0&&(s=Jf()),i=$s(i,s),i!==null&&(Ga(i,s),Ii(i))}function YA(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),n0(i,o)}function $A(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),n0(i,o)}function KA(i,s){return kt(i,s)}var _l=null,ga=null,mh=!1,Cl=!1,yh=!1,gs=0;function Ii(i){i!==ga&&i.next===null&&(ga===null?_l=ga=i:ga=ga.next=i),Cl=!0,mh||(mh=!0,QA())}function Cr(i,s){if(!yh&&Cl){yh=!0;do for(var o=!1,u=_l;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var m=0;else{var A=u.suspendedLanes,E=u.pingedLanes;m=(1<<31-Jt(42|i)+1)-1,m&=g&~(A&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,o0(u,m))}else m=Dt,m=Lo(u,u===Gt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Ua(u,m)||(o=!0,o0(u,m));u=u.next}while(o);yh=!1}}function WA(){s0()}function s0(){Cl=mh=!1;var i=0;gs!==0&&(aw()&&(i=gs),gs=0);for(var s=Me(),o=null,u=_l;u!==null;){var g=u.next,m=a0(u,s);m===0?(u.next=null,o===null?_l=g:o.next=g,g===null&&(ga=o)):(o=u,(i!==0||(m&3)!==0)&&(Cl=!0)),u=g}Cr(i)}function a0(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var A=31-Jt(m),E=1<<A,R=g[A];R===-1?((E&o)===0||(E&u)!==0)&&(g[A]=wx(E,s)):R<=s&&(i.expiredLanes|=E),m&=~E}if(s=Gt,o=Dt,o=Lo(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Ot===2||Ot===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&jt(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ua(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&jt(u),Nc(o)){case 2:case 8:o=Ro;break;case 32:o=Wi;break;case 268435456:o=ko;break;default:o=Wi}return u=r0.bind(null,i),o=kt(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&jt(u),i.callbackPriority=2,i.callbackNode=null,2}function r0(i,s){if(ke!==0&&ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Tl()&&i.callbackNode!==o)return null;var u=Dt;return u=Lo(i,i===Gt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Hm(i,u,s),a0(i,Me()),i.callbackNode!=null&&i.callbackNode===o?r0.bind(null,i):null)}function o0(i,s){if(Tl())return null;Hm(i,s,!0)}function QA(){ow(function(){(Pt&6)!==0?kt(Ls,WA):s0()})}function bh(){return gs===0&&(gs=Zf()),gs}function l0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Io(""+i)}function c0(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function ZA(i,s,o,u,g){if(s==="submit"&&o&&o.stateNode===g){var m=l0((g[Ye]||null).action),A=u.submitter;A&&(s=(s=A[Ye]||null)?l0(s.formAction):A.getAttribute("formAction"),s!==null&&(m=s,A=null));var E=new Ho("action","action",null,u,g);i.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(gs!==0){var R=A?c0(g,A):new FormData(g);Iu(o,{pending:!0,data:R,method:g.method,action:m},null,R)}}else typeof m=="function"&&(E.preventDefault(),R=A?c0(g,A):new FormData(g),Iu(o,{pending:!0,data:R,method:g.method,action:m},m,R))},currentTarget:g}]})}}for(var vh=0;vh<nu.length;vh++){var xh=nu[vh],JA=xh.toLowerCase(),tw=xh[0].toUpperCase()+xh.slice(1);Mi(JA,"on"+tw)}Mi(Hg,"onAnimationEnd"),Mi(Ug,"onAnimationIteration"),Mi(Gg,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(yA,"onTransitionRun"),Mi(bA,"onTransitionStart"),Mi(vA,"onTransitionCancel"),Mi(qg,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ew=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mr));function u0(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],g=u.event;u=u.listeners;t:{var m=void 0;if(s)for(var A=u.length-1;0<=A;A--){var E=u[A],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==m&&g.isPropagationStopped())break t;m=E,g.currentTarget=z;try{m(g)}catch(G){gl(G)}g.currentTarget=null,m=R}else for(A=0;A<u.length;A++){if(E=u[A],R=E.instance,z=E.currentTarget,E=E.listener,R!==m&&g.isPropagationStopped())break t;m=E,g.currentTarget=z;try{m(g)}catch(G){gl(G)}g.currentTarget=null,m=R}}}}function _t(i,s){var o=s[Lc];o===void 0&&(o=s[Lc]=new Set);var u=i+"__bubble";o.has(u)||(h0(s,i,2,!1),o.add(u))}function Ah(i,s,o){var u=0;s&&(u|=4),h0(o,i,u,s)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function wh(i){if(!i[Ml]){i[Ml]=!0,sg.forEach(function(o){o!=="selectionchange"&&(ew.has(o)||Ah(o,!1,i),Ah(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ml]||(s[Ml]=!0,Ah("selectionchange",!1,s))}}function h0(i,s,o,u){switch(O0(s)){case 2:var g=Mw;break;case 8:g=Rw;break;default:g=jh}o=g.bind(null,s,o,i),g=void 0,!Gc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,o,{capture:!0,passive:g}):i.addEventListener(s,o,!0):g!==void 0?i.addEventListener(s,o,{passive:g}):i.addEventListener(s,o,!1)}function Sh(i,s,o,u,g){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var E=u.stateNode.containerInfo;if(E===g)break;if(A===4)for(A=u.return;A!==null;){var R=A.tag;if((R===3||R===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;E!==null;){if(A=Os(E),A===null)return;if(R=A.tag,R===5||R===6||R===26||R===27){u=m=A;continue t}E=E.parentNode}}u=u.return}bg(function(){var z=m,G=Hc(o),K=[];t:{var V=Xg.get(i);if(V!==void 0){var H=Ho,mt=i;switch(i){case"keypress":if(zo(o)===0)break t;case"keydown":case"keyup":H=Kx;break;case"focusin":mt="focus",H=$c;break;case"focusout":mt="blur",H=$c;break;case"beforeblur":case"afterblur":H=$c;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Zx;break;case Hg:case Ug:case Gg:H=zx;break;case qg:H=tA;break;case"scroll":case"scrollend":H=Ox;break;case"wheel":H=iA;break;case"copy":case"cut":case"paste":H=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Sg;break;case"toggle":case"beforetoggle":H=sA}var ht=(s&4)!==0,Ft=!ht&&(i==="scroll"||i==="scrollend"),O=ht?V!==null?V+"Capture":null:V;ht=[];for(var P=z,F;P!==null;){var X=P;if(F=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||F===null||O===null||(X=Ya(P,O),X!=null&&ht.push(Rr(P,X,F))),Ft)break;P=P.return}0<ht.length&&(V=new H(V,mt,null,o,G),K.push({event:V,listeners:ht}))}}if((s&7)===0){t:{if(V=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",V&&o!==Vc&&(mt=o.relatedTarget||o.fromElement)&&(Os(mt)||mt[Ps]))break t;if((H||V)&&(V=G.window===G?G:(V=G.ownerDocument)?V.defaultView||V.parentWindow:window,H?(mt=o.relatedTarget||o.toElement,H=z,mt=mt?Os(mt):null,mt!==null&&(Ft=l(mt),ht=mt.tag,mt!==Ft||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(H=null,mt=z),H!==mt)){if(ht=Ag,X="onMouseLeave",O="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(ht=Sg,X="onPointerLeave",O="onPointerEnter",P="pointer"),Ft=H==null?V:Xa(H),F=mt==null?V:Xa(mt),V=new ht(X,P+"leave",H,o,G),V.target=Ft,V.relatedTarget=F,X=null,Os(G)===z&&(ht=new ht(O,P+"enter",mt,o,G),ht.target=F,ht.relatedTarget=Ft,X=ht),Ft=X,H&&mt)e:{for(ht=H,O=mt,P=0,F=ht;F;F=pa(F))P++;for(F=0,X=O;X;X=pa(X))F++;for(;0<P-F;)ht=pa(ht),P--;for(;0<F-P;)O=pa(O),F--;for(;P--;){if(ht===O||O!==null&&ht===O.alternate)break e;ht=pa(ht),O=pa(O)}ht=null}else ht=null;H!==null&&d0(K,V,H,ht,!1),mt!==null&&Ft!==null&&d0(K,Ft,mt,ht,!0)}}t:{if(V=z?Xa(z):window,H=V.nodeName&&V.nodeName.toLowerCase(),H==="select"||H==="input"&&V.type==="file")var st=Dg;else if(Rg(V))if(Ng)st=gA;else{st=dA;var Et=hA}else H=V.nodeName,!H||H.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?z&&zc(z.elementType)&&(st=Dg):st=fA;if(st&&(st=st(i,z))){kg(K,st,o,G);break t}Et&&Et(i,V,z),i==="focusout"&&z&&V.type==="number"&&z.memoizedProps.value!=null&&Fc(V,"number",V.value)}switch(Et=z?Xa(z):window,i){case"focusin":(Rg(Et)||Et.contentEditable==="true")&&(qs=Et,tu=z,er=null);break;case"focusout":er=tu=qs=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,zg(K,o,G);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":zg(K,o,G)}var ot;if(Wc)t:{switch(i){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Gs?Cg(i,o)&&(ft="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ft="onCompositionStart");ft&&(Eg&&o.locale!=="ko"&&(Gs||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Gs&&(ot=vg()):(xn=G,qc="value"in xn?xn.value:xn.textContent,Gs=!0)),Et=Rl(z,ft),0<Et.length&&(ft=new wg(ft,i,null,o,G),K.push({event:ft,listeners:Et}),ot?ft.data=ot:(ot=Mg(o),ot!==null&&(ft.data=ot)))),(ot=rA?oA(i,o):lA(i,o))&&(ft=Rl(z,"onBeforeInput"),0<ft.length&&(Et=new wg("onBeforeInput","beforeinput",null,o,G),K.push({event:Et,listeners:ft}),Et.data=ot)),ZA(K,i,z,o,G)}u0(K,s)})}function Rr(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Rl(i,s){for(var o=s+"Capture",u=[];i!==null;){var g=i,m=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=Ya(i,o),g!=null&&u.unshift(Rr(i,g,m)),g=Ya(i,s),g!=null&&u.push(Rr(i,g,m))),i.tag===3)return u;i=i.return}return[]}function pa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function d0(i,s,o,u,g){for(var m=s._reactName,A=[];o!==null&&o!==u;){var E=o,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===u)break;E!==5&&E!==26&&E!==27||z===null||(R=z,g?(z=Ya(o,m),z!=null&&A.unshift(Rr(o,z,R))):g||(z=Ya(o,m),z!=null&&A.push(Rr(o,z,R)))),o=o.return}A.length!==0&&i.push({event:s,listeners:A})}var iw=/\r\n?/g,nw=/\u0000|\uFFFD/g;function f0(i){return(typeof i=="string"?i:""+i).replace(iw,`
`).replace(nw,"")}function g0(i,s){return s=f0(s),f0(i)===s}function kl(){}function It(i,s,o,u,g,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Vs(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Vs(i,""+u);break;case"className":Oo(i,"class",u);break;case"tabIndex":Oo(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Oo(i,o,u);break;case"style":mg(i,u,m);break;case"data":if(s!=="object"){Oo(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Io(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&It(i,s,"name",g.name,g,null),It(i,s,"formEncType",g.formEncType,g,null),It(i,s,"formMethod",g.formMethod,g,null),It(i,s,"formTarget",g.formTarget,g,null)):(It(i,s,"encType",g.encType,g,null),It(i,s,"method",g.method,g,null),It(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Io(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=kl);break;case"onScroll":u!=null&&_t("scroll",i);break;case"onScrollEnd":u!=null&&_t("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Io(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":_t("beforetoggle",i),_t("toggle",i),Po(i,"popover",u);break;case"xlinkActuate":Qi(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qi(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qi(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qi(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qi(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qi(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Po(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lx.get(o)||o,Po(i,o,u))}}function Eh(i,s,o,u,g,m){switch(o){case"style":mg(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Vs(i,u):(typeof u=="number"||typeof u=="bigint")&&Vs(i,""+u);break;case"onScroll":u!=null&&_t("scroll",i);break;case"onScrollEnd":u!=null&&_t("scrollend",i);break;case"onClick":u!=null&&(i.onclick=kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ag.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),s=o.slice(2,g?o.length-7:void 0),m=i[Ye]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(s,m,g),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,g);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Po(i,o,u)}}}function De(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",i),_t("load",i);var u=!1,g=!1,m;for(m in o)if(o.hasOwnProperty(m)){var A=o[m];if(A!=null)switch(m){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:It(i,s,m,A,o,null)}}g&&It(i,s,"srcSet",o.srcSet,o,null),u&&It(i,s,"src",o.src,o,null);return;case"input":_t("invalid",i);var E=m=A=g=null,R=null,z=null;for(u in o)if(o.hasOwnProperty(u)){var G=o[u];if(G!=null)switch(u){case"name":g=G;break;case"type":A=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":m=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,s));break;default:It(i,s,u,G,o,null)}}dg(i,m,E,R,z,A,g,!1),jo(i);return;case"select":_t("invalid",i),u=A=m=null;for(g in o)if(o.hasOwnProperty(g)&&(E=o[g],E!=null))switch(g){case"value":m=E;break;case"defaultValue":A=E;break;case"multiple":u=E;default:It(i,s,g,E,o,null)}s=m,o=A,i.multiple=!!u,s!=null?zs(i,!!u,s,!1):o!=null&&zs(i,!!u,o,!0);return;case"textarea":_t("invalid",i),m=g=u=null;for(A in o)if(o.hasOwnProperty(A)&&(E=o[A],E!=null))switch(A){case"value":u=E;break;case"defaultValue":g=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:It(i,s,A,E,o,null)}gg(i,u,g,m),jo(i);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:It(i,s,R,u,o,null)}return;case"dialog":_t("beforetoggle",i),_t("toggle",i),_t("cancel",i),_t("close",i);break;case"iframe":case"object":_t("load",i);break;case"video":case"audio":for(u=0;u<Mr.length;u++)_t(Mr[u],i);break;case"image":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"embed":case"source":case"link":_t("error",i),_t("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(u=o[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:It(i,s,z,u,o,null)}return;default:if(zc(s)){for(G in o)o.hasOwnProperty(G)&&(u=o[G],u!==void 0&&Eh(i,s,G,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&It(i,s,E,u,o,null))}function sw(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,A=null,E=null,R=null,z=null,G=null;for(H in o){var K=o[H];if(o.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=K;default:u.hasOwnProperty(H)||It(i,s,H,null,u,K)}}for(var V in u){var H=u[V];if(K=o[V],u.hasOwnProperty(V)&&(H!=null||K!=null))switch(V){case"type":m=H;break;case"name":g=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":A=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(137,s));break;default:H!==K&&It(i,s,V,H,u,K)}}Ic(i,A,E,R,z,G,m,g);return;case"select":H=A=E=V=null;for(m in o)if(R=o[m],o.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":H=R;default:u.hasOwnProperty(m)||It(i,s,m,null,u,R)}for(g in u)if(m=u[g],R=o[g],u.hasOwnProperty(g)&&(m!=null||R!=null))switch(g){case"value":V=m;break;case"defaultValue":E=m;break;case"multiple":A=m;default:m!==R&&It(i,s,g,m,u,R)}s=E,o=A,u=H,V!=null?zs(i,!!o,V,!1):!!u!=!!o&&(s!=null?zs(i,!!o,s,!0):zs(i,!!o,o?[]:"",!1));return;case"textarea":H=V=null;for(E in o)if(g=o[E],o.hasOwnProperty(E)&&g!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:It(i,s,E,null,u,g)}for(A in u)if(g=u[A],m=o[A],u.hasOwnProperty(A)&&(g!=null||m!=null))switch(A){case"value":V=g;break;case"defaultValue":H=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==m&&It(i,s,A,g,u,m)}fg(i,V,H);return;case"option":for(var mt in o)if(V=o[mt],o.hasOwnProperty(mt)&&V!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:It(i,s,mt,null,u,V)}for(R in u)if(V=u[R],H=o[R],u.hasOwnProperty(R)&&V!==H&&(V!=null||H!=null))switch(R){case"selected":i.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:It(i,s,R,V,u,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in o)V=o[ht],o.hasOwnProperty(ht)&&V!=null&&!u.hasOwnProperty(ht)&&It(i,s,ht,null,u,V);for(z in u)if(V=u[z],H=o[z],u.hasOwnProperty(z)&&V!==H&&(V!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(137,s));break;default:It(i,s,z,V,u,H)}return;default:if(zc(s)){for(var Ft in o)V=o[Ft],o.hasOwnProperty(Ft)&&V!==void 0&&!u.hasOwnProperty(Ft)&&Eh(i,s,Ft,void 0,u,V);for(G in u)V=u[G],H=o[G],!u.hasOwnProperty(G)||V===H||V===void 0&&H===void 0||Eh(i,s,G,V,u,H);return}}for(var O in o)V=o[O],o.hasOwnProperty(O)&&V!=null&&!u.hasOwnProperty(O)&&It(i,s,O,null,u,V);for(K in u)V=u[K],H=o[K],!u.hasOwnProperty(K)||V===H||V==null&&H==null||It(i,s,K,V,u,H)}var Th=null,_h=null;function Dl(i){return i.nodeType===9?i:i.ownerDocument}function p0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ch(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Mh=null;function aw(){var i=window.event;return i&&i.type==="popstate"?i===Mh?!1:(Mh=i,!0):(Mh=null,!1)}var y0=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(i){return b0.resolve(null).then(i).catch(lw)}:y0;function lw(i){setTimeout(function(){throw i})}function jn(i){return i==="head"}function v0(i,s){var o=s,u=0,g=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var A=i.ownerDocument;if(o&1&&kr(A.documentElement),o&2&&kr(A.body),o&4)for(o=A.head,kr(o),A=o.firstChild;A;){var E=A.nextSibling,R=A.nodeName;A[qa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&A.rel.toLowerCase()==="stylesheet"||o.removeChild(A),A=E}}if(g===0){i.removeChild(m),Ir(s);return}g--}else o==="$"||o==="$?"||o==="$!"?g++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);Ir(s)}function Rh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rh(o),Pc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function cw(i,s,o,u){for(;i.nodeType===1;){var g=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[qa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=ki(i.nextSibling),i===null)break}return null}function uw(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ki(i.nextSibling),i===null))return null;return i}function kh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function hw(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ki(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Dh=null;function x0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function A0(i,s,o){switch(s=Dl(o),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function kr(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Pc(i)}var Ai=new Map,w0=new Set;function Nl(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var dn=I.d;I.d={f:dw,r:fw,D:gw,C:pw,L:mw,m:yw,X:vw,S:bw,M:xw};function dw(){var i=dn.f(),s=Sl();return i||s}function fw(i){var s=js(i);s!==null&&s.tag===5&&s.type==="form"?Hp(s):dn.r(i)}var ma=typeof document>"u"?null:document;function S0(i,s,o){var u=ma;if(u&&typeof s=="string"&&s){var g=gi(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),w0.has(g)||(w0.add(g),i={rel:i,crossOrigin:o,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),De(s,"link",i),we(s),u.head.appendChild(s)))}}function gw(i){dn.D(i),S0("dns-prefetch",i,null)}function pw(i,s){dn.C(i,s),S0("preconnect",i,s)}function mw(i,s,o){dn.L(i,s,o);var u=ma;if(u&&i&&s){var g='link[rel="preload"][as="'+gi(s)+'"]';s==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+gi(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+gi(o.imageSizes)+'"]')):g+='[href="'+gi(i)+'"]';var m=g;switch(s){case"style":m=ya(i);break;case"script":m=ba(i)}Ai.has(m)||(i=p({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Ai.set(m,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(Dr(m))||s==="script"&&u.querySelector(Nr(m))||(s=u.createElement("link"),De(s,"link",i),we(s),u.head.appendChild(s)))}}function yw(i,s){dn.m(i,s);var o=ma;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+gi(u)+'"][href="'+gi(i)+'"]',m=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ba(i)}if(!Ai.has(m)&&(i=p({rel:"modulepreload",href:i},s),Ai.set(m,i),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Nr(m)))return}u=o.createElement("link"),De(u,"link",i),we(u),o.head.appendChild(u)}}}function bw(i,s,o){dn.S(i,s,o);var u=ma;if(u&&i){var g=Bs(u).hoistableStyles,m=ya(i);s=s||"default";var A=g.get(m);if(!A){var E={loading:0,preload:null};if(A=u.querySelector(Dr(m)))E.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Ai.get(m))&&Nh(i,o);var R=A=u.createElement("link");we(R),De(R,"link",i),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ll(A,s,u)}A={type:"stylesheet",instance:A,count:1,state:E},g.set(m,A)}}}function vw(i,s){dn.X(i,s);var o=ma;if(o&&i){var u=Bs(o).hoistableScripts,g=ba(i),m=u.get(g);m||(m=o.querySelector(Nr(g)),m||(i=p({src:i,async:!0},s),(s=Ai.get(g))&&Lh(i,s),m=o.createElement("script"),we(m),De(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(g,m))}}function xw(i,s){dn.M(i,s);var o=ma;if(o&&i){var u=Bs(o).hoistableScripts,g=ba(i),m=u.get(g);m||(m=o.querySelector(Nr(g)),m||(i=p({src:i,async:!0,type:"module"},s),(s=Ai.get(g))&&Lh(i,s),m=o.createElement("script"),we(m),De(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(g,m))}}function E0(i,s,o,u){var g=(g=at.current)?Nl(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ya(o.href),o=Bs(g).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ya(o.href);var m=Bs(g).hoistableStyles,A=m.get(i);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,A),(m=g.querySelector(Dr(i)))&&!m._p&&(A.instance=m,A.state.loading=5),Ai.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ai.set(i,o),m||Aw(g,i,o,A.state))),s&&u===null)throw Error(n(528,""));return A}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ba(o),o=Bs(g).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function ya(i){return'href="'+gi(i)+'"'}function Dr(i){return'link[rel="stylesheet"]['+i+"]"}function T0(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function Aw(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),De(s,"link",o),we(s),i.head.appendChild(s))}function ba(i){return'[src="'+gi(i)+'"]'}function Nr(i){return"script[async]"+i}function _0(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+gi(o.href)+'"]');if(u)return s.instance=u,we(u),u;var g=p({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),we(u),De(u,"style",g),Ll(u,o.precedence,i),s.instance=u;case"stylesheet":g=ya(o.href);var m=i.querySelector(Dr(g));if(m)return s.state.loading|=4,s.instance=m,we(m),m;u=T0(o),(g=Ai.get(g))&&Nh(u,g),m=(i.ownerDocument||i).createElement("link"),we(m);var A=m;return A._p=new Promise(function(E,R){A.onload=E,A.onerror=R}),De(m,"link",u),s.state.loading|=4,Ll(m,o.precedence,i),s.instance=m;case"script":return m=ba(o.src),(g=i.querySelector(Nr(m)))?(s.instance=g,we(g),g):(u=o,(g=Ai.get(m))&&(u=p({},o),Lh(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),we(g),De(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Ll(u,o.precedence,i));return s.instance}function Ll(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,m=g,A=0;A<u.length;A++){var E=u[A];if(E.dataset.precedence===s)m=E;else if(m!==g)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Nh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Lh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Pl=null;function C0(i,s,o){if(Pl===null){var u=new Map,g=Pl=new Map;g.set(o,u)}else g=Pl,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),g=0;g<o.length;g++){var m=o[g];if(!(m[qa]||m[Pe]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(s)||"";A=i+A;var E=u.get(A);E?E.push(m):u.set(A,[m])}}return u}function M0(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function ww(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function R0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Lr=null;function Sw(){}function Ew(i,s,o){if(Lr===null)throw Error(n(475));var u=Lr;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var g=ya(o.href),m=i.querySelector(Dr(g));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Ol.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=m,we(m);return}m=i.ownerDocument||i,o=T0(o),(g=Ai.get(g))&&Nh(o,g),m=m.createElement("link"),we(m);var A=m;A._p=new Promise(function(E,R){A.onload=E,A.onerror=R}),De(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Ol.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function Tw(){if(Lr===null)throw Error(n(475));var i=Lr;return i.stylesheets&&i.count===0&&Ph(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Ph(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Ol(){if(this.count--,this.count===0){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var jl=null;function Ph(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,jl=new Map,s.forEach(_w,i),jl=null,Ol.call(i))}function _w(i,s){if(!(s.state.loading&4)){var o=jl.get(i);if(o)var u=o.get(null);else{o=new Map,jl.set(i,o);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var A=g[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),u=A)}u&&o.set(null,u)}g=s.instance,A=g.getAttribute("data-precedence"),m=o.get(A)||u,m===u&&o.set(null,g),o.set(A,g),this.count++,u=Ol.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),m?m.parentNode.insertBefore(g,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Pr={$$typeof:C,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function Cw(i,s,o,u,g,m,A,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.hiddenUpdates=kc(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function k0(i,s,o,u,g,m,A,E,R,z,G,K){return i=new Cw(i,s,o,A,E,R,z,K),s=1,m===!0&&(s|=24),m=si(3,null,null,s),i.current=m,m.stateNode=i,s=pu(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},vu(m),i}function D0(i){return i?(i=Ks,i):Ks}function N0(i,s,o,u,g,m){g=D0(g),u.context===null?u.context=g:u.pendingContext=g,u=Sn(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=En(i,u,s),o!==null&&(ci(o,i,s),ur(o,i,s))}function L0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Oh(i,s){L0(i,s),(i=i.alternate)&&L0(i,s)}function P0(i){if(i.tag===13){var s=$s(i,67108864);s!==null&&ci(s,i,67108864),Oh(i,67108864)}}var Bl=!0;function Mw(i,s,o,u){var g=L.T;L.T=null;var m=I.p;try{I.p=2,jh(i,s,o,u)}finally{I.p=m,L.T=g}}function Rw(i,s,o,u){var g=L.T;L.T=null;var m=I.p;try{I.p=8,jh(i,s,o,u)}finally{I.p=m,L.T=g}}function jh(i,s,o,u){if(Bl){var g=Bh(u);if(g===null)Sh(i,s,u,Il,o),j0(i,u);else if(Dw(g,i,s,o,u))u.stopPropagation();else if(j0(i,u),s&4&&-1<kw.indexOf(i)){for(;g!==null;){var m=js(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=Qn(m.pendingLanes);if(A!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;A;){var R=1<<31-Jt(A);E.entanglements[1]|=R,A&=~R}Ii(m),(Pt&6)===0&&(Al=Me()+500,Cr(0))}}break;case 13:E=$s(m,2),E!==null&&ci(E,m,2),Sl(),Oh(m,2)}if(m=Bh(u),m===null&&Sh(i,s,u,Il,o),m===g)break;g=m}g!==null&&u.stopPropagation()}else Sh(i,s,u,null,o)}}function Bh(i){return i=Hc(i),Ih(i)}var Il=null;function Ih(i){if(Il=null,i=Os(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Il=i,null}function O0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kn()){case Ls:return 2;case Ro:return 8;case Wi:case Cc:return 32;case ko:return 268435456;default:return 32}default:return 32}}var Fh=!1,Bn=null,In=null,Fn=null,Or=new Map,jr=new Map,zn=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(i,s){switch(i){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Or.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(s.pointerId)}}function Br(i,s,o,u,g,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[g]},s!==null&&(s=js(s),s!==null&&P0(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function Dw(i,s,o,u,g){switch(s){case"focusin":return Bn=Br(Bn,i,s,o,u,g),!0;case"dragenter":return In=Br(In,i,s,o,u,g),!0;case"mouseover":return Fn=Br(Fn,i,s,o,u,g),!0;case"pointerover":var m=g.pointerId;return Or.set(m,Br(Or.get(m)||null,i,s,o,u,g)),!0;case"gotpointercapture":return m=g.pointerId,jr.set(m,Br(jr.get(m)||null,i,s,o,u,g)),!0}return!1}function B0(i){var s=Os(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Ex(i.priority,function(){if(o.tag===13){var u=li();u=Dc(u);var g=$s(o,u);g!==null&&ci(g,o,u),Oh(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fl(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Bh(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Vc=u,o.target.dispatchEvent(u),Vc=null}else return s=js(o),s!==null&&P0(s),i.blockedOn=o,!1;s.shift()}return!0}function I0(i,s,o){Fl(i)&&o.delete(s)}function Nw(){Fh=!1,Bn!==null&&Fl(Bn)&&(Bn=null),In!==null&&Fl(In)&&(In=null),Fn!==null&&Fl(Fn)&&(Fn=null),Or.forEach(I0),jr.forEach(I0)}function zl(i,s){i.blockedOn===s&&(i.blockedOn=null,Fh||(Fh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Nw)))}var Vl=null;function F0(i){Vl!==i&&(Vl=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vl===i&&(Vl=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if(Ih(u||o)===null)continue;break}var m=js(o);m!==null&&(i.splice(s,3),s-=3,Iu(m,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function Ir(i){function s(R){return zl(R,i)}Bn!==null&&zl(Bn,i),In!==null&&zl(In,i),Fn!==null&&zl(Fn,i),Or.forEach(s),jr.forEach(s);for(var o=0;o<zn.length;o++){var u=zn[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<zn.length&&(o=zn[0],o.blockedOn===null);)B0(o),o.blockedOn===null&&zn.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],m=o[u+1],A=g[Ye]||null;if(typeof m=="function")A||F0(o);else if(A){var E=null;if(m&&m.hasAttribute("formAction")){if(g=m,A=m[Ye]||null)E=A.formAction;else if(Ih(g)!==null)continue}else E=A.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),F0(o)}}}function zh(i){this._internalRoot=i}Hl.prototype.render=zh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var o=s.current,u=li();N0(o,u,i,s,null,null)},Hl.prototype.unmount=zh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;N0(i.current,2,null,i,null,null),Sl(),s[Ps]=null}};function Hl(i){this._internalRoot=i}Hl.prototype.unstable_scheduleHydration=function(i){if(i){var s=ig();i={blockedOn:null,target:i,priority:s};for(var o=0;o<zn.length&&s!==0&&s<zn[o].priority;o++);zn.splice(o,0,i),o===0&&B0(i)}};var z0=t.version;if(z0!=="19.1.1")throw Error(n(527,z0,"19.1.1"));I.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(s),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var Lw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Wn=Ul.inject(Lw),Zt=Ul}catch{}}return zr.createRoot=function(i,s){if(!r(i))throw Error(n(299));var o=!1,u="",g=im,m=nm,A=sm,E=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=k0(i,1,!1,null,null,o,u,g,m,A,E,null),i[Ps]=s.current,wh(i),new zh(s)},zr.hydrateRoot=function(i,s,o){if(!r(i))throw Error(n(299));var u=!1,g="",m=im,A=nm,E=sm,R=null,z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(R=o.unstable_transitionCallbacks),o.formState!==void 0&&(z=o.formState)),s=k0(i,1,!0,s,o??null,u,g,m,A,E,R,z),s.context=D0(null),o=s.current,u=li(),u=Dc(u),g=Sn(u),g.callback=null,En(o,g,u),o=u,s.current.lanes=o,Ga(s,o),Ii(s),i[Ps]=s.current,wh(i),new Hl(s)},zr.version="19.1.1",zr}var Z0;function Gw(){if(Z0)return Gh.exports;Z0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Gh.exports=Uw(),Gh.exports}var qw=Gw();const Xw=Wd(qw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$w=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),J0=a=>{const t=$w(a);return t.charAt(0).toUpperCase()+t.slice(1)},qb=(...a)=>a.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),Kw=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Y.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:l,iconNode:c,...h},d)=>Y.createElement("svg",{ref:d,...Ww,width:t,height:t,stroke:a,strokeWidth:n?Number(e)*24/Number(t):e,className:qb("lucide",r),...!l&&!Kw(h)&&{"aria-hidden":"true"},...h},[...c.map(([f,p])=>Y.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(a,t)=>{const e=Y.forwardRef(({className:n,...r},l)=>Y.createElement(Qw,{ref:l,iconNode:t,className:qb(`lucide-${Yw(J0(a))}`,`lucide-${a}`,n),...r}));return e.displayName=J0(a),e};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Jw=he("car",Zw);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xb=he("chevron-left",tS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yb=he("chevron-right",eS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],nS=he("code-xml",iS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],aS=he("database",sS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],oS=he("dumbbell",rS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],bd=he("external-link",lS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uS=he("file-text",cS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],dS=he("gamepad-2",hS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],gS=he("github",fS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mS=he("globe",pS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],bS=he("linkedin",yS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],xS=he("moon",vS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],wS=he("pause",AS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ES=he("play",SS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],_S=he("puzzle",TS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],MS=he("server",CS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kS=he("sun",RS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],NS=he("terminal",DS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],PS=he("wrench",LS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jS=he("x",OS);function ty(){const[a,t]=Y.useState(!1),e=()=>{const n=document.documentElement.classList.toggle("dark");t(n);try{localStorage.setItem("theme",n?"dark":"light")}catch{}};return Y.useEffect(()=>{try{const n=localStorage.getItem("theme"),r=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,l=n?n==="dark":r;document.documentElement.classList.toggle("dark",l),t(l)}catch{}},[]),S.jsxs("button",{onClick:e,className:`group inline-flex items-center gap-2 rounded-full border border-gray-200 dark:border-gray-700 
                 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300
                 bg-white/80 dark:bg-gray-800/80 backdrop-blur hover:bg-gray-50 dark:hover:bg-gray-700/80
                 hover:border-gray-300 dark:hover:border-gray-600
                 hover:scale-105 transition-all duration-300 shadow-sm hover:shadow-md`,"aria-label":"Toggle theme",children:[a?S.jsx(kS,{size:16,className:"group-hover:rotate-180 transition-transform duration-300"}):S.jsx(xS,{size:16,className:"group-hover:rotate-12 transition-transform duration-300"}),a?"Light":"Dark"]})}function BS(){return S.jsx("header",{className:`sticky top-0 z-50 border-b border-gray-200/50 dark:border-gray-700/50
                       bg-white/80 dark:bg-neutral-950/80 backdrop-blur-xl shadow-sm`,children:S.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[S.jsx("a",{href:"#",className:"group font-display text-xl font-bold transition-all duration-300 hover:scale-105",children:S.jsx("span",{className:`bg-gradient-to-r from-indigo-500 to-fuchsia-500 bg-clip-text text-transparent
                          group-hover:from-indigo-600 group-hover:to-fuchsia-600 transition-all duration-300`,children:"Ali Younes"})}),S.jsxs("nav",{className:"hidden sm:flex items-center gap-8 text-sm",children:[S.jsxs("a",{href:"#about",className:`relative font-medium text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 
                       transition-colors duration-300 group`,children:["About",S.jsx("span",{className:`absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-500 to-fuchsia-500 
                            group-hover:w-full transition-all duration-300`})]}),S.jsxs("a",{href:"#projects",className:`relative font-medium text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 
                       transition-colors duration-300 group`,children:["Projects",S.jsx("span",{className:`absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-500 to-fuchsia-500 
                            group-hover:w-full transition-all duration-300`})]}),S.jsxs("a",{href:"#resume",className:`relative font-medium text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 
                       transition-colors duration-300 group`,children:["Resume",S.jsx("span",{className:`absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-500 to-fuchsia-500 
                            group-hover:w-full transition-all duration-300`})]}),S.jsxs("a",{href:"#contact",className:`relative font-medium text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 
                       transition-colors duration-300 group`,children:["Contact",S.jsx("span",{className:`absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-500 to-fuchsia-500 
                            group-hover:w-full transition-all duration-300`})]}),S.jsx("div",{className:"ml-2",children:S.jsx(ty,{})})]}),S.jsx("div",{className:"sm:hidden",children:S.jsx(ty,{})})]})})}const $b=Y.createContext({});function IS(a){const t=Y.useRef(null);return t.current===null&&(t.current=a()),t.current}const Zd=typeof window<"u",FS=Zd?Y.useLayoutEffect:Y.useEffect,Jd=Y.createContext(null);function tf(a,t){a.indexOf(t)===-1&&a.push(t)}function ef(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}const pn=(a,t,e)=>e>t?t:e<a?a:e;let nf=()=>{};const mn={},Kb=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function Wb(a){return typeof a=="object"&&a!==null}const Qb=a=>/^0[^.\s]+$/u.test(a);function sf(a){let t;return()=>(t===void 0&&(t=a()),t)}const _i=a=>a,zS=(a,t)=>e=>t(a(e)),mo=(...a)=>a.reduce(zS),no=(a,t,e)=>{const n=t-a;return n===0?1:(e-a)/n};class af{constructor(){this.subscriptions=[]}add(t){return tf(this.subscriptions,t),()=>ef(this.subscriptions,t)}notify(t,e,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,e,n);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yi=a=>a*1e3,$i=a=>a/1e3;function Zb(a,t){return t?a*(1e3/t):0}const Jb=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,VS=1e-7,HS=12;function US(a,t,e,n,r){let l,c,h=0;do c=t+(e-t)/2,l=Jb(c,n,r)-a,l>0?e=c:t=c;while(Math.abs(l)>VS&&++h<HS);return c}function yo(a,t,e,n){if(a===t&&e===n)return _i;const r=l=>US(l,0,1,a,e);return l=>l===0||l===1?l:Jb(r(l),t,n)}const tv=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,ev=a=>t=>1-a(1-t),iv=yo(.33,1.53,.69,.99),rf=ev(iv),nv=tv(rf),sv=a=>(a*=2)<1?.5*rf(a):.5*(2-Math.pow(2,-10*(a-1))),of=a=>1-Math.sin(Math.acos(a)),av=ev(of),rv=tv(of),GS=yo(.42,0,1,1),qS=yo(0,0,.58,1),ov=yo(.42,0,.58,1),XS=a=>Array.isArray(a)&&typeof a[0]!="number",lv=a=>Array.isArray(a)&&typeof a[0]=="number",YS={linear:_i,easeIn:GS,easeInOut:ov,easeOut:qS,circIn:of,circInOut:rv,circOut:av,backIn:rf,backInOut:nv,backOut:iv,anticipate:sv},$S=a=>typeof a=="string",ey=a=>{if(lv(a)){nf(a.length===4);const[t,e,n,r]=a;return yo(t,e,n,r)}else if($S(a))return YS[a];return a},Gl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KS(a,t){let e=new Set,n=new Set,r=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(p){c.has(p)&&(f.schedule(p),a()),p(h)}const f={schedule:(p,y=!1,b=!1)=>{const x=b&&r?e:n;return y&&c.add(p),x.has(p)||x.add(p),p},cancel:p=>{n.delete(p),c.delete(p)},process:p=>{if(h=p,r){l=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,l&&(l=!1,f.process(p))}};return f}const WS=40;function cv(a,t){let e=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,c=Gl.reduce((C,N)=>(C[N]=KS(l),C),{}),{setup:h,read:d,resolveKeyframes:f,preUpdate:p,update:y,preRender:b,render:v,postRender:x}=c,w=()=>{const C=mn.useManualTiming?r.timestamp:performance.now();e=!1,mn.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(C-r.timestamp,WS),1)),r.timestamp=C,r.isProcessing=!0,h.process(r),d.process(r),f.process(r),p.process(r),y.process(r),b.process(r),v.process(r),x.process(r),r.isProcessing=!1,e&&t&&(n=!1,a(w))},T=()=>{e=!0,n=!0,r.isProcessing||a(w)};return{schedule:Gl.reduce((C,N)=>{const M=c[N];return C[N]=(j,B=!1,U=!1)=>(e||T(),M.schedule(j,B,U)),C},{}),cancel:C=>{for(let N=0;N<Gl.length;N++)c[Gl[N]].cancel(C)},state:r,steps:c}}const{schedule:$t,cancel:qn,state:Ne,steps:$h}=cv(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0);let tc;function QS(){tc=void 0}const ei={now:()=>(tc===void 0&&ei.set(Ne.isProcessing||mn.useManualTiming?Ne.timestamp:performance.now()),tc),set:a=>{tc=a,queueMicrotask(QS)}},uv=a=>t=>typeof t=="string"&&t.startsWith(a),lf=uv("--"),ZS=uv("var(--"),cf=a=>ZS(a)?JS.test(a.split("/*")[0].trim()):!1,JS=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ba={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},so={...Ba,transform:a=>pn(0,1,a)},ql={...Ba,default:1},Wr=a=>Math.round(a*1e5)/1e5,uf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function t2(a){return a==null}const e2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hf=(a,t)=>e=>!!(typeof e=="string"&&e2.test(e)&&e.startsWith(a)||t&&!t2(e)&&Object.prototype.hasOwnProperty.call(e,t)),hv=(a,t,e)=>n=>{if(typeof n!="string")return n;const[r,l,c,h]=n.match(uf);return{[a]:parseFloat(r),[t]:parseFloat(l),[e]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},i2=a=>pn(0,255,a),Kh={...Ba,transform:a=>Math.round(i2(a))},vs={test:hf("rgb","red"),parse:hv("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:n=1})=>"rgba("+Kh.transform(a)+", "+Kh.transform(t)+", "+Kh.transform(e)+", "+Wr(so.transform(n))+")"};function n2(a){let t="",e="",n="",r="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),n=a.substring(5,7),r=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),n=a.substring(3,4),r=a.substring(4,5),t+=t,e+=e,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const vd={test:hf("#"),parse:n2,transform:vs.transform},bo=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),Hn=bo("deg"),Ki=bo("%"),yt=bo("px"),s2=bo("vh"),a2=bo("vw"),iy={...Ki,parse:a=>Ki.parse(a)/100,transform:a=>Ki.transform(a*100)},Aa={test:hf("hsl","hue"),parse:hv("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(a)+", "+Ki.transform(Wr(t))+", "+Ki.transform(Wr(e))+", "+Wr(so.transform(n))+")"},ye={test:a=>vs.test(a)||vd.test(a)||Aa.test(a),parse:a=>vs.test(a)?vs.parse(a):Aa.test(a)?Aa.parse(a):vd.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?vs.transform(a):Aa.transform(a),getAnimatableNone:a=>{const t=ye.parse(a);return t.alpha=0,ye.transform(t)}},r2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o2(a){return isNaN(a)&&typeof a=="string"&&(a.match(uf)?.length||0)+(a.match(r2)?.length||0)>0}const dv="number",fv="color",l2="var",c2="var(",ny="${}",u2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ao(a){const t=a.toString(),e=[],n={color:[],number:[],var:[]},r=[];let l=0;const h=t.replace(u2,d=>(ye.test(d)?(n.color.push(l),r.push(fv),e.push(ye.parse(d))):d.startsWith(c2)?(n.var.push(l),r.push(l2),e.push(d)):(n.number.push(l),r.push(dv),e.push(parseFloat(d))),++l,ny)).split(ny);return{values:e,split:h,indexes:n,types:r}}function gv(a){return ao(a).values}function pv(a){const{split:t,types:e}=ao(a),n=t.length;return r=>{let l="";for(let c=0;c<n;c++)if(l+=t[c],r[c]!==void 0){const h=e[c];h===dv?l+=Wr(r[c]):h===fv?l+=ye.transform(r[c]):l+=r[c]}return l}}const h2=a=>typeof a=="number"?0:ye.test(a)?ye.getAnimatableNone(a):a;function d2(a){const t=gv(a);return pv(a)(t.map(h2))}const Xn={test:o2,parse:gv,createTransformer:pv,getAnimatableNone:d2};function Wh(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function f2({hue:a,saturation:t,lightness:e,alpha:n}){a/=360,t/=100,e/=100;let r=0,l=0,c=0;if(!t)r=l=c=e;else{const h=e<.5?e*(1+t):e+t-e*t,d=2*e-h;r=Wh(d,h,a+1/3),l=Wh(d,h,a),c=Wh(d,h,a-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function rc(a,t){return e=>e>0?t:a}const Qt=(a,t,e)=>a+(t-a)*e,Qh=(a,t,e)=>{const n=a*a,r=e*(t*t-n)+n;return r<0?0:Math.sqrt(r)},g2=[vd,vs,Aa],p2=a=>g2.find(t=>t.test(a));function sy(a){const t=p2(a);if(!t)return!1;let e=t.parse(a);return t===Aa&&(e=f2(e)),e}const ay=(a,t)=>{const e=sy(a),n=sy(t);if(!e||!n)return rc(a,t);const r={...e};return l=>(r.red=Qh(e.red,n.red,l),r.green=Qh(e.green,n.green,l),r.blue=Qh(e.blue,n.blue,l),r.alpha=Qt(e.alpha,n.alpha,l),vs.transform(r))},xd=new Set(["none","hidden"]);function m2(a,t){return xd.has(a)?e=>e<=0?a:t:e=>e>=1?t:a}function y2(a,t){return e=>Qt(a,t,e)}function df(a){return typeof a=="number"?y2:typeof a=="string"?cf(a)?rc:ye.test(a)?ay:x2:Array.isArray(a)?mv:typeof a=="object"?ye.test(a)?ay:b2:rc}function mv(a,t){const e=[...a],n=e.length,r=a.map((l,c)=>df(l)(l,t[c]));return l=>{for(let c=0;c<n;c++)e[c]=r[c](l);return e}}function b2(a,t){const e={...a,...t},n={};for(const r in e)a[r]!==void 0&&t[r]!==void 0&&(n[r]=df(a[r])(a[r],t[r]));return r=>{for(const l in n)e[l]=n[l](r);return e}}function v2(a,t){const e=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const l=t.types[r],c=a.indexes[l][n[l]],h=a.values[c]??0;e[r]=h,n[l]++}return e}const x2=(a,t)=>{const e=Xn.createTransformer(t),n=ao(a),r=ao(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?xd.has(a)&&!r.values.length||xd.has(t)&&!n.values.length?m2(a,t):mo(mv(v2(n,r),r.values),e):rc(a,t)};function yv(a,t,e){return typeof a=="number"&&typeof t=="number"&&typeof e=="number"?Qt(a,t,e):df(a)(a,t)}const A2=a=>{const t=({timestamp:e})=>a(e);return{start:(e=!0)=>$t.update(t,e),stop:()=>qn(t),now:()=>Ne.isProcessing?Ne.timestamp:ei.now()}},bv=(a,t,e=10)=>{let n="";const r=Math.max(Math.round(t/e),2);for(let l=0;l<r;l++)n+=Math.round(a(l/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},oc=2e4;function ff(a){let t=0;const e=50;let n=a.next(t);for(;!n.done&&t<oc;)t+=e,n=a.next(t);return t>=oc?1/0:t}function w2(a,t=100,e){const n=e({...a,keyframes:[0,t]}),r=Math.min(ff(n),oc);return{type:"keyframes",ease:l=>n.next(r*l).value/t,duration:$i(r)}}const S2=5;function vv(a,t,e){const n=Math.max(t-S2,0);return Zb(e-a(n),t-n)}const ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zh=.001;function E2({duration:a=ie.duration,bounce:t=ie.bounce,velocity:e=ie.velocity,mass:n=ie.mass}){let r,l,c=1-t;c=pn(ie.minDamping,ie.maxDamping,c),a=pn(ie.minDuration,ie.maxDuration,$i(a)),c<1?(r=f=>{const p=f*c,y=p*a,b=p-e,v=Ad(f,c),x=Math.exp(-y);return Zh-b/v*x},l=f=>{const y=f*c*a,b=y*e+e,v=Math.pow(c,2)*Math.pow(f,2)*a,x=Math.exp(-y),w=Ad(Math.pow(f,2),c);return(-r(f)+Zh>0?-1:1)*((b-v)*x)/w}):(r=f=>{const p=Math.exp(-f*a),y=(f-e)*a+1;return-Zh+p*y},l=f=>{const p=Math.exp(-f*a),y=(e-f)*(a*a);return p*y});const h=5/a,d=_2(r,l,h);if(a=Yi(a),isNaN(d))return{stiffness:ie.stiffness,damping:ie.damping,duration:a};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:c*2*Math.sqrt(n*f),duration:a}}}const T2=12;function _2(a,t,e){let n=e;for(let r=1;r<T2;r++)n=n-a(n)/t(n);return n}function Ad(a,t){return a*Math.sqrt(1-t*t)}const C2=["duration","bounce"],M2=["stiffness","damping","mass"];function ry(a,t){return t.some(e=>a[e]!==void 0)}function R2(a){let t={velocity:ie.velocity,stiffness:ie.stiffness,damping:ie.damping,mass:ie.mass,isResolvedFromDuration:!1,...a};if(!ry(a,M2)&&ry(a,C2))if(a.visualDuration){const e=a.visualDuration,n=2*Math.PI/(e*1.2),r=n*n,l=2*pn(.05,1,1-(a.bounce||0))*Math.sqrt(r);t={...t,mass:ie.mass,stiffness:r,damping:l}}else{const e=E2(a);t={...t,...e,mass:ie.mass},t.isResolvedFromDuration=!0}return t}function lc(a=ie.visualDuration,t=ie.bounce){const e=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:n,restDelta:r}=e;const l=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:f,mass:p,duration:y,velocity:b,isResolvedFromDuration:v}=R2({...e,velocity:-$i(e.velocity||0)}),x=b||0,w=f/(2*Math.sqrt(d*p)),T=c-l,_=$i(Math.sqrt(d/p)),k=Math.abs(T)<5;n||(n=k?ie.restSpeed.granular:ie.restSpeed.default),r||(r=k?ie.restDelta.granular:ie.restDelta.default);let C;if(w<1){const M=Ad(_,w);C=j=>{const B=Math.exp(-w*_*j);return c-B*((x+w*_*T)/M*Math.sin(M*j)+T*Math.cos(M*j))}}else if(w===1)C=M=>c-Math.exp(-_*M)*(T+(x+_*T)*M);else{const M=_*Math.sqrt(w*w-1);C=j=>{const B=Math.exp(-w*_*j),U=Math.min(M*j,300);return c-B*((x+w*_*T)*Math.sinh(U)+M*T*Math.cosh(U))/M}}const N={calculatedDuration:v&&y||null,next:M=>{const j=C(M);if(v)h.done=M>=y;else{let B=M===0?x:0;w<1&&(B=M===0?Yi(x):vv(C,M,j));const U=Math.abs(B)<=n,$=Math.abs(c-j)<=r;h.done=U&&$}return h.value=h.done?c:j,h},toString:()=>{const M=Math.min(ff(N),oc),j=bv(B=>N.next(M*B).value,M,30);return M+"ms "+j},toTransition:()=>{}};return N}lc.applyToOptions=a=>{const t=w2(a,100,lc);return a.ease=t.ease,a.duration=Yi(t.duration),a.type="keyframes",a};function wd({keyframes:a,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:f=.5,restSpeed:p}){const y=a[0],b={done:!1,value:y},v=U=>h!==void 0&&U<h||d!==void 0&&U>d,x=U=>h===void 0?d:d===void 0||Math.abs(h-U)<Math.abs(d-U)?h:d;let w=e*t;const T=y+w,_=c===void 0?T:c(T);_!==T&&(w=_-y);const k=U=>-w*Math.exp(-U/n),C=U=>_+k(U),N=U=>{const $=k(U),Q=C(U);b.done=Math.abs($)<=f,b.value=b.done?_:Q};let M,j;const B=U=>{v(b.value)&&(M=U,j=lc({keyframes:[b.value,x(b.value)],velocity:vv(C,U,b.value),damping:r,stiffness:l,restDelta:f,restSpeed:p}))};return B(0),{calculatedDuration:null,next:U=>{let $=!1;return!j&&M===void 0&&($=!0,N(U),B(U)),M!==void 0&&U>=M?j.next(U-M):(!$&&N(U),b)}}}function k2(a,t,e){const n=[],r=e||mn.mix||yv,l=a.length-1;for(let c=0;c<l;c++){let h=r(a[c],a[c+1]);if(t){const d=Array.isArray(t)?t[c]||_i:t;h=mo(d,h)}n.push(h)}return n}function D2(a,t,{clamp:e=!0,ease:n,mixer:r}={}){const l=a.length;if(nf(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=a[0]===a[1];a[0]>a[l-1]&&(a=[...a].reverse(),t=[...t].reverse());const h=k2(t,n,r),d=h.length,f=p=>{if(c&&p<a[0])return t[0];let y=0;if(d>1)for(;y<a.length-2&&!(p<a[y+1]);y++);const b=no(a[y],a[y+1],p);return h[y](b)};return e?p=>f(pn(a[0],a[l-1],p)):f}function N2(a,t){const e=a[a.length-1];for(let n=1;n<=t;n++){const r=no(0,t,n);a.push(Qt(e,1,r))}}function L2(a){const t=[0];return N2(t,a.length-1),t}function P2(a,t){return a.map(e=>e*t)}function O2(a,t){return a.map(()=>t||ov).splice(0,a.length-1)}function Qr({duration:a=300,keyframes:t,times:e,ease:n="easeInOut"}){const r=XS(n)?n.map(ey):ey(n),l={done:!1,value:t[0]},c=P2(e&&e.length===t.length?e:L2(t),a),h=D2(c,t,{ease:Array.isArray(r)?r:O2(t,r)});return{calculatedDuration:a,next:d=>(l.value=h(d),l.done=d>=a,l)}}const j2=a=>a!==null;function gf(a,{repeat:t,repeatType:e="loop"},n,r=1){const l=a.filter(j2),h=r<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||n===void 0?l[h]:n}const B2={decay:wd,inertia:wd,tween:Qr,keyframes:Qr,spring:lc};function xv(a){typeof a.type=="string"&&(a.type=B2[a.type])}class pf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const I2=a=>a/100;class mf extends pf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==ei.now()&&this.tick(ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xv(t);const{type:e=Qr,repeat:n=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=t;let{keyframes:h}=t;const d=e||Qr;d!==Qr&&typeof h[0]!="number"&&(this.mixKeyframes=mo(I2,yv(h[0],h[1])),h=[0,100]);const f=d({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...h].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=ff(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=f}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:n,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:p,repeat:y,repeatType:b,repeatDelay:v,type:x,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const _=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?_<0:_>r;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,N=n;if(y){const U=Math.min(this.currentTime,r)/h;let $=Math.floor(U),Q=U%1;!Q&&U>=1&&(Q=1),Q===1&&$--,$=Math.min($,y+1),!!($%2)&&(b==="reverse"?(Q=1-Q,v&&(Q-=v/h)):b==="mirror"&&(N=c)),C=pn(0,1,Q)*h}const M=k?{done:!1,value:p[0]}:N.next(C);l&&(M.value=l(M.value));let{done:j}=M;!k&&d!==null&&(j=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return B&&x!==wd&&(M.value=gf(p,this.options,T,this.speed)),w&&w(M.value),B&&this.finish(),M}then(t,e){return this.finished.then(t,e)}get duration(){return $i(this.calculatedDuration)}get time(){return $i(this.currentTime)}set time(t){t=Yi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ei.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=$i(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=A2,startTime:e}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=e??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function F2(a){for(let t=1;t<a.length;t++)a[t]??(a[t]=a[t-1])}const xs=a=>a*180/Math.PI,Sd=a=>{const t=xs(Math.atan2(a[1],a[0]));return Ed(t)},z2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Sd,rotateZ:Sd,skewX:a=>xs(Math.atan(a[1])),skewY:a=>xs(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Ed=a=>(a=a%360,a<0&&(a+=360),a),oy=Sd,ly=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),cy=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),V2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ly,scaleY:cy,scale:a=>(ly(a)+cy(a))/2,rotateX:a=>Ed(xs(Math.atan2(a[6],a[5]))),rotateY:a=>Ed(xs(Math.atan2(-a[2],a[0]))),rotateZ:oy,rotate:oy,skewX:a=>xs(Math.atan(a[4])),skewY:a=>xs(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Td(a){return a.includes("scale")?1:0}function _d(a,t){if(!a||a==="none")return Td(t);const e=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(e)n=V2,r=e;else{const h=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=z2,r=h}if(!r)return Td(t);const l=n[t],c=r[1].split(",").map(U2);return typeof l=="function"?l(c):c[l]}const H2=(a,t)=>{const{transform:e="none"}=getComputedStyle(a);return _d(e,t)};function U2(a){return parseFloat(a.trim())}const Ia=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fa=new Set(Ia),uy=a=>a===Ba||a===yt,G2=new Set(["x","y","z"]),q2=Ia.filter(a=>!G2.has(a));function X2(a){const t=[];return q2.forEach(e=>{const n=a.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const Ts={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>_d(t,"x"),y:(a,{transform:t})=>_d(t,"y")};Ts.translateX=Ts.x;Ts.translateY=Ts.y;const _s=new Set;let Cd=!1,Md=!1,Rd=!1;function Av(){if(Md){const a=Array.from(_s).filter(n=>n.needsMeasurement),t=new Set(a.map(n=>n.element)),e=new Map;t.forEach(n=>{const r=X2(n);r.length&&(e.set(n,r),n.render())}),a.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=e.get(n);r&&r.forEach(([l,c])=>{n.getValue(l)?.set(c)})}),a.forEach(n=>n.measureEndState()),a.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Md=!1,Cd=!1,_s.forEach(a=>a.complete(Rd)),_s.clear()}function wv(){_s.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Md=!0)})}function Y2(){Rd=!0,wv(),Av(),Rd=!1}class yf{constructor(t,e,n,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(_s.add(this),Cd||(Cd=!0,$t.read(wv),$t.resolveKeyframes(Av))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:r}=this;if(t[0]===null){const l=r?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(n&&e){const h=n.readValue(e,c);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=c),r&&l===void 0&&r.set(t[0])}F2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),_s.delete(this)}cancel(){this.state==="scheduled"&&(_s.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $2=a=>a.startsWith("--");function K2(a,t,e){$2(t)?a.style.setProperty(t,e):a.style[t]=e}const W2=sf(()=>window.ScrollTimeline!==void 0),Q2={};function Z2(a,t){const e=sf(a);return()=>Q2[t]??e()}const Sv=Z2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xr=([a,t,e,n])=>`cubic-bezier(${a}, ${t}, ${e}, ${n})`,hy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xr([0,.65,.55,1]),circOut:Xr([.55,0,1,.45]),backIn:Xr([.31,.01,.66,-.59]),backOut:Xr([.33,1.53,.69,.99])};function Ev(a,t){if(a)return typeof a=="function"?Sv()?bv(a,t):"ease-out":lv(a)?Xr(a):Array.isArray(a)?a.map(e=>Ev(e,t)||hy.easeOut):hy[a]}function J2(a,t,e,{delay:n=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},f=void 0){const p={[t]:e};d&&(p.offset=d);const y=Ev(h,r);Array.isArray(y)&&(p.easing=y);const b={delay:n,duration:r,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),a.animate(p,b)}function Tv(a){return typeof a=="function"&&"applyToOptions"in a}function tE({type:a,...t}){return Tv(a)&&Sv()?a.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eE extends pf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:e,name:n,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,nf(typeof t.type!="string");const f=tE(t);this.animation=J2(e,n,r,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=gf(r,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(p):K2(e,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return $i(Number(t))}get time(){return $i(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Yi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&W2()?(this.animation.timeline=t,_i):e(this)}}const _v={anticipate:sv,backInOut:nv,circInOut:rv};function iE(a){return a in _v}function nE(a){typeof a.ease=="string"&&iE(a.ease)&&(a.ease=_v[a.ease])}const dy=10;class sE extends eE{constructor(t){nE(t),xv(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:n,onComplete:r,element:l,...c}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new mf({...c,autoplay:!1}),d=Yi(this.finishedTime??this.time);e.setWithVelocity(h.sample(d-dy).value,h.sample(d).value,dy),h.stop()}}const fy=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Xn.test(a)||a==="0")&&!a.startsWith("url("));function aE(a){const t=a[0];if(a.length===1)return!0;for(let e=0;e<a.length;e++)if(a[e]!==t)return!0}function rE(a,t,e,n){const r=a[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const l=a[a.length-1],c=fy(r,t),h=fy(l,t);return!c||!h?!1:aE(a)||(e==="spring"||Tv(e))&&n}function kd(a){a.duration=0,a.type}const oE=new Set(["opacity","clipPath","filter","transform"]),lE=sf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cE(a){const{motionValue:t,name:e,repeatDelay:n,repeatType:r,damping:l,type:c}=a;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return lE()&&e&&oE.has(e)&&(e!=="transform"||!f)&&!d&&!n&&r!=="mirror"&&l!==0&&c!=="inertia"}const uE=40;class hE extends pf{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:f,element:p,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ei.now();const b={autoplay:t,delay:e,type:n,repeat:r,repeatDelay:l,repeatType:c,name:d,motionValue:f,element:p,...y},v=p?.KeyframeResolver||yf;this.keyframeResolver=new v(h,(x,w,T)=>this.onKeyframesResolved(x,w,b,!T),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,n,r){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:f,onUpdate:p}=n;this.resolvedAt=ei.now(),rE(t,l,c,h)||((mn.instantAnimations||!d)&&p?.(gf(t,n,e)),t[0]=t[t.length-1],kd(n),n.repeat=0);const b={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>uE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...n,keyframes:t},v=!f&&cE(b)?new sE({...b,element:b.motionValue.owner.current}):new mf(b);v.finished.then(()=>this.notifyFinished()).catch(_i),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Y2()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fE(a){const t=dE.exec(a);if(!t)return[,];const[,e,n,r]=t;return[`--${e??n}`,r]}function Cv(a,t,e=1){const[n,r]=fE(a);if(!n)return;const l=window.getComputedStyle(t).getPropertyValue(n);if(l){const c=l.trim();return Kb(c)?parseFloat(c):c}return cf(r)?Cv(r,t,e+1):r}function bf(a,t){return a?.[t]??a?.default??a}const Mv=new Set(["width","height","top","left","right","bottom",...Ia]),gE={test:a=>a==="auto",parse:a=>a},Rv=a=>t=>t.test(a),kv=[Ba,yt,Ki,Hn,a2,s2,gE],gy=a=>kv.find(Rv(a));function pE(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Qb(a):!0}const mE=new Set(["brightness","contrast","saturate","opacity"]);function yE(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[n]=e.match(uf)||[];if(!n)return a;const r=e.replace(n,"");let l=mE.has(t)?1:0;return n!==e&&(l*=100),t+"("+l+r+")"}const bE=/\b([a-z-]*)\(.*?\)/gu,Dd={...Xn,getAnimatableNone:a=>{const t=a.match(bE);return t?t.map(yE).join(" "):a}},py={...Ba,transform:Math.round},vE={rotate:Hn,rotateX:Hn,rotateY:Hn,rotateZ:Hn,scale:ql,scaleX:ql,scaleY:ql,scaleZ:ql,skew:Hn,skewX:Hn,skewY:Hn,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:so,originX:iy,originY:iy,originZ:yt},vf={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,radius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,backgroundPositionX:yt,backgroundPositionY:yt,...vE,zIndex:py,fillOpacity:so,strokeOpacity:so,numOctaves:py},xE={...vf,color:ye,backgroundColor:ye,outlineColor:ye,fill:ye,stroke:ye,borderColor:ye,borderTopColor:ye,borderRightColor:ye,borderBottomColor:ye,borderLeftColor:ye,filter:Dd,WebkitFilter:Dd},Dv=a=>xE[a];function Nv(a,t){let e=Dv(a);return e!==Dd&&(e=Xn),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const AE=new Set(["auto","none","0"]);function wE(a,t,e){let n=0,r;for(;n<a.length&&!r;){const l=a[n];typeof l=="string"&&!AE.has(l)&&ao(l).values.length&&(r=a[n]),n++}if(r&&e)for(const l of t)a[l]=Nv(e,r)}class SE extends yf{constructor(t,e,n,r,l){super(t,e,n,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),cf(f))){const p=Cv(f,e.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Mv.has(n)||t.length!==2)return;const[r,l]=t,c=gy(r),h=gy(l);if(c!==h)if(uy(c)&&uy(h))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Ts[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||pE(t[r]))&&n.push(r);n.length&&wE(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ts[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const r=e[e.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(e);r&&r.jump(this.measuredOrigin,!1);const l=n.length-1,c=n[l];n[l]=Ts[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{t.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function EE(a,t,e){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let n=document;const r=e?.[a]??n.querySelectorAll(a);return r?Array.from(r):[]}return Array.from(a)}const Lv=(a,t)=>t&&typeof a=="number"?t.transform(a):a;function TE(a){return Wb(a)&&"offsetHeight"in a}const my=30,_E=a=>!isNaN(parseFloat(a));class CE{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=ei.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=ei.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_E(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new af);const n=this.events[t].add(e);return t==="change"?()=>{n(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>my)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,my);return Zb(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(a,t){return new CE(a,t)}const{schedule:xf}=cv(queueMicrotask,!1),Di={x:!1,y:!1};function Pv(){return Di.x||Di.y}function ME(a){return a==="x"||a==="y"?Di[a]?null:(Di[a]=!0,()=>{Di[a]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}function Ov(a,t){const e=EE(a),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[e,r,()=>n.abort()]}function yy(a){return!(a.pointerType==="touch"||Pv())}function RE(a,t,e={}){const[n,r,l]=Ov(a,e),c=h=>{if(!yy(h))return;const{target:d}=h,f=t(d,h);if(typeof f!="function"||!d)return;const p=y=>{yy(y)&&(f(y),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,r)};return n.forEach(h=>{h.addEventListener("pointerenter",c,r)}),l}const jv=(a,t)=>t?a===t?!0:jv(a,t.parentElement):!1,Af=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,kE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DE(a){return kE.has(a.tagName)||a.tabIndex!==-1}const ec=new WeakSet;function by(a){return t=>{t.key==="Enter"&&a(t)}}function Jh(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const NE=(a,t)=>{const e=a.currentTarget;if(!e)return;const n=by(()=>{if(ec.has(e))return;Jh(e,"down");const r=by(()=>{Jh(e,"up")}),l=()=>Jh(e,"cancel");e.addEventListener("keyup",r,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",n,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",n),t)};function vy(a){return Af(a)&&!Pv()}function LE(a,t,e={}){const[n,r,l]=Ov(a,e),c=h=>{const d=h.currentTarget;if(!vy(h))return;ec.add(d);const f=t(d,h),p=(v,x)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),ec.has(d)&&ec.delete(d),vy(v)&&typeof f=="function"&&f(v,{success:x})},y=v=>{p(v,d===window||d===document||e.useGlobalTarget||jv(d,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",b,r)};return n.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",c,r),TE(h)&&(h.addEventListener("focus",f=>NE(f,r)),!DE(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Bv(a){return Wb(a)&&"ownerSVGElement"in a}function PE(a){return Bv(a)&&a.tagName==="svg"}const ze=a=>!!(a&&a.getVelocity),OE=[...kv,ye,Xn],jE=a=>OE.find(Rv(a)),Iv=Y.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function BE(a=!0){const t=Y.useContext(Jd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,l=Y.useId();Y.useEffect(()=>{if(a)return r(l)},[a]);const c=Y.useCallback(()=>a&&n&&n(l),[l,n,a]);return!e&&n?[!1,c]:[!0]}const Fv=Y.createContext({strict:!1}),xy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pa={};for(const a in xy)Pa[a]={isEnabled:t=>xy[a].some(e=>!!t[e])};function IE(a){for(const t in a)Pa[t]={...Pa[t],...a[t]}}const FE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cc(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||FE.has(a)}let zv=a=>!cc(a);function zE(a){typeof a=="function"&&(zv=t=>t.startsWith("on")?!cc(t):a(t))}try{zE(require("@emotion/is-prop-valid").default)}catch{}function VE(a,t,e){const n={};for(const r in a)r==="values"&&typeof a.values=="object"||(zv(r)||e===!0&&cc(r)||!t&&!cc(r)||a.draggable&&r.startsWith("onDrag"))&&(n[r]=a[r]);return n}const gc=Y.createContext({});function pc(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function ro(a){return typeof a=="string"||Array.isArray(a)}const wf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sf=["initial",...wf];function mc(a){return pc(a.animate)||Sf.some(t=>ro(a[t]))}function Vv(a){return!!(mc(a)||a.variants)}function HE(a,t){if(mc(a)){const{initial:e,animate:n}=a;return{initial:e===!1||ro(e)?e:void 0,animate:ro(n)?n:void 0}}return a.inherit!==!1?t:{}}function UE(a){const{initial:t,animate:e}=HE(a,Y.useContext(gc));return Y.useMemo(()=>({initial:t,animate:e}),[Ay(t),Ay(e)])}function Ay(a){return Array.isArray(a)?a.join(" "):a}const oo={};function GE(a){for(const t in a)oo[t]=a[t],lf(t)&&(oo[t].isCSSVariable=!0)}function Hv(a,{layout:t,layoutId:e}){return Fa.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!oo[a]||a==="opacity")}const qE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XE=Ia.length;function YE(a,t,e){let n="",r=!0;for(let l=0;l<XE;l++){const c=Ia[l],h=a[c];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(c.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||e){const f=Lv(h,vf[c]);if(!d){r=!1;const p=qE[c]||c;n+=`${p}(${f}) `}e&&(t[c]=f)}}return n=n.trim(),e?n=e(t,r?"":n):r&&(n="none"),n}function Ef(a,t,e){const{style:n,vars:r,transformOrigin:l}=a;let c=!1,h=!1;for(const d in t){const f=t[d];if(Fa.has(d)){c=!0;continue}else if(lf(d)){r[d]=f;continue}else{const p=Lv(f,vf[d]);d.startsWith("origin")?(h=!0,l[d]=p):n[d]=p}}if(t.transform||(c||e?n.transform=YE(t,a.transform,e):n.transform&&(n.transform="none")),h){const{originX:d="50%",originY:f="50%",originZ:p=0}=l;n.transformOrigin=`${d} ${f} ${p}`}}const Tf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uv(a,t,e){for(const n in t)!ze(t[n])&&!Hv(n,e)&&(a[n]=t[n])}function $E({transformTemplate:a},t){return Y.useMemo(()=>{const e=Tf();return Ef(e,t,a),Object.assign({},e.vars,e.style)},[t])}function KE(a,t){const e=a.style||{},n={};return Uv(n,e,a),Object.assign(n,$E(a,t)),n}function WE(a,t){const e={},n=KE(a,t);return a.drag&&a.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(e.tabIndex=0),e.style=n,e}const QE={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZE={offset:"strokeDashoffset",array:"strokeDasharray"};function JE(a,t,e=1,n=0,r=!0){a.pathLength=1;const l=r?QE:ZE;a[l.offset]=yt.transform(-n);const c=yt.transform(t),h=yt.transform(e);a[l.array]=`${c} ${h}`}function Gv(a,{attrX:t,attrY:e,attrScale:n,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...h},d,f,p){if(Ef(a,h,f),d){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:y,style:b}=a;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),n!==void 0&&(y.scale=n),r!==void 0&&JE(y,r,l,c,!1)}const qv=()=>({...Tf(),attrs:{}}),Xv=a=>typeof a=="string"&&a.toLowerCase()==="svg";function tT(a,t,e,n){const r=Y.useMemo(()=>{const l=qv();return Gv(l,t,Xv(n),a.transformTemplate,a.style),{...l.attrs,style:{...l.style}}},[t]);if(a.style){const l={};Uv(l,a.style,a),r.style={...l,...r.style}}return r}const eT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _f(a){return typeof a!="string"||a.includes("-")?!1:!!(eT.indexOf(a)>-1||/[A-Z]/u.test(a))}function iT(a,t,e,{latestValues:n},r,l=!1){const h=(_f(a)?tT:WE)(t,n,r,a),d=VE(t,typeof a=="string",l),f=a!==Y.Fragment?{...d,...h,ref:e}:{},{children:p}=t,y=Y.useMemo(()=>ze(p)?p.get():p,[p]);return Y.createElement(a,{...f,children:y})}function wy(a){const t=[{},{}];return a?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Cf(a,t,e,n){if(typeof t=="function"){const[r,l]=wy(n);t=t(e!==void 0?e:a.custom,r,l)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[r,l]=wy(n);t=t(e!==void 0?e:a.custom,r,l)}return t}function ic(a){return ze(a)?a.get():a}function nT({scrapeMotionValuesFromProps:a,createRenderState:t},e,n,r){return{latestValues:sT(e,n,r,a),renderState:t()}}function sT(a,t,e,n){const r={},l=n(a,{});for(const b in l)r[b]=ic(l[b]);let{initial:c,animate:h}=a;const d=mc(a),f=Vv(a);t&&f&&!d&&a.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let p=e?e.initial===!1:!1;p=p||c===!1;const y=p?h:c;if(y&&typeof y!="boolean"&&!pc(y)){const b=Array.isArray(y)?y:[y];for(let v=0;v<b.length;v++){const x=Cf(a,b[v]);if(x){const{transitionEnd:w,transition:T,..._}=x;for(const k in _){let C=_[k];if(Array.isArray(C)){const N=p?C.length-1:0;C=C[N]}C!==null&&(r[k]=C)}for(const k in w)r[k]=w[k]}}}return r}const Yv=a=>(t,e)=>{const n=Y.useContext(gc),r=Y.useContext(Jd),l=()=>nT(a,t,n,r);return e?l():IS(l)};function Mf(a,t,e){const{style:n}=a,r={};for(const l in n)(ze(n[l])||t.style&&ze(t.style[l])||Hv(l,a)||e?.getValue(l)?.liveStyle!==void 0)&&(r[l]=n[l]);return r}const aT=Yv({scrapeMotionValuesFromProps:Mf,createRenderState:Tf});function $v(a,t,e){const n=Mf(a,t,e);for(const r in a)if(ze(a[r])||ze(t[r])){const l=Ia.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[l]=a[r]}return n}const rT=Yv({scrapeMotionValuesFromProps:$v,createRenderState:qv}),oT=Symbol.for("motionComponentSymbol");function wa(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function lT(a,t,e){return Y.useCallback(n=>{n&&a.onMount&&a.onMount(n),t&&(n?t.mount(n):t.unmount()),e&&(typeof e=="function"?e(n):wa(e)&&(e.current=n))},[t])}const Rf=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cT="framerAppearId",Kv="data-"+Rf(cT),Wv=Y.createContext({});function uT(a,t,e,n,r){const{visualElement:l}=Y.useContext(gc),c=Y.useContext(Fv),h=Y.useContext(Jd),d=Y.useContext(Iv).reducedMotion,f=Y.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(a,{visualState:t,parent:l,props:e,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,y=Y.useContext(Wv);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&hT(f.current,e,r,y);const b=Y.useRef(!1);Y.useInsertionEffect(()=>{p&&b.current&&p.update(e,h)});const v=e[Kv],x=Y.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return FS(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),x.current&&p.animationState&&p.animationState.animateChanges())}),Y.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),x.current=!1),p.enteringChildren=void 0)}),p}function hT(a,t,e,n){const{layoutId:r,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=t;a.projection=new e(a.latestValues,t["data-framer-portal-id"]?void 0:Qv(a.parent)),a.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||h&&wa(h),visualElement:a,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:f})}function Qv(a){if(a)return a.options.allowProjection!==!1?a.projection:Qv(a.parent)}function td(a,{forwardMotionProps:t=!1}={},e,n){e&&IE(e);const r=_f(a)?rT:aT;function l(h,d){let f;const p={...Y.useContext(Iv),...h,layoutId:dT(h)},{isStatic:y}=p,b=UE(h),v=r(h,y);if(!y&&Zd){fT();const x=gT(p);f=x.MeasureLayout,b.visualElement=uT(a,v,p,n,x.ProjectionNode)}return S.jsxs(gc.Provider,{value:b,children:[f&&b.visualElement?S.jsx(f,{visualElement:b.visualElement,...p}):null,iT(a,h,lT(v,b.visualElement,d),v,y,t)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=Y.forwardRef(l);return c[oT]=a,c}function dT({layoutId:a}){const t=Y.useContext($b).id;return t&&a!==void 0?t+"-"+a:a}function fT(a,t){Y.useContext(Fv).strict}function gT(a){const{drag:t,layout:e}=Pa;if(!t&&!e)return{};const n={...t,...e};return{MeasureLayout:t?.isEnabled(a)||e?.isEnabled(a)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function pT(a,t){if(typeof Proxy>"u")return td;const e=new Map,n=(l,c)=>td(l,c,a,t),r=(l,c)=>n(l,c);return new Proxy(r,{get:(l,c)=>c==="create"?n:(e.has(c)||e.set(c,td(c,void 0,a,t)),e.get(c))})}function Zv({top:a,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:a,max:n}}}function mT({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function yT(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),n=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function ed(a){return a===void 0||a===1}function Nd({scale:a,scaleX:t,scaleY:e}){return!ed(a)||!ed(t)||!ed(e)}function ys(a){return Nd(a)||Jv(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function Jv(a){return Sy(a.x)||Sy(a.y)}function Sy(a){return a&&a!=="0%"}function uc(a,t,e){const n=a-e,r=t*n;return e+r}function Ey(a,t,e,n,r){return r!==void 0&&(a=uc(a,r,n)),uc(a,e,n)+t}function Ld(a,t=0,e=1,n,r){a.min=Ey(a.min,t,e,n,r),a.max=Ey(a.max,t,e,n,r)}function t1(a,{x:t,y:e}){Ld(a.x,t.translate,t.scale,t.originPoint),Ld(a.y,e.translate,e.scale,e.originPoint)}const Ty=.999999999999,_y=1.0000000000001;function bT(a,t,e,n=!1){const r=e.length;if(!r)return;t.x=t.y=1;let l,c;for(let h=0;h<r;h++){l=e[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ea(a,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,t1(a,c)),n&&ys(l.latestValues)&&Ea(a,l.latestValues))}t.x<_y&&t.x>Ty&&(t.x=1),t.y<_y&&t.y>Ty&&(t.y=1)}function Sa(a,t){a.min=a.min+t,a.max=a.max+t}function Cy(a,t,e,n,r=.5){const l=Qt(a.min,a.max,r);Ld(a,t,e,l,n)}function Ea(a,t){Cy(a.x,t.x,t.scaleX,t.scale,t.originX),Cy(a.y,t.y,t.scaleY,t.scale,t.originY)}function e1(a,t){return Zv(yT(a.getBoundingClientRect(),t))}function vT(a,t,e){const n=e1(a,e),{scroll:r}=t;return r&&(Sa(n.x,r.offset.x),Sa(n.y,r.offset.y)),n}const My=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ta=()=>({x:My(),y:My()}),Ry=()=>({min:0,max:0}),le=()=>({x:Ry(),y:Ry()}),Pd={current:null},i1={current:!1};function xT(){if(i1.current=!0,!!Zd)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pd.current=a.matches;a.addEventListener("change",t),t()}else Pd.current=!1}const AT=new WeakMap;function wT(a,t,e){for(const n in t){const r=t[n],l=e[n];if(ze(r))a.addValue(n,r);else if(ze(l))a.addValue(n,La(r,{owner:a}));else if(l!==r)if(a.hasValue(n)){const c=a.getValue(n);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=a.getStaticValue(n);a.addValue(n,La(c!==void 0?c:r,{owner:a}))}}for(const n in e)t[n]===void 0&&a.removeValue(n);return t}const ky=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ST{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ei.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,$t.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=mc(e),this.isVariantNode=Vv(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(e,{},this);for(const b in y){const v=y[b];d[b]!==void 0&&ze(v)&&v.set(d[b])}}mount(t){this.current=t,AT.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),i1.current||xT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),qn(this.notifyUpdate),qn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Fa.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&$t.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{r(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Pa){const e=Pa[t];if(!e)continue;const{isEnabled:n,Feature:r}=e;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<ky.length;n++){const r=ky[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=t[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=wT(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=La(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Kb(n)||Qb(n))?n=parseFloat(n):!jE(n)&&Xn.test(e)&&(n=Nv(t,e)),this.setBaseTarget(t,ze(n)?n.get():n)),ze(n)?n.get():n}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let n;if(typeof e=="string"||typeof e=="object"){const l=Cf(this.props,e,this.presenceContext?.custom);l&&(n=l[t])}if(e&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!ze(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new af),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){xf.render(this.render)}}class n1 extends ST{constructor(){super(...arguments),this.KeyframeResolver=SE}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ze(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function s1(a,{style:t,vars:e},n,r){const l=a.style;let c;for(c in t)l[c]=t[c];r?.applyProjectionStyles(l,n);for(c in e)l.setProperty(c,e[c])}function ET(a){return window.getComputedStyle(a)}class TT extends n1{constructor(){super(...arguments),this.type="html",this.renderInstance=s1}readValueFromInstance(t,e){if(Fa.has(e))return this.projection?.isProjecting?Td(e):H2(t,e);{const n=ET(t),r=(lf(e)?n.getPropertyValue(e):n[e])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:e}){return e1(t,e)}build(t,e,n){Ef(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return Mf(t,e,n)}}const a1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _T(a,t,e,n){s1(a,t,void 0,n);for(const r in t.attrs)a.setAttribute(a1.has(r)?r:Rf(r),t.attrs[r])}class CT extends n1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=le}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Fa.has(e)){const n=Dv(e);return n&&n.default||0}return e=a1.has(e)?e:Rf(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return $v(t,e,n)}build(t,e,n){Gv(t,e,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,e,n,r){_T(t,e,n,r)}mount(t){this.isSVGTag=Xv(t.tagName),super.mount(t)}}const MT=(a,t)=>_f(a)?new CT(t):new TT(t,{allowProjection:a!==Y.Fragment});function Ma(a,t,e){const n=a.getProps();return Cf(n,t,e!==void 0?e:n.custom,a)}const Od=a=>Array.isArray(a);function RT(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,La(e))}function kT(a){return Od(a)?a[a.length-1]||0:a}function DT(a,t){const e=Ma(a,t);let{transitionEnd:n={},transition:r={},...l}=e||{};l={...l,...n};for(const c in l){const h=kT(l[c]);RT(a,c,h)}}function NT(a){return!!(ze(a)&&a.add)}function jd(a,t){const e=a.getValue("willChange");if(NT(e))return e.add(t);if(!e&&mn.WillChange){const n=new mn.WillChange("auto");a.addValue("willChange",n),n.add(t)}}function r1(a){return a.props[Kv]}const LT=a=>a!==null;function PT(a,{repeat:t,repeatType:e="loop"},n){const r=a.filter(LT),l=t&&e!=="loop"&&t%2===1?0:r.length-1;return r[l]}const OT={type:"spring",stiffness:500,damping:25,restSpeed:10},jT=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),BT={type:"keyframes",duration:.8},IT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FT=(a,{keyframes:t})=>t.length>2?BT:Fa.has(a)?a.startsWith("scale")?jT(t[1]):OT:IT;function zT({when:a,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const kf=(a,t,e,n={},r,l)=>c=>{const h=bf(n,a)||{},d=h.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Yi(d);const p={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-f,onUpdate:b=>{t.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:a,motionValue:t,element:l?void 0:r};zT(h)||Object.assign(p,FT(a,p)),p.duration&&(p.duration=Yi(p.duration)),p.repeatDelay&&(p.repeatDelay=Yi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(kd(p),p.delay===0&&(y=!0)),(mn.instantAnimations||mn.skipAnimations)&&(y=!0,kd(p),p.delay=0),p.allowFlatten=!h.type&&!h.ease,y&&!l&&t.get()!==void 0){const b=PT(p.keyframes,h);if(b!==void 0){$t.update(()=>{p.onUpdate(b),p.onComplete()});return}}return h.isSync?new mf(p):new hE(p)};function VT({protectedKeys:a,needsAnimating:t},e){const n=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function o1(a,t,{delay:e=0,transitionOverride:n,type:r}={}){let{transition:l=a.getDefaultTransition(),transitionEnd:c,...h}=t;n&&(l=n);const d=[],f=r&&a.animationState&&a.animationState.getState()[r];for(const p in h){const y=a.getValue(p,a.latestValues[p]??null),b=h[p];if(b===void 0||f&&VT(f,p))continue;const v={delay:e,...bf(l||{},p)},x=y.get();if(x!==void 0&&!y.isAnimating&&!Array.isArray(b)&&b===x&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const _=r1(a);if(_){const k=window.MotionHandoffAnimation(_,p,$t);k!==null&&(v.startTime=k,w=!0)}}jd(a,p),y.start(kf(p,y,b,a.shouldReduceMotion&&Mv.has(p)?{type:!1}:v,a,w));const T=y.animation;T&&d.push(T)}return c&&Promise.all(d).then(()=>{$t.update(()=>{c&&DT(a,c)})}),d}function l1(a,t,e,n=0,r=1){const l=Array.from(a).sort((f,p)=>f.sortNodePosition(p)).indexOf(t),c=a.size,h=(c-1)*n;return typeof e=="function"?e(l,c):r===1?l*n:h-l*n}function Bd(a,t,e={}){const n=Ma(a,t,e.type==="exit"?a.presenceContext?.custom:void 0);let{transition:r=a.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(r=e.transitionOverride);const l=n?()=>Promise.all(o1(a,n,e)):()=>Promise.resolve(),c=a.variantChildren&&a.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:y}=r;return HT(a,t,d,f,p,y,e)}:()=>Promise.resolve(),{when:h}=r;if(h){const[d,f]=h==="beforeChildren"?[l,c]:[c,l];return d().then(()=>f())}else return Promise.all([l(),c(e.delay)])}function HT(a,t,e=0,n=0,r=0,l=1,c){const h=[];for(const d of a.variantChildren)d.notify("AnimationStart",t),h.push(Bd(d,t,{...c,delay:e+(typeof n=="function"?0:n)+l1(a.variantChildren,d,n,r,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(h)}function UT(a,t,e={}){a.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(l=>Bd(a,l,e));n=Promise.all(r)}else if(typeof t=="string")n=Bd(a,t,e);else{const r=typeof t=="function"?Ma(a,t,e.custom):t;n=Promise.all(o1(a,r,e))}return n.then(()=>{a.notify("AnimationComplete",t)})}function c1(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let n=0;n<e;n++)if(t[n]!==a[n])return!1;return!0}const GT=Sf.length;function u1(a){if(!a)return;if(!a.isControllingVariants){const e=a.parent?u1(a.parent)||{}:{};return a.props.initial!==void 0&&(e.initial=a.props.initial),e}const t={};for(let e=0;e<GT;e++){const n=Sf[e],r=a.props[n];(ro(r)||r===!1)&&(t[n]=r)}return t}const qT=[...wf].reverse(),XT=wf.length;function YT(a){return t=>Promise.all(t.map(({animation:e,options:n})=>UT(a,e,n)))}function $T(a){let t=YT(a),e=Dy(),n=!0;const r=d=>(f,p)=>{const y=Ma(a,p,d==="exit"?a.presenceContext?.custom:void 0);if(y){const{transition:b,transitionEnd:v,...x}=y;f={...f,...x,...v}}return f};function l(d){t=d(a)}function c(d){const{props:f}=a,p=u1(a.parent)||{},y=[],b=new Set;let v={},x=1/0;for(let T=0;T<XT;T++){const _=qT[T],k=e[_],C=f[_]!==void 0?f[_]:p[_],N=ro(C),M=_===d?k.isActive:null;M===!1&&(x=T);let j=C===p[_]&&C!==f[_]&&N;if(j&&n&&a.manuallyAnimateOnMount&&(j=!1),k.protectedKeys={...v},!k.isActive&&M===null||!C&&!k.prevProp||pc(C)||typeof C=="boolean")continue;const B=KT(k.prevProp,C);let U=B||_===d&&k.isActive&&!j&&N||T>x&&N,$=!1;const Q=Array.isArray(C)?C:[C];let J=Q.reduce(r(_),{});M===!1&&(J={});const{prevResolvedValues:rt={}}=k,dt={...rt,...J},nt=I=>{U=!0,b.has(I)&&($=!0,b.delete(I)),k.needsAnimating[I]=!0;const tt=a.getValue(I);tt&&(tt.liveStyle=!1)};for(const I in dt){const tt=J[I],ct=rt[I];if(v.hasOwnProperty(I))continue;let D=!1;Od(tt)&&Od(ct)?D=!c1(tt,ct):D=tt!==ct,D?tt!=null?nt(I):b.add(I):tt!==void 0&&b.has(I)?nt(I):k.protectedKeys[I]=!0}k.prevProp=C,k.prevResolvedValues=J,k.isActive&&(v={...v,...J}),n&&a.blockInitialAnimation&&(U=!1);const pt=j&&B;U&&(!pt||$)&&y.push(...Q.map(I=>{const tt={type:_};if(typeof I=="string"&&n&&!pt&&a.manuallyAnimateOnMount&&a.parent){const{parent:ct}=a,D=Ma(ct,I);if(ct.enteringChildren&&D){const{delayChildren:q}=D.transition||{};tt.delay=l1(ct.enteringChildren,a,q)}}return{animation:I,options:tt}}))}if(b.size){const T={};if(typeof f.initial!="boolean"){const _=Ma(a,Array.isArray(f.initial)?f.initial[0]:f.initial);_&&_.transition&&(T.transition=_.transition)}b.forEach(_=>{const k=a.getBaseTarget(_),C=a.getValue(_);C&&(C.liveStyle=!0),T[_]=k??null}),y.push({animation:T})}let w=!!y.length;return n&&(f.initial===!1||f.initial===f.animate)&&!a.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(y):Promise.resolve()}function h(d,f){if(e[d].isActive===f)return Promise.resolve();a.variantChildren?.forEach(y=>y.animationState?.setActive(d,f)),e[d].isActive=f;const p=c(d);for(const y in e)e[y].protectedKeys={};return p}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=Dy(),n=!0}}}function KT(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!c1(t,a):!1}function ps(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Dy(){return{animate:ps(!0),whileInView:ps(),whileHover:ps(),whileTap:ps(),whileDrag:ps(),whileFocus:ps(),exit:ps()}}class $n{constructor(t){this.isMounted=!1,this.node=t}update(){}}class WT extends $n{constructor(t){super(t),t.animationState||(t.animationState=$T(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();pc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QT=0;class ZT extends $n{constructor(){super(...arguments),this.id=QT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);e&&!t&&r.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const JT={animation:{Feature:WT},exit:{Feature:ZT}};function lo(a,t,e,n={passive:!0}){return a.addEventListener(t,e,n),()=>a.removeEventListener(t,e)}function vo(a){return{point:{x:a.pageX,y:a.pageY}}}const t_=a=>t=>Af(t)&&a(t,vo(t));function Zr(a,t,e,n){return lo(a,t,t_(e),n)}const h1=1e-4,e_=1-h1,i_=1+h1,d1=.01,n_=0-d1,s_=0+d1;function Ge(a){return a.max-a.min}function a_(a,t,e){return Math.abs(a-t)<=e}function Ny(a,t,e,n=.5){a.origin=n,a.originPoint=Qt(t.min,t.max,a.origin),a.scale=Ge(e)/Ge(t),a.translate=Qt(e.min,e.max,a.origin)-a.originPoint,(a.scale>=e_&&a.scale<=i_||isNaN(a.scale))&&(a.scale=1),(a.translate>=n_&&a.translate<=s_||isNaN(a.translate))&&(a.translate=0)}function Jr(a,t,e,n){Ny(a.x,t.x,e.x,n?n.originX:void 0),Ny(a.y,t.y,e.y,n?n.originY:void 0)}function Ly(a,t,e){a.min=e.min+t.min,a.max=a.min+Ge(t)}function r_(a,t,e){Ly(a.x,t.x,e.x),Ly(a.y,t.y,e.y)}function Py(a,t,e){a.min=t.min-e.min,a.max=a.min+Ge(t)}function to(a,t,e){Py(a.x,t.x,e.x),Py(a.y,t.y,e.y)}function Ti(a){return[a("x"),a("y")]}const f1=({current:a})=>a?a.ownerDocument.defaultView:null,Oy=(a,t)=>Math.abs(a-t);function o_(a,t){const e=Oy(a.x,t.x),n=Oy(a.y,t.y);return Math.sqrt(e**2+n**2)}class g1{constructor(t,e,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=nd(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=o_(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:w}=b,{timestamp:T}=Ne;this.history.push({...w,timestamp:T});const{onStart:_,onMove:k}=this.handlers;v||(_&&_(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,b)},this.handlePointerMove=(b,v)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=id(v,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(b,v)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=nd(b.type==="pointercancel"?this.lastMoveEventInfo:id(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(b,_),w&&w(b,_)},!Af(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=n,this.distanceThreshold=c,this.contextWindow=r||window;const h=vo(t),d=id(h,this.transformPagePoint),{point:f}=d,{timestamp:p}=Ne;this.history=[{...f,timestamp:p}];const{onSessionStart:y}=e;y&&y(t,nd(d,this.history)),this.removeListeners=mo(Zr(this.contextWindow,"pointermove",this.handlePointerMove),Zr(this.contextWindow,"pointerup",this.handlePointerUp),Zr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),qn(this.updatePoint)}}function id(a,t){return t?{point:t(a.point)}:a}function jy(a,t){return{x:a.x-t.x,y:a.y-t.y}}function nd({point:a},t){return{point:a,delta:jy(a,p1(t)),offset:jy(a,l_(t)),velocity:c_(t,.1)}}function l_(a){return a[0]}function p1(a){return a[a.length-1]}function c_(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,n=null;const r=p1(a);for(;e>=0&&(n=a[e],!(r.timestamp-n.timestamp>Yi(t)));)e--;if(!n)return{x:0,y:0};const l=$i(r.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-n.x)/l,y:(r.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function u_(a,{min:t,max:e},n){return t!==void 0&&a<t?a=n?Qt(t,a,n.min):Math.max(a,t):e!==void 0&&a>e&&(a=n?Qt(e,a,n.max):Math.min(a,e)),a}function By(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function h_(a,{top:t,left:e,bottom:n,right:r}){return{x:By(a.x,e,r),y:By(a.y,t,n)}}function Iy(a,t){let e=t.min-a.min,n=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,n]=[n,e]),{min:e,max:n}}function d_(a,t){return{x:Iy(a.x,t.x),y:Iy(a.y,t.y)}}function f_(a,t){let e=.5;const n=Ge(a),r=Ge(t);return r>n?e=no(t.min,t.max-n,a.min):n>r&&(e=no(a.min,a.max-r,t.min)),pn(0,1,e)}function g_(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const Id=.35;function p_(a=Id){return a===!1?a=0:a===!0&&(a=Id),{x:Fy(a,"left","right"),y:Fy(a,"top","bottom")}}function Fy(a,t,e){return{min:zy(a,t),max:zy(a,e)}}function zy(a,t){return typeof a=="number"?a:a[t]||0}const m_=new WeakMap;class y_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=le(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(vo(y).point)},c=(y,b)=>{const{drag:v,dragPropagation:x,onDragStart:w}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ME(v),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ti(_=>{let k=this.getAxisMotionValue(_).get()||0;if(Ki.test(k)){const{projection:C}=this.visualElement;if(C&&C.layout){const N=C.layout.layoutBox[_];N&&(k=Ge(N)*(parseFloat(k)/100))}}this.originPoint[_]=k}),w&&$t.postRender(()=>w(y,b)),jd(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},h=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:w,onDrag:T}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=b;if(x&&this.currentDirection===null){this.currentDirection=b_(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,_),this.updateAxis("y",b.point,_),this.visualElement.render(),T&&T(y,b)},d=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b,this.stop(y,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ti(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new g1(t,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:f1(this.visualElement)})}stop(t,e){const n=t||this.latestPointerEvent,r=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!n)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&$t.postRender(()=>h(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:r}=this.getProps();if(!n||!Xl(t,r,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=u_(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;t&&wa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=h_(n.layoutBox,t):this.constraints=!1,this.elastic=p_(e),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ti(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=g_(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!wa(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=vT(n,r.root,this.visualElement.getTransformPagePoint());let c=d_(r.layout.layoutBox,l);if(e){const h=e(mT(c));this.hasMutatedConstraints=!!h,h&&(c=Zv(h))}return c}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},f=Ti(p=>{if(!Xl(p,e,this.currentDirection))return;let y=d&&d[p]||{};c&&(y={min:0,max:0});const b=r?200:1e6,v=r?40:1e7,x={type:"inertia",velocity:n?t[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(p,x)});return Promise.all(f).then(h)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return jd(this.visualElement,t),n.start(kf(t,n,0,e,this.visualElement,!1))}stopAnimation(){Ti(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ti(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[e];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ti(e=>{const{drag:n}=this.getProps();if(!Xl(e,n,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(e);if(r&&r.layout){const{min:c,max:h}=r.layout.layoutBox[e];l.set(t[e]-Qt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!wa(e)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ti(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();r[c]=f_({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ti(c=>{if(!Xl(c,t,null))return;const h=this.getAxisMotionValue(c),{min:d,max:f}=this.constraints[c];h.set(Qt(d,f,r[c]))})}addListeners(){if(!this.visualElement.current)return;m_.set(this.visualElement,this);const t=this.visualElement.current,e=Zr(t,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();wa(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,l=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),$t.read(n);const c=lo(window,"resize",()=>this.scalePositionWithinConstraints()),h=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ti(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=d[p].translate,y.set(y.get()+d[p].translate))}),this.visualElement.render())});return()=>{c(),e(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=Id,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Xl(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function b_(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class v_ extends $n{constructor(t){super(t),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new y_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vy=a=>(t,e)=>{a&&$t.postRender(()=>a(t,e))};class x_ extends $n{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(t){this.session=new g1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Vy(t),onStart:Vy(e),onMove:n,onEnd:(l,c)=>{delete this.session,r&&$t.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Zr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hy(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const Vr={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(yt.test(a))a=parseFloat(a);else return a;const e=Hy(a,t.target.x),n=Hy(a,t.target.y);return`${e}% ${n}%`}},A_={correct:(a,{treeScale:t,projectionDelta:e})=>{const n=a,r=Xn.parse(a);if(r.length>5)return n;const l=Xn.createTransformer(a),c=typeof r[0]!="number"?1:0,h=e.x.scale*t.x,d=e.y.scale*t.y;r[0+c]/=h,r[1+c]/=d;const f=Qt(h,d,.5);return typeof r[2+c]=="number"&&(r[2+c]/=f),typeof r[3+c]=="number"&&(r[3+c]/=f),l(r)}};let sd=!1;class w_ extends Y.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:r}=this.props,{projection:l}=t;GE(S_),l&&(e.group&&e.group.add(l),n&&n.register&&r&&n.register(l),sd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),nc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:r,isPresent:l}=this.props,{projection:c}=n;return c&&(c.isPresent=l,sd=!0,r||t.layoutDependency!==e||e===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||$t.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:r}=t;sd=!0,r&&(r.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function m1(a){const[t,e]=BE(),n=Y.useContext($b);return S.jsx(w_,{...a,layoutGroup:n,switchLayoutGroup:Y.useContext(Wv),isPresent:t,safeToRemove:e})}const S_={borderRadius:{...Vr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vr,borderTopRightRadius:Vr,borderBottomLeftRadius:Vr,borderBottomRightRadius:Vr,boxShadow:A_};function E_(a,t,e){const n=ze(a)?a:La(a);return n.start(kf("",n,t,e)),n.animation}const T_=(a,t)=>a.depth-t.depth;class __{constructor(){this.children=[],this.isDirty=!1}add(t){tf(this.children,t),this.isDirty=!0}remove(t){ef(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(T_),this.isDirty=!1,this.children.forEach(t)}}function C_(a,t){const e=ei.now(),n=({timestamp:r})=>{const l=r-e;l>=t&&(qn(n),a(l-t))};return $t.setup(n,!0),()=>qn(n)}const y1=["TopLeft","TopRight","BottomLeft","BottomRight"],M_=y1.length,Uy=a=>typeof a=="string"?parseFloat(a):a,Gy=a=>typeof a=="number"||yt.test(a);function R_(a,t,e,n,r,l){r?(a.opacity=Qt(0,e.opacity??1,k_(n)),a.opacityExit=Qt(t.opacity??1,0,D_(n))):l&&(a.opacity=Qt(t.opacity??1,e.opacity??1,n));for(let c=0;c<M_;c++){const h=`border${y1[c]}Radius`;let d=qy(t,h),f=qy(e,h);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||Gy(d)===Gy(f)?(a[h]=Math.max(Qt(Uy(d),Uy(f),n),0),(Ki.test(f)||Ki.test(d))&&(a[h]+="%")):a[h]=f}(t.rotate||e.rotate)&&(a.rotate=Qt(t.rotate||0,e.rotate||0,n))}function qy(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const k_=b1(0,.5,av),D_=b1(.5,.95,_i);function b1(a,t,e){return n=>n<a?0:n>t?1:e(no(a,t,n))}function Xy(a,t){a.min=t.min,a.max=t.max}function wi(a,t){Xy(a.x,t.x),Xy(a.y,t.y)}function Yy(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function $y(a,t,e,n,r){return a-=t,a=uc(a,1/e,n),r!==void 0&&(a=uc(a,1/r,n)),a}function N_(a,t=0,e=1,n=.5,r,l=a,c=a){if(Ki.test(t)&&(t=parseFloat(t),t=Qt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=Qt(l.min,l.max,n);a===l&&(h-=t),a.min=$y(a.min,t,e,h,r),a.max=$y(a.max,t,e,h,r)}function Ky(a,t,[e,n,r],l,c){N_(a,t[e],t[n],t[r],t.scale,l,c)}const L_=["x","scaleX","originX"],P_=["y","scaleY","originY"];function Wy(a,t,e,n){Ky(a.x,t,L_,e?e.x:void 0,n?n.x:void 0),Ky(a.y,t,P_,e?e.y:void 0,n?n.y:void 0)}function Qy(a){return a.translate===0&&a.scale===1}function v1(a){return Qy(a.x)&&Qy(a.y)}function Zy(a,t){return a.min===t.min&&a.max===t.max}function O_(a,t){return Zy(a.x,t.x)&&Zy(a.y,t.y)}function Jy(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function x1(a,t){return Jy(a.x,t.x)&&Jy(a.y,t.y)}function tb(a){return Ge(a.x)/Ge(a.y)}function eb(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class j_{constructor(){this.members=[]}add(t){tf(this.members,t),t.scheduleRender()}remove(t){if(ef(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(r=>t===r);if(e===0)return!1;let n;for(let r=e;r>=0;r--){const l=this.members[r];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B_(a,t,e){let n="";const r=a.x.translate/t.x,l=a.y.translate/t.y,c=e?.z||0;if((r||l||c)&&(n=`translate3d(${r}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:b,skewX:v,skewY:x}=e;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),y&&(n+=`rotateX(${y}deg) `),b&&(n+=`rotateY(${b}deg) `),v&&(n+=`skewX(${v}deg) `),x&&(n+=`skewY(${x}deg) `)}const h=a.x.scale*t.x,d=a.y.scale*t.y;return(h!==1||d!==1)&&(n+=`scale(${h}, ${d})`),n||"none"}const ad=["","X","Y","Z"],I_=1e3;let F_=0;function rd(a,t,e,n){const{latestValues:r}=t;r[a]&&(e[a]=r[a],t.setStaticValue(a,0),n&&(n[a]=0))}function A1(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const e=r1(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:r,layoutId:l}=a.options;window.MotionCancelOptimisedAnimation(e,"transform",$t,!(r||l))}const{parent:n}=a;n&&!n.hasCheckedOptimisedAppear&&A1(n)}function w1({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(c={},h=t?.()){this.id=F_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(H_),this.nodes.forEach(X_),this.nodes.forEach(Y_),this.nodes.forEach(U_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new __)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new af),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Bv(c)&&!PE(c),this.instance=c;const{layoutId:h,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),a){let p,y=0;const b=()=>this.root.updateBlockedByResize=!1;$t.read(()=>{y=window.innerWidth}),a(c,()=>{const v=window.innerWidth;v!==y&&(y=v,this.root.updateBlockedByResize=!0,p&&p(),p=C_(b,250),nc.hasAnimatedSinceResize&&(nc.hasAnimatedSinceResize=!1,this.nodes.forEach(sb)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||Z_,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=f.getProps(),_=!this.targetLayout||!x1(this.targetLayout,v),k=!y&&b;if(this.options.layoutRoot||this.resumeFrom||k||y&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...bf(x,"layout"),onPlay:w,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,k)}else y||sb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($_),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ib);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(q_),this.nodes.forEach(z_),this.nodes.forEach(V_)):this.nodes.forEach(nb),this.clearAllSnapshots();const h=ei.now();Ne.delta=pn(0,1e3/60,h-Ne.timestamp),Ne.timestamp=h,Ne.isProcessing=!0,$h.update.process(Ne),$h.preRender.process(Ne),$h.render.process(Ne),Ne.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(G_),this.sharedNodes.forEach(K_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ge(this.snapshot.measuredBox.x)&&!Ge(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!v1(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&this.instance&&(h||ys(this.latestValues)||p)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),J_(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return le();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tC))){const{scroll:f}=this.root;f&&(Sa(h.x,f.offset.x),Sa(h.y,f.offset.y))}return h}removeElementScroll(c){const h=le();if(wi(h,c),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:y}=f;f!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&wi(h,c),Sa(h.x,p.offset.x),Sa(h.y,p.offset.y))}return h}applyTransform(c,h=!1){const d=le();wi(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!h&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ea(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ys(p.latestValues)&&Ea(d,p.latestValues)}return ys(this.latestValues)&&Ea(d,this.latestValues),d}removeTransform(c){const h=le();wi(h,c);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!ys(f.latestValues))continue;Nd(f.latestValues)&&f.updateSnapshot();const p=le(),y=f.measurePageBox();wi(p,y),Wy(h,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return ys(this.latestValues)&&Wy(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ne.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Ne.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),to(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=le(),this.targetWithTransforms=le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wi(this.target,this.layout.layoutBox),t1(this.target,this.targetDelta)):wi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=le(),this.relativeTargetOrigin=le(),to(this.relativeTargetOrigin,this.target,b.target),wi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Nd(this.parent.latestValues)||Jv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ne.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;wi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;bT(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=le());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yy(this.prevProjectionDelta.x,this.projectionDelta.x),Yy(this.prevProjectionDelta.y,this.projectionDelta.y)),Jr(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!eb(this.projectionDelta.x,this.prevProjectionDelta.x)||!eb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ta(),this.projectionDelta=Ta(),this.projectionDeltaWithTransform=Ta()}setAnimationOrigin(c,h=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},y=Ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=le(),v=d?d.source:void 0,x=this.layout?this.layout.source:void 0,w=v!==x,T=this.getStack(),_=!T||T.members.length<=1,k=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(Q_));this.animationProgress=0;let C;this.mixTargetDelta=N=>{const M=N/1e3;ab(y.x,c.x,M),ab(y.y,c.y,M),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(to(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W_(this.relativeTarget,this.relativeTargetOrigin,b,M),C&&O_(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=le()),wi(C,this.relativeTarget)),w&&(this.animationValues=p,R_(p,f,this.latestValues,M,k,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(qn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{nc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=La(0)),this.currentAnimation=E_(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:f,latestValues:p}=c;if(!(!h||!d||!f)){if(this!==c&&this.layout&&f&&S1(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||le();const y=Ge(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+y;const b=Ge(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+b}wi(h,d),Ea(h,p),Jr(this.projectionDeltaWithTransform,this.layoutCorrected,h,p)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new j_),this.sharedNodes.get(c).add(h);const f=h.options.initialPromotionConfig;h.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const f={};d.z&&rd("z",c,f,this.animationValues);for(let p=0;p<ad.length;p++)rd(`rotate${ad[p]}`,c,f,this.animationValues),rd(`skew${ad[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ic(h?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ic(h?.pointerEvents)||""),this.hasProjected&&!ys(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let y=B_(this.projectionDeltaWithTransform,this.treeScale,p);d&&(y=d(p,y)),c.transform=y;const{x:b,y:v}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in oo){if(p[x]===void 0)continue;const{correct:w,applyTo:T,isCSSVariable:_}=oo[x],k=y==="none"?p[x]:w(p[x],f);if(T){const C=T.length;for(let N=0;N<C;N++)c[T[N]]=k}else _?this.options.visualElement.renderState.vars[x]=k:c[x]=k}this.options.layoutId&&(c.pointerEvents=f===this?ic(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(ib),this.root.sharedNodes.clear()}}}function z_(a){a.updateLayout()}function V_(a){const t=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&t&&a.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:n}=a.layout,{animationType:r}=a.options,l=t.source!==a.layout.source;r==="size"?Ti(p=>{const y=l?t.measuredBox[p]:t.layoutBox[p],b=Ge(y);y.min=e[p].min,y.max=y.min+b}):S1(r,t.layoutBox,e)&&Ti(p=>{const y=l?t.measuredBox[p]:t.layoutBox[p],b=Ge(e[p]);y.max=y.min+b,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[p].max=a.relativeTarget[p].min+b)});const c=Ta();Jr(c,e,t.layoutBox);const h=Ta();l?Jr(h,a.applyTransform(n,!0),t.measuredBox):Jr(h,e,t.layoutBox);const d=!v1(c);let f=!1;if(!a.resumeFrom){const p=a.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:b}=p;if(y&&b){const v=le();to(v,t.layoutBox,y.layoutBox);const x=le();to(x,e,b.layoutBox),x1(v,x)||(f=!0),p.options.layoutRoot&&(a.relativeTarget=x,a.relativeTargetOrigin=v,a.relativeParent=p)}}}a.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(a.isLead()){const{onExitComplete:e}=a.options;e&&e()}a.options.transition=void 0}function H_(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function U_(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function G_(a){a.clearSnapshot()}function ib(a){a.clearMeasurements()}function nb(a){a.isLayoutDirty=!1}function q_(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function sb(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function X_(a){a.resolveTargetDelta()}function Y_(a){a.calcProjection()}function $_(a){a.resetSkewAndRotation()}function K_(a){a.removeLeadSnapshot()}function ab(a,t,e){a.translate=Qt(t.translate,0,e),a.scale=Qt(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function rb(a,t,e,n){a.min=Qt(t.min,e.min,n),a.max=Qt(t.max,e.max,n)}function W_(a,t,e,n){rb(a.x,t.x,e.x,n),rb(a.y,t.y,e.y,n)}function Q_(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const Z_={duration:.45,ease:[.4,0,.1,1]},ob=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),lb=ob("applewebkit/")&&!ob("chrome/")?Math.round:_i;function cb(a){a.min=lb(a.min),a.max=lb(a.max)}function J_(a){cb(a.x),cb(a.y)}function S1(a,t,e){return a==="position"||a==="preserve-aspect"&&!a_(tb(t),tb(e),.2)}function tC(a){return a!==a.root&&a.scroll?.wasRoot}const eC=w1({attachResizeListener:(a,t)=>lo(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),od={current:void 0},E1=w1({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!od.current){const a=new eC({});a.mount(window),a.setOptions({layoutScroll:!0}),od.current=a}return od.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),iC={pan:{Feature:x_},drag:{Feature:v_,ProjectionNode:E1,MeasureLayout:m1}};function ub(a,t,e){const{props:n}=a;a.animationState&&n.whileHover&&a.animationState.setActive("whileHover",e==="Start");const r="onHover"+e,l=n[r];l&&$t.postRender(()=>l(t,vo(t)))}class nC extends $n{mount(){const{current:t}=this.node;t&&(this.unmount=RE(t,(e,n)=>(ub(this.node,n,"Start"),r=>ub(this.node,r,"End"))))}unmount(){}}class sC extends $n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mo(lo(this.node.current,"focus",()=>this.onFocus()),lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hb(a,t,e){const{props:n}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&n.whileTap&&a.animationState.setActive("whileTap",e==="Start");const r="onTap"+(e==="End"?"":e),l=n[r];l&&$t.postRender(()=>l(t,vo(t)))}class aC extends $n{mount(){const{current:t}=this.node;t&&(this.unmount=LE(t,(e,n)=>(hb(this.node,n,"Start"),(r,{success:l})=>hb(this.node,r,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fd=new WeakMap,ld=new WeakMap,rC=a=>{const t=Fd.get(a.target);t&&t(a)},oC=a=>{a.forEach(rC)};function lC({root:a,...t}){const e=a||document;ld.has(e)||ld.set(e,{});const n=ld.get(e),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(oC,{root:a,...t})),n[r]}function cC(a,t,e){const n=lC(t);return Fd.set(a,e),n.observe(a),()=>{Fd.delete(a),n.unobserve(a)}}const uC={some:0,all:1};class hC extends $n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:r="some",once:l}=t,c={root:e?e.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:uC[r]},h=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),b=f?p:y;b&&b(d)};return cC(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(dC(t,e))&&this.startObserver()}unmount(){}}function dC({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const fC={inView:{Feature:hC},tap:{Feature:aC},focus:{Feature:sC},hover:{Feature:nC}},gC={layout:{ProjectionNode:E1,MeasureLayout:m1}},pC={...JT,...fC,...iC,...gC},Cs=pT(pC,MT);function za({children:a,className:t="",id:e}){return S.jsx(Cs.section,{id:e,className:t,initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-80px"},transition:{duration:.5,ease:"easeOut"},children:a})}function mC(){return S.jsxs(za,{className:"relative overflow-hidden",children:[S.jsx("div",{className:`pointer-events-none absolute inset-x-0 -top-40 h-64
                    bg-gradient-to-r from-indigo-400/20 via-fuchsia-400/20 to-purple-400/20
                    blur-3xl`}),S.jsxs("div",{className:"max-w-6xl mx-auto px-4 pt-14 pb-16 md:pb-20",children:[S.jsx("p",{className:"text-xs uppercase tracking-widest text-neutral-500 dark:text-neutral-400",children:"Lebanese-American  Boston, MA  Northeastern 27"}),S.jsx(Cs.h1,{className:"mt-3 font-display text-3xl md:text-4xl font-bold tracking-tight gradient-heading",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:"Building clean, intuitive software."}),S.jsx(Cs.p,{className:"mt-3 max-w-2xl text-neutral-600 dark:text-neutral-300",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},children:"Full-stack developer who loves performance, great UX, and shipping fast. Passionate about cars, game development, and solving puzzleson screen and off."}),S.jsxs(Cs.div,{className:"mt-6 flex flex-wrap gap-3",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[S.jsx("a",{href:"#projects",className:`group relative rounded-full bg-gradient-to-r from-indigo-600 to-fuchsia-600
                       px-6 py-3 text-white font-medium shadow-lg hover:shadow-xl 
                       hover:translate-y-[-2px] transition-all duration-300
                       before:absolute before:inset-0 before:rounded-full before:bg-gradient-to-r 
                       before:from-indigo-700 before:to-fuchsia-700 before:opacity-0 
                       hover:before:opacity-100 before:transition-opacity before:duration-300
                       focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:S.jsx("span",{className:"relative z-10",children:"See Projects"})}),S.jsx("a",{href:"/Portfolio/resume.pdf",className:`group rounded-full border border-gray-200 dark:border-gray-700 
                       px-6 py-3 font-medium text-gray-700 dark:text-gray-300
                       hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600
                       hover:translate-y-[-1px] transition-all duration-300 shadow-sm hover:shadow-md
                       focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,download:!0,children:"Download Resume"}),S.jsxs("a",{href:"https://whoisaldo.github.io/Exerly-Fitness/#/",target:"_blank",rel:"noreferrer",className:`group inline-flex items-center gap-2 rounded-full border border-gray-200 dark:border-gray-700 
                       px-5 py-3 font-medium text-gray-700 dark:text-gray-300
                       hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600
                       hover:translate-y-[-1px] transition-all duration-300 shadow-sm hover:shadow-md
                       focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx(bd,{size:16,className:"group-hover:scale-110 transition-transform duration-300"}),"Try Exerly"]}),S.jsxs("a",{href:"https://github.com/whoisaldo",target:"_blank",rel:"noreferrer",className:`group inline-flex items-center gap-2 rounded-full border border-gray-200 dark:border-gray-700 
                       px-5 py-3 font-medium text-gray-700 dark:text-gray-300
                       hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600
                       hover:translate-y-[-1px] transition-all duration-300 shadow-sm hover:shadow-md
                       focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx(gS,{size:16,className:"group-hover:scale-110 transition-transform duration-300"}),"GitHub"]}),S.jsxs("a",{href:"https://www.linkedin.com/in/ali-younes-41a2b4296/",target:"_blank",rel:"noreferrer",className:`group inline-flex items-center gap-2 rounded-full border border-gray-200 dark:border-gray-700 
                       px-5 py-3 font-medium text-gray-700 dark:text-gray-300
                       hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600
                       hover:translate-y-[-1px] transition-all duration-300 shadow-sm hover:shadow-md
                       focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx(bS,{size:16,className:"group-hover:scale-110 transition-transform duration-300"}),"LinkedIn"]})]})]})]})}const yC="/Portfolio/assets/PersonalFacePicture-C4TI2VFn.jpg";function bC(){return S.jsx(za,{id:"about",className:"max-w-6xl mx-auto px-4 py-16 md:py-20","aria-labelledby":"about-heading",children:S.jsx("div",{className:"text-center mb-16",children:S.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-12",children:[S.jsx("div",{className:"flex-shrink-0 mx-auto lg:mx-0",children:S.jsxs("div",{className:"relative group",children:[S.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl blur opacity-25 group-hover:opacity-40 transition duration-300"}),S.jsx("div",{className:"relative shadow-[0_0_80px_rgba(99,102,241,0.25)]",children:S.jsx("img",{src:yC,alt:"Ali Younes",className:`w-64 h-64 rounded-2xl object-cover shadow-2xl border-4 border-white dark:border-gray-800
                             group-hover:scale-105 transition-transform duration-300`})})]})}),S.jsxs("div",{className:"flex-1 text-left lg:text-left",children:[S.jsx("h2",{id:"about-heading",className:"font-display text-3xl md:text-4xl font-bold tracking-tight gradient-heading mb-6",children:"About Me"}),S.jsx("p",{className:"text-lg text-neutral-700 dark:text-neutral-300 leading-relaxed max-w-2xl mb-8",children:"I'm a Lebanese-American developer from Massachusetts, studying Computer Science & Political Science at Northeastern (Class of 2027). I love building polished, intuitive softwarefrom full-stack web apps to game prototypes. Outside the editor: cars, the gym, wrestling, soccer, and any puzzle I can get my hands on. I also love to travel and explore new ideas."}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-2xl",children:[S.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur border border-gray-200/50 dark:border-gray-700/50",children:[S.jsx("div",{className:"p-1.5 rounded-md bg-indigo-100 dark:bg-indigo-900/30 mt-0.5",children:S.jsx(NS,{size:16,className:"text-indigo-600 dark:text-indigo-400"})}),S.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Full-stack dev who enjoys both frontend polish and backend APIs."})]}),S.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur border border-gray-200/50 dark:border-gray-700/50",children:[S.jsx("div",{className:"p-1.5 rounded-md bg-purple-100 dark:bg-purple-900/30 mt-0.5",children:S.jsx(dS,{size:16,className:"text-purple-600 dark:text-purple-400"})}),S.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Game dev fan  experienced with Roblox Studio (Lua), Unity basics (C#)."})]}),S.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur border border-gray-200/50 dark:border-gray-700/50",children:[S.jsx("div",{className:"p-1.5 rounded-md bg-red-100 dark:bg-red-900/30 mt-0.5",children:S.jsx(Jw,{size:16,className:"text-red-600 dark:text-red-400"})}),S.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Car enthusiast  German cars, performance, and clean builds."})]}),S.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur border border-gray-200/50 dark:border-gray-700/50",children:[S.jsx("div",{className:"p-1.5 rounded-md bg-green-100 dark:bg-green-900/30 mt-0.5",children:S.jsx(oS,{size:16,className:"text-green-600 dark:text-green-400"})}),S.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Gym + wrestling mentality: consistent reps, steady progress."})]}),S.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur border border-gray-200/50 dark:border-gray-700/50",children:[S.jsx("div",{className:"p-1.5 rounded-md bg-yellow-100 dark:bg-yellow-900/30 mt-0.5",children:S.jsx(_S,{size:16,className:"text-yellow-600 dark:text-yellow-400"})}),S.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Rubik's Cube, chess, and logic puzzles for fun."})]}),S.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur border border-gray-200/50 dark:border-gray-700/50",children:[S.jsx("div",{className:"p-1.5 rounded-md bg-blue-100 dark:bg-blue-900/30 mt-0.5",children:S.jsx(mS,{size:16,className:"text-blue-600 dark:text-blue-400"})}),S.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Love to travel and learn from different cultures."})]})]})]})]})})})}function vC(){const a=[{title:"Frontend",icon:nS,items:["React","TypeScript","Vite","Tailwind","React Router","MUI"]},{title:"Backend",icon:MS,items:["Node.js","Express","REST APIs"]},{title:"Databases",icon:aS,items:["MongoDB (Atlas, Mongoose)","PostgreSQL","MySQL"]},{title:"DevOps & Tools",icon:PS,items:["Git/GitHub","Heroku","JWT","Linux","Docker"]},{title:"Languages",icon:uS,items:["TypeScript","JavaScript","Python","Java","C++","C#","SQL","Lua (Roblox)","Racket"]}];return S.jsxs(za,{id:"tech-stack",className:"max-w-6xl mx-auto px-4 py-16 md:py-20","aria-labelledby":"tech-stack-heading",children:[S.jsx("h2",{id:"tech-stack-heading",className:"text-3xl md:text-4xl font-bold tracking-tight gradient-heading mb-12",children:"Tech Stack"}),S.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-12 max-w-2xl",children:"Technologies and tools I work with to build modern, scalable applications."}),S.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:a.map((t,e)=>S.jsxs(Cs.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.4,delay:e*.08},viewport:{once:!0,margin:"-50px"},className:"card hover:border-indigo-400/40 hover:shadow-indigo-500/20 transition-all duration-300",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-500",children:S.jsx(t.icon,{size:20,className:"text-white"})}),S.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.title})]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:t.items.map(n=>S.jsx("span",{className:`px-3 py-1 rounded-full text-sm bg-white/5 border border-white/10
                             text-gray-700 dark:text-gray-300 hover:bg-white/10 
                             transition-colors duration-200`,children:n},n))})]},t.title))})]})}const xC="/Portfolio/assets/LandingPage-CjbfC8YM.png",AC="/Portfolio/assets/Signup-B0oJFUhQ.png",wC="/Portfolio/assets/UserDashboard-t_wPt6pn.png",SC="/Portfolio/assets/UserProfile-pfsfOIik.png",EC="/Portfolio/assets/BookReview-tIpAgHn5.png",TC="/Portfolio/assets/UniversalDiscover_Dashboard-CB9qDRyP.png",_C="/Portfolio/assets/image-RsbvKO7m.png",CC="/Portfolio/assets/image1-CMx1KQf-.png",MC="/Portfolio/assets/image3-Dynx3ioz.png",RC="/Portfolio/assets/image4-BzjOCwUC.png",db=[{title:"Moops Bookstore",blurb:"Full-stack social book tracking platform with user authentication, reading lists, reviews, and Google Books API integration. Features include personalized recommendations, social sharing, and comprehensive book management.",description:"A comprehensive book management platform that allows users to discover, track, and review books while connecting with other readers. Built with modern web technologies and deployed across multiple platforms for optimal performance.",features:["User authentication & profile management","Google Books API integration for book discovery","Personal reading lists & progress tracking","Book reviews & rating system","Social features & user interactions","Responsive design for all devices"],challenges:["Integrating Google Books API with custom backend","Implementing real-time social features","Optimizing database queries for large book catalogs","Managing state across complex user interactions"],accomplishments:["Successfully deployed full-stack application","Integrated third-party API with custom backend","Implemented secure user authentication","Created responsive, accessible UI/UX"],tech:["React","TypeScript","Node.js","Express","MongoDB","Google Books API","JWT","Heroku"],gh:"https://github.com/whoisaldo/MoopBookstore",live:"https://whoisaldo.github.io/MoopBookstore",featured:!0,buildLog:"Figma  Node API (Express)  GH Pages + Heroku (MongoDB Atlas)."},{title:"Portfolio Website",blurb:"Modern, responsive portfolio website showcasing projects, skills, and experience. Features interactive elements, smooth animations, and a built-in resume viewer with PDF integration.",description:"A personal portfolio website built with modern web technologies to showcase my work, skills, and experience. Features include interactive animations, responsive design, and seamless PDF integration for resume viewing.",features:["Responsive design for all screen sizes","Interactive animations with Framer Motion","Built-in PDF resume viewer","Dark/light mode toggle","Smooth scrolling navigation","Contact form integration"],challenges:["Implementing smooth animations without performance issues","Creating responsive design for all devices","Integrating PDF viewer with fallback options","Optimizing for fast loading times"],accomplishments:["Achieved 95+ Lighthouse performance score","Implemented accessible design patterns","Created smooth, engaging user experience","Successfully deployed to GitHub Pages"],tech:["React","Vite","Tailwind CSS","Framer Motion","React-PDF","Lucide React"],gh:"https://github.com/whoisaldo/Portfolio",featured:!0,buildLog:"Vite + Tailwind  Resume embed  GH Pages."},{title:"Exerly Fitness Platform",blurb:"Comprehensive fitness platform with workout tracking, nutrition logging, sleep monitoring, progress analytics, and user authentication. Currently implementing OpenAI's API for 'Exerly Coach' AI assistant.",description:"A full-featured fitness platform designed to help users achieve their health and wellness goals. Combines workout tracking, nutrition management, and progress analytics with an intuitive user interface and social features.",features:["Workout tracking & exercise library","Nutrition logging & meal planning","Sleep monitoring & analysis","Progress tracking & analytics","User authentication & profiles","Social features & community","AI-powered coaching (in development)"],challenges:["Designing intuitive data visualization for fitness metrics","Implementing complex workout tracking algorithms","Creating responsive design for mobile fitness tracking","Integrating multiple data sources and APIs"],accomplishments:["Built comprehensive fitness tracking system","Implemented secure user authentication","Created intuitive data visualization","Successfully deployed to production"],tech:["React","Node.js","Express","MongoDB","JWT","Chart.js","OpenAI API","Heroku"],gh:"https://github.com/whoisaldo/Exerly-Fitness",live:"https://whoisaldo.github.io/Exerly-Fitness/#/",featured:!0,buildLog:"Auth (JWT)  Workout/Nutrition models  Dashboards  Heroku deploy."},{title:"CS3520-Summer-2025",blurb:"C++ coursework: nested containers, Makefiles, GDB, CLI formatting.",tech:["C++","GDB","Makefile"],gh:"https://github.com/whoisaldo/CS3520-Summer-2025"},{title:"Password-Generator",blurb:"Configurable generator across Java + Swift experiments.",tech:["Java","Swift"],gh:"https://github.com/whoisaldo/Password-Generator"},{title:"Grade-Calculator",blurb:"Weighted categories, simple desktop UI, export support.",tech:["Java","GUI"],gh:"https://github.com/whoisaldo/Grade-Calculator"}];function kC(){const[a,t]=Y.useState(null),[e,n]=Y.useState(0),[r,l]=Y.useState(null),c=db.filter(x=>x.featured),h=db.filter(x=>!x.featured),d=[{src:xC,title:"Landing Page",description:"Clean, modern homepage with featured books and navigation"},{src:AC,title:"User Registration",description:"Secure signup form with validation and user authentication"},{src:wC,title:"User Dashboard",description:"Personalized dashboard showing reading progress and recommendations"},{src:SC,title:"User Profile",description:"Complete user profile with reading stats and preferences"},{src:EC,title:"Book Review System",description:"Detailed book review and rating interface"},{src:TC,title:"Book Discovery",description:"Advanced search and discovery features with filters"}],f=[{src:_C,title:"Fitness Dashboard",description:"Comprehensive workout tracking and progress monitoring"},{src:CC,title:"Exercise Library",description:"Extensive database of exercises with detailed instructions"},{src:MC,title:"Nutrition Tracking",description:"Meal planning and nutrition logging interface"},{src:RC,title:"Progress Analytics",description:"Data visualization and fitness progress tracking"}],p=(x,w)=>{n(x),w==="Moops Bookstore"?(l(d),t(d[x])):w==="Exerly Fitness Platform"&&(l(f),t(f[x]))},y=()=>{t(null),l(null)},b=()=>{if(!r)return;const x=(e+1)%r.length;n(x),t(r[x])},v=()=>{if(!r)return;const x=(e-1+r.length)%r.length;n(x),t(r[x])};return S.jsxs(za,{id:"projects",className:"max-w-6xl mx-auto px-4 py-16 md:py-20","aria-labelledby":"projects-heading",children:[S.jsx("h2",{id:"projects-heading",className:"text-3xl md:text-4xl font-bold tracking-tight gradient-heading mb-4",children:"Featured Projects"}),S.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-12 max-w-2xl",children:"A few things I've built and shipped."}),S.jsx("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3 mb-16",children:c.map((x,w)=>S.jsx(Cs.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},whileHover:{y:-6,scale:1.02},transition:{duration:.4,delay:w*.05,type:"spring",stiffness:300,damping:25},viewport:{once:!0},className:`group relative rounded-2xl border border-gray-200/50 dark:border-gray-700/50
                       bg-white/90 dark:bg-neutral-900/80 backdrop-blur-xl p-6 
                       shadow-lg hover:shadow-2xl transition-all duration-300
                       hover:border-indigo-400/40 hover:shadow-indigo-500/20
                       before:absolute before:inset-0 before:rounded-2xl before:bg-gradient-to-r 
                       before:from-indigo-500/5 before:to-purple-500/5 before:opacity-0 
                       hover:before:opacity-100 before:transition-opacity before:duration-300`,children:S.jsxs("div",{className:"relative z-10",children:[S.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[S.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300",children:x.title}),S.jsx("div",{className:"flex items-center gap-3",children:x.featured&&S.jsx("span",{className:`rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 
                                   text-white px-3 py-1 text-xs font-semibold shadow-sm`,children:"Featured"})})]}),S.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[x.tech.slice(0,4).map(T=>S.jsx("span",{className:`rounded-full border border-gray-200 dark:border-gray-700 
                               px-3 py-1 text-xs font-medium text-gray-600 dark:text-gray-400
                               bg-gray-50 dark:bg-gray-800/50 group-hover:bg-indigo-50 
                               dark:group-hover:bg-indigo-900/20 group-hover:border-indigo-300 
                               dark:group-hover:border-indigo-600 transition-all duration-200`,children:T},T)),x.tech.length>4&&S.jsxs("span",{className:`rounded-full border border-gray-200 dark:border-gray-700 
                                 px-3 py-1 text-xs font-medium text-gray-500 dark:text-gray-500
                                 bg-gray-50 dark:bg-gray-800/50`,children:["+",x.tech.length-4," more"]})]}),S.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:x.blurb}),x.features&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h5",{className:"text-xs font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Key Features:"}),S.jsx("ul",{className:"text-xs text-gray-600 dark:text-gray-400 space-y-1",children:x.features.slice(0,3).map((T,_)=>S.jsxs("li",{className:"flex items-start gap-2",children:[S.jsx("span",{className:"text-indigo-500 dark:text-indigo-400 mt-0.5",children:""}),S.jsx("span",{children:T})]},_))})]}),x.title==="Moops Bookstore"&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h5",{className:"text-xs font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Screenshots:"}),S.jsx("div",{className:"grid grid-cols-3 gap-2",children:d.slice(0,6).map((T,_)=>S.jsxs("button",{onClick:()=>p(_,x.title),className:"group relative overflow-hidden rounded-lg bg-gray-100 dark:bg-gray-800 aspect-video hover:scale-105 transition-transform duration-200",children:[S.jsx("img",{src:T.src,alt:T.title,className:"w-full h-full object-cover group-hover:brightness-110 transition-all duration-200"}),S.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center",children:S.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:S.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})]},_))})]}),x.title==="Exerly Fitness Platform"&&S.jsxs("div",{className:"mb-4",children:[S.jsx("h5",{className:"text-xs font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Screenshots:"}),S.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.slice(0,4).map((T,_)=>S.jsxs("button",{onClick:()=>p(_,x.title),className:"group relative overflow-hidden rounded-lg bg-gray-100 dark:bg-gray-800 aspect-video hover:scale-105 transition-transform duration-200",children:[S.jsx("img",{src:T.src,alt:T.title,className:"w-full h-full object-cover group-hover:brightness-110 transition-all duration-200"}),S.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center",children:S.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:S.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})})})]},_))})]}),x.buildLog&&S.jsx("div",{className:"mb-6 p-3 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 border border-gray-200 dark:border-gray-600",children:S.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:["Build Log: ",S.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:x.buildLog})]})}),S.jsxs("div",{className:"flex items-center gap-4",children:[x.gh&&S.jsxs("a",{className:`group/link inline-flex items-center gap-2 px-4 py-2 rounded-lg 
                               text-sm font-medium text-gray-700 dark:text-gray-300
                               bg-gray-100 dark:bg-gray-800 hover:bg-indigo-100 dark:hover:bg-indigo-900/20
                               hover:text-indigo-600 dark:hover:text-indigo-400
                               transition-all duration-200 hover:scale-105 hover:shadow-md`,href:x.gh,target:"_blank",rel:"noreferrer",children:[S.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})}),"GitHub",S.jsx("svg",{className:"w-3 h-3 group-hover/link:translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),x.live&&S.jsxs("a",{className:`group/link inline-flex items-center gap-2 px-4 py-2 rounded-lg 
                               text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-purple-500
                               hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 
                               hover:scale-105 hover:shadow-lg`,href:x.live,target:"_blank",rel:"noreferrer",children:[S.jsx(bd,{size:16,className:"group-hover/link:scale-110 transition-transform duration-200"}),"Live Demo"]})]})]})},x.title))}),S.jsxs("div",{className:"mt-16",children:[S.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-8",children:"Other Projects"}),S.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:h.map((x,w)=>S.jsx(Cs.article,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},whileHover:{y:-4,scale:1.01},transition:{duration:.4,delay:w*.05},viewport:{once:!0},className:`group relative rounded-2xl border border-gray-200/50 dark:border-gray-700/50
                         bg-white/90 dark:bg-neutral-900/80 backdrop-blur-xl p-6 
                         shadow-lg hover:shadow-xl transition-all duration-300
                         hover:border-gray-300/50 dark:hover:border-gray-600/50`,children:S.jsxs("div",{className:"relative z-10",children:[S.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-3 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300",children:x.title}),S.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[x.tech.slice(0,3).map(T=>S.jsx("span",{className:`rounded-full border border-gray-200 dark:border-gray-700 
                                 px-3 py-1 text-xs font-medium text-gray-600 dark:text-gray-400
                                 bg-gray-50 dark:bg-gray-800/50 group-hover:bg-indigo-50 
                                 dark:group-hover:bg-indigo-900/20 group-hover:border-indigo-300 
                                 dark:group-hover:border-indigo-600 transition-all duration-200`,children:T},T)),x.tech.length>3&&S.jsxs("span",{className:`rounded-full border border-gray-200 dark:border-gray-700 
                                   px-3 py-1 text-xs font-medium text-gray-500 dark:text-gray-500
                                   bg-gray-50 dark:bg-gray-800/50`,children:["+",x.tech.length-3," more"]})]}),S.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed mb-4",children:x.blurb}),S.jsxs("div",{className:"flex items-center gap-3",children:[x.gh&&S.jsxs("a",{className:`group/link inline-flex items-center gap-2 px-4 py-2 rounded-lg 
                                 text-sm font-medium text-gray-700 dark:text-gray-300
                                 bg-gray-100 dark:bg-gray-800 hover:bg-indigo-100 dark:hover:bg-indigo-900/20
                                 hover:text-indigo-600 dark:hover:text-indigo-400
                                 transition-all duration-200 hover:scale-105 hover:shadow-md
                                 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,href:x.gh,target:"_blank",rel:"noreferrer",children:[S.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})}),"GitHub"]}),x.live&&S.jsxs("a",{className:`group/link inline-flex items-center gap-2 px-4 py-2 rounded-lg 
                                 text-sm font-medium text-white bg-gradient-to-r from-indigo-500 to-purple-500
                                 hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 
                                 hover:scale-105 hover:shadow-lg
                                 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,href:x.live,target:"_blank",rel:"noreferrer",children:[S.jsx(bd,{size:16,className:"group-hover/link:scale-110 transition-transform duration-200"}),"Live Demo"]})]})]})},x.title))})]}),a&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:S.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] mx-4",children:[S.jsx("button",{onClick:y,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 hover:bg-white/30 transition-all duration-200",children:S.jsx(jS,{size:24,className:"text-white"})}),S.jsx("button",{onClick:v,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 hover:bg-white/30 transition-all duration-200",children:S.jsx(Xb,{size:24,className:"text-white"})}),S.jsx("button",{onClick:b,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 hover:bg-white/30 transition-all duration-200",children:S.jsx(Yb,{size:24,className:"text-white"})}),S.jsx("img",{src:a.src,alt:a.title,className:"w-full h-full object-contain rounded-lg shadow-2xl"}),S.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg",children:[S.jsx("h3",{className:"text-white font-semibold text-lg mb-1",children:a.title}),S.jsx("p",{className:"text-gray-300 text-sm",children:a.description}),S.jsxs("p",{className:"text-gray-400 text-xs mt-2",children:[e+1," of ",r?.length||0]})]})]})})]})}const DC="/Portfolio/assets/BMWengineTuningFullpicture-CBF4_UDj.jpg",NC="/Portfolio/assets/BMWTuningModule-CvWdZ7xe.jpg",LC="/Portfolio/assets/WrestlingPicture-m3VXv75K.jpg",PC="/Portfolio/assets/ComputerBuilds-Dmrlq9Da.jpg",OC="/Portfolio/assets/CornerstoneEngineeringSumoWrestlingBot-B1H2P3GF.png";function jC(){const[a,t]=Y.useState(0),[e,n]=Y.useState(!0),r=[{image:DC,title:"BMW Engine Tuning",description:"Passionate about German automotive engineering and performance tuning. Working on ECU modifications and understanding the mechanics behind high-performance engines.",gradient:"from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20",textColor:"text-indigo-600 dark:text-indigo-400"},{image:LC,title:"Wrestling Training",description:"Competitive wrestling builds discipline, mental toughness, and physical strength. The sport teaches me about strategy, quick thinking, and pushing through challenges.",gradient:"from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20",textColor:"text-red-600 dark:text-red-400"},{image:PC,title:"Computer Builds",description:"Building custom PCs from scratch, optimizing performance, and understanding hardware. It's like solving puzzles with components to create the perfect system.",gradient:"from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20",textColor:"text-blue-600 dark:text-blue-400"},{image:NC,title:"Tuning Module",description:"Working with aftermarket tuning modules to enhance vehicle performance. Learning about engine management systems and the science of automotive optimization.",gradient:"from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20",textColor:"text-emerald-600 dark:text-emerald-400"},{image:OC,title:"Sumo Wrestling Bot",description:"Engineering project building autonomous sumo wrestling robots. Combines mechanical design, programming, and strategy in competitive robotics.",gradient:"from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20",textColor:"text-purple-600 dark:text-purple-400"}],l=()=>{t(f=>(f+1)%r.length)},c=()=>{t(f=>(f-1+r.length)%r.length)},h=f=>{t(f)},d=()=>{n(!e)};return Y.useEffect(()=>{if(!e)return;const f=setInterval(()=>{t(p=>(p+1)%r.length)},5e3);return()=>clearInterval(f)},[r.length,e]),S.jsxs(za,{id:"interests",className:"max-w-6xl mx-auto px-4 py-16 md:py-20","aria-labelledby":"interests-heading",children:[S.jsx("h2",{id:"interests-heading",className:"text-3xl md:text-4xl font-bold tracking-tight gradient-heading mb-4 text-center",children:"My Interests & Projects"}),S.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-12 max-w-2xl mx-auto text-center",children:"Beyond coding, here's what drives my passion and creativity."}),S.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[S.jsxs("div",{className:`relative overflow-hidden rounded-3xl border border-gray-200/50 dark:border-gray-700/50
                        bg-white/90 dark:bg-neutral-900/80 backdrop-blur-xl shadow-2xl`,children:[S.jsxs("div",{className:"aspect-[4/3] overflow-hidden relative bg-gray-100 dark:bg-gray-800",children:[S.jsx("img",{src:r[a].image,alt:r[a].title,className:"w-full h-full object-contain transition-all duration-700 ease-out",style:{transform:a===0||a===2?"rotate(-90deg) scale(1.3)":"none"}}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),S.jsx("button",{onClick:c,className:`absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/20 dark:bg-gray-900/20 
                         backdrop-blur-sm border border-white/30 dark:border-gray-700/30
                         hover:bg-white/30 dark:hover:bg-gray-900/30 hover:scale-110
                         transition-all duration-300 group`,"aria-label":"Previous slide",children:S.jsx(Xb,{size:24,className:"text-white group-hover:text-gray-100"})}),S.jsx("button",{onClick:l,className:`absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/20 dark:bg-gray-900/20 
                         backdrop-blur-sm border border-white/30 dark:border-gray-700/30
                         hover:bg-white/30 dark:hover:bg-gray-900/30 hover:scale-110
                         transition-all duration-300 group`,"aria-label":"Next slide",children:S.jsx(Yb,{size:24,className:"text-white group-hover:text-gray-100"})}),S.jsx("button",{onClick:d,className:`absolute top-4 right-4 p-3 rounded-full bg-white/20 dark:bg-gray-900/20 
                         backdrop-blur-sm border border-white/30 dark:border-gray-700/30
                         hover:bg-white/30 dark:hover:bg-gray-900/30 hover:scale-110
                         transition-all duration-300 group`,"aria-label":e?"Pause slideshow":"Play slideshow",children:e?S.jsx(wS,{size:20,className:"text-white group-hover:text-gray-100"}):S.jsx(ES,{size:20,className:"text-white group-hover:text-gray-100"})})]}),S.jsxs("div",{className:`p-8 bg-gradient-to-br ${r[a].gradient} 
                          transition-all duration-500 ease-out`,children:[S.jsx("h3",{className:`text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 
                            ${r[a].textColor} transition-colors duration-300`,children:r[a].title}),S.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-lg",children:r[a].description})]})]}),S.jsx("div",{className:"flex justify-center mt-8 space-x-3",children:r.map((f,p)=>S.jsx("button",{onClick:()=>h(p),className:`w-3 h-3 rounded-full transition-all duration-300 ${p===a?"bg-gradient-to-r from-indigo-500 to-purple-500 scale-125 shadow-lg":"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500"}`,"aria-label":`Go to slide ${p+1}`},p))}),S.jsx("div",{className:"text-center mt-4",children:S.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a+1," of ",r.length,e?S.jsx("span",{className:"ml-2 text-green-500",children:" Auto-playing"}):S.jsx("span",{className:"ml-2 text-yellow-500",children:" Paused"})]})})]})]})}const Ue=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),zd=[.001,0,0,.001,0,0],cd=1.35,ui={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Xi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},T1="pdfjs_internal_editor_",vt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},_1={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Be={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},eo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},re={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},va={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xo={ERRORS:0,WARNINGS:1,INFOS:5},co={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Yl={moveTo:0,lineTo:1,curveTo:2,closePath:3},C1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let yc=xo.WARNINGS;function BC(a){Number.isInteger(a)&&(yc=a)}function IC(){return yc}function bc(a){yc>=xo.INFOS&&console.log(`Info: ${a}`)}function xt(a){yc>=xo.WARNINGS&&console.log(`Warning: ${a}`)}function zt(a){throw new Error(a)}function be(a,t){a||zt(t)}function FC(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Df(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"&&(e.addDefaultProtocol&&a.startsWith("www.")&&a.match(/\./g)?.length>=2&&(a=`http://${a}`),e.tryConvertEncoding))try{a=GC(a)}catch{}const n=t?URL.parse(a,t):URL.parse(a);return FC(n)?n:null}function Nf(a,t,e=!1){const n=URL.parse(a);return n?(n.hash=t,n.href):e&&Df(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ct(a,t,e,n=!1){return Object.defineProperty(a,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Ds=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class fb extends Ds{constructor(t,e){super(t,"PasswordException"),this.code=e}}class ud extends Ds{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class hc extends Ds{constructor(t){super(t,"InvalidPDFException")}}class uo extends Ds{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class zC extends Ds{constructor(t){super(t,"FormatError")}}class yn extends Ds{constructor(t){super(t,"AbortException")}}function M1(a){(typeof a!="object"||a?.length===void 0)&&zt("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const n=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),c=a.subarray(r,l);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function Ao(a){typeof a!="string"&&zt("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=a.charCodeAt(n)&255;return e}function VC(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function HC(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function UC(){try{return new Function(""),!0}catch{return!1}}class Ce{static get isLittleEndian(){return Ct(this,"isLittleEndian",HC())}static get isEvalSupported(){return Ct(this,"isEvalSupported",UC())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ct(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ct(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ct(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const hd=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class lt{static makeHexColor(t,e,n){return`#${hd[t]}${hd[e]}${hd[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,n=0){const r=t[n],l=t[n+1];t[n]=r*e[0]+l*e[2]+e[4],t[n+1]=r*e[1]+l*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],l=e[1],c=e[2],h=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const y=t[n+p],b=t[n+p+1];t[n+p]=y*r+b*c+d,t[n+p+1]=y*l+b*h+f}}static applyInverseTransform(t,e){const n=t[0],r=t[1],l=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/l,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/l}static axialAlignedBoundingBox(t,e,n){const r=e[0],l=e[1],c=e[2],h=e[3],d=e[4],f=e[5],p=t[0],y=t[1],b=t[2],v=t[3];let x=r*p+d,w=x,T=r*b+d,_=T,k=h*y+f,C=k,N=h*v+f,M=N;if(l!==0||c!==0){const j=l*p,B=l*b,U=c*y,$=c*v;x+=U,_+=U,T+=$,w+=$,k+=j,M+=j,N+=B,C+=B}n[0]=Math.min(n[0],x,T,w,_),n[1]=Math.min(n[1],k,N,C,M),n[2]=Math.max(n[2],x,T,w,_),n[3]=Math.max(n[3],k,N,C,M)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],l=t[2],c=t[3],h=n**2+r**2,d=n*l+r*c,f=l**2+c**2,p=(h+f)/2,y=Math.sqrt(p**2-(h*f-d**2));e[0]=Math.sqrt(p+y||1),e[1]=Math.sqrt(p-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>c?null:[n,l,r,c]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,l){l[0]=Math.min(l[0],t,n),l[1]=Math.min(l[1],e,r),l[2]=Math.max(l[2],t,n),l[3]=Math.max(l[3],e,r)}static#t(t,e,n,r,l,c,h,d,f,p){if(f<=0||f>=1)return;const y=1-f,b=f*f,v=b*f,x=y*(y*(y*t+3*f*e)+3*b*n)+v*r,w=y*(y*(y*l+3*f*c)+3*b*h)+v*d;p[0]=Math.min(p[0],x),p[1]=Math.min(p[1],w),p[2]=Math.max(p[2],x),p[3]=Math.max(p[3],w)}static#e(t,e,n,r,l,c,h,d,f,p,y,b){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,r,l,c,h,d,-y/p,b);return}const v=p**2-4*y*f;if(v<0)return;const x=Math.sqrt(v),w=2*f;this.#t(t,e,n,r,l,c,h,d,(-p+x)/w,b),this.#t(t,e,n,r,l,c,h,d,(-p-x)/w,b)}static bezierBoundingBox(t,e,n,r,l,c,h,d,f){f[0]=Math.min(f[0],t,h),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,h),f[3]=Math.max(f[3],e,d),this.#e(t,n,l,h,e,r,c,d,3*(-t+3*(n-l)+h),6*(t-2*n+l),3*(n-t),f),this.#e(t,n,l,h,e,r,c,d,3*(-e+3*(r-c)+d),6*(e-2*r+c),3*(r-e),f)}}function GC(a){return decodeURIComponent(escape(a))}let dd=null,gb=null;function R1(a){return dd||(dd=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gb=new Map([["","t"]])),a.replaceAll(dd,(t,e,n)=>e?e.normalize("NFKC"):gb.get(n))}function Lf(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),M1(a)}const Pf="pdfjs_internal_id_";function qC(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...l]=e;if(!a(n)&&!Number.isInteger(n)||!t(r))return!1;const c=l.length;let h=!0;switch(r.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;h=!1;break;default:return!1}for(const d of l)if(!(typeof d=="number"||h&&d===null))return!1;return!0}function Ie(a,t,e){return Math.min(Math.max(a,t),e)}function k1(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(M1(a))}function XC(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):Ao(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});const fn="http://www.w3.org/2000/svg";class Ms{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Va(a,t="text"){if(Yr(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",a,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class wo{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:l=0,offsetY:c=0,dontFlip:h=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=l,this.offsetY=c,n*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,y,b,v;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,y=0,b=0,v=1;break;case 90:p=0,y=1,b=1,v=0;break;case 270:p=0,y=-1,b=-1,v=0;break;case 0:p=1,y=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(b=-b,v=-v);let x,w,T,_;p===0?(x=Math.abs(f-t[1])*n+l,w=Math.abs(d-t[0])*n+c,T=(t[3]-t[1])*n,_=(t[2]-t[0])*n):(x=Math.abs(d-t[0])*n+l,w=Math.abs(f-t[1])*n+c,T=(t[2]-t[0])*n,_=(t[3]-t[1])*n),this.transform=[p*n,y*n,b*n,v*n,x-p*n*d-b*n*f,w-y*n*d-v*n*f],this.width=T,this.height=_}get rawDims(){const t=this.viewBox;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new wo({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){const n=[t,e];return lt.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];lt.applyTransform(e,this.transform);const n=[t[2],t[3]];return lt.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return lt.applyInverseTransform(n,this.transform),n}}class vc extends Ds{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function So(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function xc(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function D1(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function N1(a,t="document.pdf"){if(typeof a!="string")return t;if(So(a))return xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(h=>{try{return new URL(h)}catch{try{return new URL(decodeURIComponent(h))}catch{try{return new URL(h,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(h),"https://foo.bar")}catch{return null}}}}})(a);if(!n)return t;const r=h=>{try{let d=decodeURIComponent(h);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:h):d}catch{return h}},l=/\.pdf$/i,c=n.pathname.split("/").at(-1);if(l.test(c))return r(c);if(n.searchParams.size>0){const h=Array.from(n.searchParams.values()).reverse();for(const f of h)if(l.test(f))return r(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(l.test(f))return r(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return t}class pb{started=Object.create(null);times=[];time(t){t in this.started&&xt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||xt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:l}of this.times)t.push(`${n.padEnd(e)} ${l-r}ms
`);return t.join("")}}function Yr(a,t){const e=t?URL.parse(a,t):URL.parse(a);return e?.protocol==="http:"||e?.protocol==="https:"}function Ci(a){a.preventDefault()}function ce(a){a.preventDefault(),a.stopPropagation()}function YC(a){console.log("Deprecated API usage: "+a)}class Of{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(e[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(e[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,f==="-"?(c+=p,h+=y):f==="+"&&(c-=p,h-=y),new Date(Date.UTC(n,r,l,c,h,d))}}function L1(a,{scale:t=1,rotation:e=0}){const{width:n,height:r}=a.attributes.style,l=[0,0,parseInt(n),parseInt(r)];return new wo({viewBox:l,userUnit:1,scale:t,rotation:e})}function jf(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(xt(`Not a valid color format: "${a}"`),[0,0,0])}function $C(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;a.set(e,jf(n))}t.remove()}function Wt(a){const{a:t,b:e,c:n,d:r,e:l,f:c}=a.getTransform();return[t,e,n,r,l,c]}function Vi(a){const{a:t,b:e,c:n,d:r,e:l,f:c}=a.getTransform().invertSelf();return[t,e,n,r,l,c]}function Yn(a,t,e=!1,n=!0){if(t instanceof wo){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=a,h=Ce.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${l}px`,p=h?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,y=h?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(c.width=p,c.height=y):(c.width=y,c.height=p)}n&&a.setAttribute("data-main-rotation",t.rotation)}class Li{constructor(){const{pixelRatio:t}=Li;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,l=-1){let c=1/0,h=1/0,d=1/0;n=Li.capPixels(n,l),n>0&&(c=Math.sqrt(n/(t*e))),r!==-1&&(h=r/t,d=r/e);const f=Math.min(c,h,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const dc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class io{#t=null;#e=null;#i;#n=null;#a=null;#s=null;static#o=null;constructor(t){this.#i=t,io.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;t.addEventListener("contextmenu",Ci,{signal:e}),t.addEventListener("pointerdown",io.#r,{signal:e});const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const r=this.#i.toolbarPosition;if(r){const{style:l}=t,c=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#r(t){t.stopPropagation()}#h(t){this.#i._focusEventsAllowed=!1,ce(t)}#l(t){this.#i._focusEventsAllowed=!0,ce(t)}#d(t){const e=this.#i._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ci,{signal:e})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",io.#o[t]),this.#d(n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#u(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#n.append(e,this.#u),this.#a=t}addColorPicker(t){this.#e=t;const e=t.renderButton();this.#d(e),this.#n.append(e,this.#u)}async addEditSignatureButton(t){const e=this.#s=await t.renderEditButton(this.#i);this.#d(e),this.#n.append(e,this.#u)}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){this.#s&&(this.#s.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class KC{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ci,{signal:this.#i._signal});const e=this.#t=document.createElement("div");return e.className="buttons",t.append(e),this.#s(),t}#a(t,e){let n=0,r=0;for(const l of t){const c=l.y+l.height;if(c<n)continue;const h=l.x+(e?l.width:0);if(c>n){r=h,n=c;continue}e?h>r&&(r=h):h<r&&(r=h)}return[e?1-r:r,n]}show(t,e,n){const[r,l]=this.#a(e,n),{style:c}=this.#e||=this.#n();t.append(this.#e),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#i._signal;t.addEventListener("contextmenu",Ci,{signal:n}),t.addEventListener("click",()=>{this.#i.highlightSelection("floating_button")},{signal:n}),this.#t.append(t)}}function P1(a,t,e){for(const n of e)t.addEventListener(n,a[n].bind(a))}class WC{#t=0;get id(){return`${T1}${this.#t++}`}}class Bf{#t=Lf();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",l)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await Va(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=Bf._isSVGFittingCanvas,c=new FileReader,h=new Image,d=new Promise((f,p)=>{h.onload=()=>{n.bitmap=h,n.isSvg=!0,f()},c.onload=async()=>{const y=n.svgUrl=c.result;h.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},h.onerror=c.onerror=p});c.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){xt(r),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:l}=t;return this.#n(`${e}_${n}_${r}_${l}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class QC{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:n,type:l};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(c&&this.#t[this.#n].type===l){h&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Eo{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ce.platform;for(const[n,r,l={}]of t)for(const c of n){const h=c.startsWith("mac+");e&&h?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!e&&!h&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:h=null}}=n;h&&!h(t,e)||(r.bind(t,...c,e)(),l||ce(e))}}class If{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return $C(t),Ct(this,"_colors",t)}convert(t){const e=jf(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((l,c)=>l===e[c]))return If._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?lt.makeHexColor(...e):t}}class bn{#t=new AbortController;#e=null;#i=new Map;#n=new Map;#a=null;#s=null;#o=null;#r=new QC;#h=null;#l=null;#d=0;#u=new Set;#f=null;#g=null;#p=new Set;_editorUndoBar=null;#c=!1;#m=!1;#y=!1;#b=null;#x=null;#A=null;#w=null;#T=!1;#C=null;#R=new WC;#S=!1;#M=!1;#_=null;#D=null;#N=null;#L=null;#z=null;#E=vt.NONE;#v=new Set;#B=null;#I=null;#U=null;#G=null;#q={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#P=null;#O=null;#H=null;#K=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=bn.prototype,e=c=>c.#O.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new Eo([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#O.contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&c.#O.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}constructor(t,e,n,r,l,c,h,d,f,p,y,b,v,x,w){const T=this._signal=this.#t.signal;this.#O=t,this.#H=e,this.#K=n,this.#a=r,this.#I=l,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:T}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:T}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:T}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:T}),c._on("setpreference",this.onSetPreference.bind(this),{signal:T}),c._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:T}),this.#st(),this.#lt(),this.#Q(),this.#s=h.annotationStorage,this.#b=h.filterFactory,this.#U=d,this.#w=f||null,this.#c=p,this.#m=y,this.#y=b,this.#z=v||null,this.viewParameters={realScale:Ms.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=w!==!1}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#n.values())t.destroy();this.#n.clear(),this.#i.clear(),this.#p.clear(),this.#L?.clear(),this.#e=null,this.#v.clear(),this.#r.destroy(),this.#a?.destroy(),this.#I?.destroy(),this.#C?.hide(),this.#C=null,this.#N?.destroy(),this.#N=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#z}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ct(this,"hcmFilter",this.#U?this.#b.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(this.#O).direction)}get highlightColors(){return Ct(this,"highlightColors",this.#w?new Map(this.#w.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=t}setMainHighlightColorPicker(t){this.#N=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}getSignature(t){this.#I?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#I}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#O.focus()}findParent(t,e){for(const n of this.#n.values()){const{x:r,y:l,width:c,height:h}=n.div.getBoundingClientRect();if(t>=r&&t<=r+c&&e>=l&&e<=l+h)return n}return null}disableUserSelect(t=!1){this.#H.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Ms.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Y({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#W(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#n.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c}=e,h=e.toString(),f=this.#Y(e).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;e.empty();const y=this.#W(f),b=this.#E===vt.NONE,v=()=>{y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c,text:h}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(vt.HIGHLIGHT,v);return}v()}#it(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Y(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#C||=new KC(this),this.#C.show(n,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#K;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#nt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#B&&(this.#C?.hide(),this.#B=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#B)return;const r=this.#Y(t).closest(".textLayer");if(!r){this.#B&&(this.#C?.hide(),this.#B=null,this.#k({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#B=e,this.#k({hasSelectedText:!0}),!(this.#E!==vt.HIGHLIGHT&&this.#E!==vt.NONE)&&(this.#E===vt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#T=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#E===vt.HIGHLIGHT?this.#W(r):null;l?.toggleDrawing();const c=new AbortController,h=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l?.toggleDrawing(!0),f.type==="pointerup"&&this.#$("main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}}#$(t=""){this.#E===vt.HIGHLIGHT?this.highlightSelection(t):this.#c&&this.#it()}#st(){document.addEventListener("selectionchange",this.#nt.bind(this),{signal:this._signal})}#at(){if(this.#A)return;this.#A=new AbortController;const t=this.combinedSignal(this.#A);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#rt(){this.#A?.abort(),this.#A=null}blur(){if(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#$("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#v)if(e.div.contains(t)){this.#D=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[t,e]=this.#D;this.#D=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#Q(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ot(){this.#_?.abort(),this.#_=null}#Z(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#J(){this.#h?.abort(),this.#h=null}#lt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#ot(),this.#J()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#g)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#g)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#v){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const c of this.#g)if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){xt(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const d of n){const f=await r.deserialize(d);if(!f)return;l.push(f)}const c=()=>{for(const d of l)this.#tt(d);this.#et(l)},h=()=>{for(const d of l)d.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){xt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==vt.NONE&&!this.isEditorHandlingKeyboard&&bn._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#T&&(this.#T=!1,this.#$("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#k(t){Object.entries(t).some(([n,r])=>this.#q[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#q,t)}),this.#E===vt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#F([[Mt.HIGHLIGHT_FREE,!0]]))}#F(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#at(),this.#Z(),this.#k({isEditing:this.#E!==vt.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#rt(),this.#J(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#g){this.#g=t;for(const e of this.#g)this.#F(e.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#n.get(this.#d)}getLayer(t){return this.#n.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#n.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#n.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1){if(this.#E!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#E=t,t===vt.NONE){this.setEditingState(!1),this.#ut(),this._editorUndoBar?.hide(),this.#j.resolve();return}t===vt.SIGNATURE&&await this.#I?.loadSignatures(),this.setEditingState(!0),await this.#ct(),this.unselectAll();for(const l of this.#n.values())l.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const l of this.#i.values())l.annotationElementId===e||l.id===e?(this.setSelected(l),r&&l.enterInEditMode()):l.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#g){switch(t){case Mt.CREATE:this.currentLayer.addNewEditor(e);return;case Mt.HIGHLIGHT_DEFAULT_COLOR:this.#N?.updateColor(e);break;case Mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(t,e),this.showAllEditors("highlight",e);break}for(const n of this.#v)n.updateParams(t,e);for(const n of this.#g)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const l of this.#i.values())l.editorType===t&&l.show(e);(this.#G?.get(Mt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#F([[Mt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#M!==t){this.#M=t;for(const e of this.#n.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ct(){if(!this.#S){this.#S=!0;const t=[];for(const e of this.#n.values())t.push(e.enable());await Promise.all(t);for(const e of this.#i.values())e.enable()}}#ut(){if(this.unselectAll(),this.#S){this.#S=!1;for(const t of this.#n.values())t.disable();for(const t of this.#i.values())t.disable()}}getEditors(t){const e=[];for(const n of this.#i.values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return this.#i.get(t)}addEditor(t){this.#i.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#i.delete(t.id),t.annotationElementId&&this.#L?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#tt(t){const e=this.#n.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#F(t.propertiesToUpdate))}get#ht(){let t=null;for(t of this.#v);return t}updateUI(t){this.#ht===t&&this.#F(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#F(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#v.has(t)){this.#v.delete(t),t.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#v.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#l?.commitOrRemove();for(const e of this.#v)e!==t&&e.unselect();this.#v.clear(),this.#v.add(t),t.select(),this.#F(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(t){return this.#v.has(t)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(t){t.unselect(),this.#v.delete(t),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#v.size!==0}get isEnterHandled(){return this.#v.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#r.undo(),this.#k({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#r.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(t){this.#r.add(t),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(t){this.#r.cleanType(t)}#X(){if(this.#i.size===0)return!0;if(this.#i.size===1)for(const t of this.#i.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#v],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const l of e)l.remove()},r=()=>{for(const l of e)this.#tt(l)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#et(t){for(const e of this.#v)e.unselect();this.#v.clear();for(const e of t)e.isEmpty()||(this.#v.add(e),e.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#v)t.commit();this.#et(this.#i.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==vt.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const t of this.#v)t.unselect();this.#v.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=t,this.#V[1]+=e;const[r,l]=this.#V,c=[...this.#v],h=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const d of c)this.#i.has(d.id)&&(d.translateInPage(r,l),d.translationDone())},undo:()=>{for(const d of c)this.#i.has(d.id)&&(d.translateInPage(-r,-l),d.translationDone())},mustExec:!1})},h);for(const d of c)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#v)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let e=!1;for(const[{x:r,y:l,pageIndex:c},h]of t)h.newX=r,h.newY=l,h.newPageIndex=c,e||=r!==h.savedX||l!==h.savedY||c!==h.savedPageIndex;if(!e)return!1;const n=(r,l,c,h)=>{if(this.#i.has(r.id)){const d=this.#n.get(h);d?r._setParentAndPosition(d,l,c):(r.pageIndex=h,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:h}]of t)n(r,l,c,h)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:h}]of t)n(r,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#f)for(const n of this.#f.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#v.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}get imageManager(){return Ct(this,"imageManager",new Bf)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:r,width:l,height:c}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(f,p,y,b)=>({x:(p-r)/c,y:1-(f+y-n)/l,width:b/c,height:y/l});break;case"180":h=(f,p,y,b)=>({x:1-(f+y-n)/l,y:1-(p+b-r)/c,width:y/l,height:b/c});break;case"270":h=(f,p,y,b)=>({x:1-(p+b-r)/c,y:(f-n)/l,width:b/c,height:y/l});break;default:h=(f,p,y,b)=>({x:(f-n)/l,y:(p-r)/c,width:y/l,height:b/c});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const y=e.getRangeAt(f);if(!y.collapsed)for(const{x:b,y:v,width:x,height:w}of y.getClientRects())x===0||w===0||d.push(h(b,v,x,w))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#s.getRawValue(e);n&&(this.#E===vt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#L?.get(t);r&&(r.setCanvas(e,n),this.#L.delete(t))}addMissingCanvas(t,e){(this.#L||=new Map).set(t,e)}}class Gi{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#o=!1;#r=null;#h=null;#l=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,Gi.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Gi._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",Gi.#f.missing),e.setAttribute("data-l10n-id",Gi.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#h._uiManager._signal;t.addEventListener("contextmenu",Ci,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const r=l=>{l.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#o=!0,r(l))},{signal:n}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await Gi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#r?.remove(),this.#r=null;return}if(!this.#r){const e=this.#r=document.createElement("div");e.className="noAltTextBadge",this.#h.div.append(e)}this.#r.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:l=!1}){n&&(this.#l=n,this.#d=r),!(this.#t===t&&this.#e===e)&&(l||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#r?.remove(),this.#r=null}async#p(){const t=this.#i;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Gi.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Gi.#f[`${this.#g}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#h.id}`;const r=100,l=this.#h._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:l}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:l})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#h.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class To{#t;#e=!1;#i=null;#n;#a;#s;#o;#r=null;#h;#l=null;#d;#u=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:l=null,onPinchEnd:c=null,signal:h}){this.#t=t,this.#i=n,this.#n=e,this.#a=r,this.#s=l,this.#o=c,this.#d=new AbortController,this.#h=AbortSignal.any([h,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Li.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#r)return;const r=this.#r=new AbortController,l=AbortSignal.any([this.#h,r.signal]),c=this.#t,h={capture:!0,signal:l,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#r?.abort(),this.#r=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ce(f),d(f))},h),c.addEventListener("pointerup",d,h),c.addEventListener("pointercancel",d,h);return}if(!this.#u){this.#u=new AbortController;const r=AbortSignal.any([this.#h,this.#u.signal]),l=this.#t,c={signal:r,capture:!1,passive:!1};l.addEventListener("touchmove",this.#g.bind(this),c);const h=this.#p.bind(this);l.addEventListener("touchend",h,c),l.addEventListener("touchcancel",h,c),c.capture=!0,l.addEventListener("pointerdown",ce,c),l.addEventListener("pointermove",ce,c),l.addEventListener("pointercancel",ce,c),l.addEventListener("pointerup",ce,c),this.#a?.()}if(ce(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;ce(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:l}=e,{screenX:c,screenY:h}=n,d=this.#l,{touch0X:f,touch0Y:p,touch1X:y,touch1Y:b}=d,v=y-f,x=b-p,w=c-r,T=h-l,_=Math.hypot(w,T)||1,k=Math.hypot(v,x)||1;if(!this.#e&&Math.abs(k-_)<=To.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=l,d.touch1X=c,d.touch1Y=h,!this.#e){this.#e=!0;return}const C=[(r+c)/2,(l+h)/2];this.#s?.(C,k,_)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#l&&(ce(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#r?.abort(),this.#r=null}}class ut{#t=null;#e=null;#i=null;#n=!1;#a=null;#s="";#o=!1;#r=null;#h=null;#l=null;#d=null;#u="";#f=!1;#g=null;#p=!1;#c=!1;#m=!1;#y=null;#b=0;#x=0;#A=null;#w=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#T=!1;#C=ut._zIndex++;static _borderLineWidth=-1;static _colorManager=new If;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ut.prototype._resizeWithKeyboard,e=bn.TRANSLATE_SMALL,n=bn.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new Eo([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],ut.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[l,c];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new ZC({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(ut._l10n??=t,ut._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ut._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);ut._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){zt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#T}set _isDraggable(t){this.#T=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#H(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[l,c]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/l,this.y=(e+r)/c,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#R([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#R(this.parentDimensions,t,e)}translateInPage(t,e){this.#g||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#g||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,l]}=this;if(this.x+=t/r,this.y+=e/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:h}=this;const[d,f]=this.getBaseTranslation();c+=d,h+=f;const{style:p}=n;p.left=`${(100*c).toFixed(2)}%`,p.top=`${(100*h).toFixed(2)}%`,this._onTranslating(c,h),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#g&&(this.#g[0]!==this.x||this.#g[1]!==this.y)}get _hasBeenResized(){return!!this.#g&&(this.#g[2]!==this.width||this.#g[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=ut,r=n/t,l=n/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:l,y:c,width:h,height:d}=this;if(h*=n,d*=r,l*=n,c*=r,this._mustFixPosition)switch(t){case 0:l=Ie(l,0,n-h),c=Ie(c,0,r-d);break;case 90:l=Ie(l,0,n-d),c=Ie(c,h,r);break;case 180:l=Ie(l,h,n),c=Ie(c,d,r);break;case 270:l=Ie(l,d,n),c=Ie(c,0,r-h);break}this.x=l/=n,this.y=c/=r;const[f,p]=this.getBaseTranslation();l+=f,c+=p,e.left=`${(100*l).toFixed(2)}%`,e.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#S(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return ut.#S(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return ut.#S(t,e,360-this.parentRotation)}#M(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/n).toFixed(2)}%`,this.#o||(l.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),l=!this.#o&&e.endsWith("%");if(r&&l)return;const[c,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/c).toFixed(2)}%`),!this.#o&&!l&&(t.height=`${(100*parseFloat(e)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#_(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#r.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#D.bind(this,n),{signal:e}),r.addEventListener("contextmenu",Ci,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#r)}#D(t,e){e.preventDefault();const{isMac:n}=Ce.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#h=[e.screenX,e.screenY];const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#z.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",ce,{passive:!1,signal:c}),window.addEventListener("contextmenu",Ci,{signal:c}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=h,this.div.style.cursor=d,this.#L()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#N(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e;const[l,c]=this.parentDimensions;this.setDims(l*n,c*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#L(){if(!this.#l)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#l;this.#l=null;const l=this.x,c=this.y,h=this.width,d=this.height;l===t&&c===e&&h===n&&d===r||this.addCommands({cmd:this.#N.bind(this,l,c,h,d),undo:this.#N.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#z(t,e){const[n,r]=this.parentDimensions,l=this.x,c=this.y,h=this.width,d=this.height,f=ut.MIN_SIZE/n,p=ut.MIN_SIZE/r,y=this.#M(this.rotation),b=(L,I)=>[y[0]*L+y[2]*I,y[1]*L+y[3]*I],v=this.#M(360-this.rotation),x=(L,I)=>[v[0]*L+v[2]*I,v[1]*L+v[3]*I];let w,T,_=!1,k=!1;switch(t){case"topLeft":_=!0,w=(L,I)=>[0,0],T=(L,I)=>[L,I];break;case"topMiddle":w=(L,I)=>[L/2,0],T=(L,I)=>[L/2,I];break;case"topRight":_=!0,w=(L,I)=>[L,0],T=(L,I)=>[0,I];break;case"middleRight":k=!0,w=(L,I)=>[L,I/2],T=(L,I)=>[0,I/2];break;case"bottomRight":_=!0,w=(L,I)=>[L,I],T=(L,I)=>[0,0];break;case"bottomMiddle":w=(L,I)=>[L/2,I],T=(L,I)=>[L/2,0];break;case"bottomLeft":_=!0,w=(L,I)=>[0,I],T=(L,I)=>[L,0];break;case"middleLeft":k=!0,w=(L,I)=>[0,I/2],T=(L,I)=>[L,I/2];break}const C=w(h,d),N=T(h,d);let M=b(...N);const j=ut._round(l+M[0]),B=ut._round(c+M[1]);let U=1,$=1,Q,J;if(e.fromKeyboard)({deltaX:Q,deltaY:J}=e);else{const{screenX:L,screenY:I}=e,[tt,ct]=this.#h;[Q,J]=this.screenToPageTranslation(L-tt,I-ct),this.#h[0]=L,this.#h[1]=I}if([Q,J]=x(Q/n,J/r),_){const L=Math.hypot(h,d);U=$=Math.max(Math.min(Math.hypot(N[0]-C[0]-Q,N[1]-C[1]-J)/L,1/h,1/d),f/h,p/d)}else k?U=Ie(Math.abs(N[0]-C[0]-Q),f,1)/h:$=Ie(Math.abs(N[1]-C[1]-J),p,1)/d;const rt=ut._round(h*U),dt=ut._round(d*$);M=b(...T(rt,dt));const nt=j-M[0],pt=B-M[1];this.#g||=[this.x,this.y,this.width,this.height],this.width=rt,this.height=dt,this.x=nt,this.y=pt,this.setDims(n*rt,r*dt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new io(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#i?.destroy())}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Gi.initialize(ut._l10n),this.#i=new Gi(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#n?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#G();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,l]=this.getInitialTranslation();return this.translate(r,l),P1(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#w||=new To({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#v.bind(this),onPinchEnd:this.#B.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#E(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#v(t,e,n){let l=.7*(n/e)+1-.7;if(l===1)return;const c=this.#M(this.rotation),h=(j,B)=>[c[0]*j+c[2]*B,c[1]*j+c[3]*B],[d,f]=this.parentDimensions,p=this.x,y=this.y,b=this.width,v=this.height,x=ut.MIN_SIZE/d,w=ut.MIN_SIZE/f;l=Math.max(Math.min(l,1/b,1/v),x/b,w/v);const T=ut._round(b*l),_=ut._round(v*l);if(T===b&&_===v)return;this.#g||=[p,y,b,v];const k=h(b/2,v/2),C=ut._round(p+k[0]),N=ut._round(y+k[1]),M=h(T/2,_/2);this.x=C-M[0],this.y=N-M[1],this.width=T,this.height=_,this.setDims(d*T,f*_),this.fixAndSetPosition(),this._onResizing()}#B(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#L()}pointerdown(t){const{isMac:e}=Ce.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#U(t);return}this.#I(t)}#I(t){const{isMac:e}=Ce.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#U(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,l=this._uiManager.combinedSignal(r),c={capture:!0,passive:!1,signal:l},h=f=>{r.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#I(f),n&&this._onStopDragging()};e&&(this.#b=t.clientX,this.#x=t.clientY,this.#a=t.pointerId,this.#s=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._onStartDragging());const{clientX:p,clientY:y,pointerId:b}=f;if(b!==this.#a){ce(f);return}const[v,x]=this.screenToPageTranslation(p-this.#b,y-this.#x);this.#b=p,this.#x=y,this._uiManager.dragSelectedEditors(v,x)},c),window.addEventListener("touchmove",ce,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#s&&(this.#w||f.isPrimary)&&h(f),ce(f)},c));const d=f=>{if(!this.#a||this.#a===f.pointerId){h(f);return}ce(f)};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[h,d]=this.pageTranslation,f=t/r,p=e/r,y=this.x*l,b=this.y*c,v=this.width*l,x=this.height*c;switch(n){case 0:return[y+f+h,c-b-p-x+d,y+f+v+h,c-b-p+d];case 90:return[y+p+h,c-b+f+d,y+p+x+h,c-b+f+v+d];case 180:return[y-f-v+h,c-b+p+d,y-f+h,c-b+p+x+d];case 270:return[y-p-x+h,c-b-f-v+d,y-p+h,c-b-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,l,c]=t,h=l-n,d=c-r;switch(this.rotation){case 0:return[n,e-c,h,d];case 90:return[n,e-r,d,h];case 180:return[l,e-r,h,d];case 270:return[l,e-c,d,h];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#m}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return e<c&&r>0&&t<l&&n>0}#G(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#G()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){zt("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[l,c]=r.pageDimensions,[h,d,f,p]=r.getRectInCurrentCoords(t.rect,c);return r.x=h/l,r.y=d/c,r.width=f/l,r.height=p/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#H(),this.removeEditToolbar(),this.#A){for(const t of this.#A.values())clearTimeout(t);this.#A=null}this.parent=null,this.#w?.destroy(),this.#w=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#_(),this.#r.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#r.children;if(!this.#e){this.#e=Array.from(e);const c=this.#q.bind(this),h=this.#V.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:d}),f.addEventListener("blur",h,{signal:d}),f.addEventListener("focus",this.#P.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",ut._l10nResizer[p])}}const n=this.#e[0];let r=0;for(const c of e){if(c===n)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(l!==r){if(l<r)for(let h=0;h<r-l;h++)this.#r.append(this.#r.firstChild);else if(l>r)for(let h=0;h<l-r;h++)this.#r.firstChild.before(this.#r.lastChild);let c=0;for(const h of e){const f=this.#e[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",ut._l10nResizer[f])}}this.#O(0),this.#m=!0,this.#r.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#q(t){ut._resizerKeyboardManager.exec(this,t)}#V(t){this.#m&&t.relatedTarget?.parentNode!==this.#r&&this.#H()}#P(t){this.#u=this.#m?t:""}#O(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#m&&this.#z(this.#u,{deltaX:t,deltaY:e,fromKeyboard:!0})}#H(){this.#m=!1,this.#O(-1),this.#L()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){this.#o=!0;const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#A||=new Map;const{action:n}=t;let r=this.#A.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#A.delete(n),this.#A.size===0&&(this.#A=null)},ut._telemetryTimeout),this.#A.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#n=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#n=!0}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class ZC extends ut{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const mb=3285377520,Si=4294901760,Hi=65535;class O1{constructor(t){this.h1=t?t&4294967295:mb,this.h2=t?t&4294967295:mb}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let w=0,T=t.length;w<T;w++){const _=t.charCodeAt(w);_<=255?e[n++]=_:(e[n++]=_>>>8,e[n++]=_&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,l=n-r*4,c=new Uint32Array(e.buffer,0,r);let h=0,d=0,f=this.h1,p=this.h2;const y=3432918353,b=461845907,v=y&Hi,x=b&Hi;for(let w=0;w<r;w++)w&1?(h=c[w],h=h*y&Si|h*v&Hi,h=h<<15|h>>>17,h=h*b&Si|h*x&Hi,f^=h,f=f<<13|f>>>19,f=f*5+3864292196):(d=c[w],d=d*y&Si|d*v&Hi,d=d<<15|d>>>17,d=d*b&Si|d*x&Hi,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(h=0,l){case 3:h^=e[r*4+2]<<16;case 2:h^=e[r*4+1]<<8;case 1:h^=e[r*4],h=h*y&Si|h*v&Hi,h=h<<15|h>>>17,h=h*b&Si|h*x&Hi,r&1?f^=h:p^=h}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Si|t*36045&Hi,e=e*4283543511&Si|((e<<16|t>>>16)*2950163797&Si)>>>16,t^=e>>>1,t=t*444984403&Si|t*60499&Hi,e=e*3301882366&Si|((e<<16|t>>>16)*3120437893&Si)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Vd=Object.freeze({map:null,hash:"",transfer:void 0});class Ff{#t=!1;#e=null;#i=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#i.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#i.get(t)}remove(t){if(this.#i.delete(t),this.#i.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of this.#i.values())if(e instanceof ut)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#i.get(t);let r=!1;if(n!==void 0)for(const[l,c]of Object.entries(e))n[l]!==c&&(r=!0,n[l]=c);else r=!0,this.#i.set(t,e);r&&this.#n(),e instanceof ut&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return this.#i.has(t)}get size(){return this.#i.size}#n(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new j1(this)}get serializable(){if(this.#i.size===0)return Vd;const t=new Map,e=new O1,n=[],r=Object.create(null);let l=!1;for(const[c,h]of this.#i){const d=h instanceof ut?h.serialize(!1,r):h;d&&(t.set(c,d),e.update(`${c}:${JSON.stringify(d)}`),l||=!!d.bitmap)}if(l)for(const c of t.values())c.bitmap&&n.push(c.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Vd}get editorStats(){let t=null;const e=new Map;for(const n of this.#i.values()){if(!(n instanceof ut))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const c=t[l]||=new Map;for(const[h,d]of Object.entries(r)){if(h==="type")continue;let f=c.get(h);f||(f=new Map,c.set(h,f));const p=f.get(d)??0;f.set(d,p+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const e of this.#i.values())!(e instanceof ut)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#i.entries()}}class j1 extends Ff{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,l=structuredClone(e,r?{transfer:r}:null);this.#t={map:l,hash:n,transfer:r}}get print(){zt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}class JC{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(be(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:l,style:c}=t,h=new FontFace(r,l,c);this.addNativeFontFace(h);try{await h.load(),this.#t.add(r),n?.(t)}catch{xt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}zt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw xt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ct(this,"isSyncFontLoadingSupported",Ue||Ce.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(be(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(N,M){return N.charCodeAt(M)<<24|N.charCodeAt(M+1)<<16|N.charCodeAt(M+2)<<8|N.charCodeAt(M+3)&255}function r(N,M,j,B){const U=N.substring(0,M),$=N.substring(M+j);return U+B+$}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let f=0;function p(N,M){if(++f>30){xt("Load test font never loaded."),M();return}if(d.font="30px "+N,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(p.bind(null,N,M))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,y.length,y);const x=16,w=1482184792;let T=n(b,x);for(l=0,c=y.length-3;l<c;l+=4)T=T-w+n(y,l)|0;l<y.length&&(T=T-w+n(y+"XXX",l)|0),b=r(b,x,4,VC(T));const _=`url(data:font/opentype;base64,${btoa(b)});`,k=`@font-face {font-family:"${y}";src:${_}}`;this.insertRule(k);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const N of[t.loadedName,y]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=N,C.append(M)}this._document.body.append(C),p(y,()=>{C.remove(),e.complete()})}}class tM{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=e}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${k1(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(c){xt(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=l}}function eM(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(Ue)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function iM(a){if(Ue&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return Ao(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a?.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function $l(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const Hd=a=>typeof a=="object"&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,nM=a=>typeof a=="object"&&typeof a?.name=="string",B1=qC.bind(null,Hd,nM);class sM{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:l}=n;if(l.aborted){xt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Kl={DATA:1,ERROR:2},me={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function yb(){}function Je(a){if(a instanceof yn||a instanceof hc||a instanceof fb||a instanceof uo||a instanceof ud)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||zt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new yn(a.message);case"InvalidPDFException":return new hc(a.message);case"PasswordException":return new fb(a.message,a.code);case"ResponseException":return new uo(a.message,a.status,a.missing);case"UnknownErrorException":return new ud(a.message,a.details)}return new ud(a.message,a.toString())}class $r{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Kl.DATA)r.resolve(t.data);else if(t.callback===Kl.ERROR)r.reject(Je(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,l=this.comObj;Promise.try(e,t.data).then(function(c){l.postMessage({sourceName:n,targetName:r,callback:Kl.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:n,targetName:r,callback:Kl.ERROR,callbackId:t.callbackId,reason:Je(c)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,e,n,r){const l=this.streamId++,c=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[l]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:h,action:t,streamId:l,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[l].pullCall=p,d.postMessage({sourceName:c,targetName:h,stream:me.PULL,streamId:l,desiredSize:f.desiredSize}),p.promise},cancel:f=>{be(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[l].cancelCall=p,this.streamControllers[l].isClosed=!0,d.postMessage({sourceName:c,targetName:h,stream:me.CANCEL,streamId:l,reason:Je(f)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this,h=this.actionHandler[t.action],d={enqueue(f,p=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=p,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:r,stream:me.ENQUEUE,streamId:e,chunk:f},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:me.CLOSE,streamId:e}),delete c.streamSinks[e])},error(f){be(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:me.ERROR,streamId:e,reason:Je(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(h,t.data,d).then(function(){l.postMessage({sourceName:n,targetName:r,stream:me.START_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:r,stream:me.START_COMPLETE,streamId:e,reason:Je(f)})})}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[e],h=this.streamSinks[e];switch(t.stream){case me.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Je(t.reason));break;case me.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Je(t.reason));break;case me.PULL:if(!h){l.postMessage({sourceName:n,targetName:r,stream:me.PULL_COMPLETE,streamId:e,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,Promise.try(h.onPull||yb).then(function(){l.postMessage({sourceName:n,targetName:r,stream:me.PULL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:r,stream:me.PULL_COMPLETE,streamId:e,reason:Je(f)})});break;case me.ENQUEUE:if(be(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case me.CLOSE:if(be(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#a(c,e);break;case me.ERROR:be(c,"error should have stream controller"),c.controller.error(Je(t.reason)),this.#a(c,e);break;case me.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Je(t.reason)),this.#a(c,e);break;case me.CANCEL:if(!h)break;const d=Je(t.reason);Promise.try(h.onCancel||yb,d).then(function(){l.postMessage({sourceName:n,targetName:r,stream:me.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){l.postMessage({sourceName:n,targetName:r,stream:me.CANCEL_COMPLETE,streamId:e,reason:Je(f)})}),h.sinkCapability.reject(d),h.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class I1{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){zt("Abstract method `_createCanvas` called.")}}class aM extends I1{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class F1{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){zt("Abstract method `_fetch` called.")}}class bb extends F1{async _fetch(t){const e=await Va(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Ao(e)}}class z1{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,l){return"none"}destroy(t=!1){}}class rM extends z1{#t;#e;#i;#n;#a;#s;#o=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#r(){return this.#e||=new Map}get#h(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(fn,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(fn,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const d=t[0],f=new Array(256);for(let y=0;y<256;y++)f[y]=d[y]/255;const p=f.join(",");return[p,p,p]}const[e,n,r]=t,l=new Array(256),c=new Array(256),h=new Array(256);for(let d=0;d<256;d++)l[d]=e[d]/255,c[d]=n[d]/255,h[d]=r[d]/255;return[l.join(","),c.join(","),h.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(So(e)?xt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Nf(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#r.get(t);if(e)return e;const[n,r,l]=this.#d(t),c=t.length===1?n:`${n}${r}${l}`;if(e=this.#r.get(c),e)return this.#r.set(t,e),e;const h=`g_${this.#n}_transfer_map_${this.#o++}`,d=this.#u(h);this.#r.set(t,d),this.#r.set(c,d);const f=this.#p(h);return this.#m(n,r,l,f),d}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let l=this.#h.get(r);if(l?.key===n||(l?(l.filter?.remove(),l.key=n,l.url="none",l.filter=null):(l={key:n,url:"none",filter:null},this.#h.set(r,l)),!t||!e))return l.url;const c=this.#b(t);t=lt.makeHexColor(...c);const h=this.#b(e);if(e=lt.makeHexColor(...h),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return l.url;const d=new Array(256);for(let v=0;v<=255;v++){const x=v/255;d[v]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,y=l.filter=this.#p(p);this.#m(f,f,f,y),this.#g(y);const b=(v,x)=>{const w=c[v]/255,T=h[v]/255,_=new Array(x+1);for(let k=0;k<=x;k++)_[k]=w+k/x*(T-w);return _.join(",")};return this.#m(b(0,5),b(1,5),b(2,5),y),l.url=this.#u(p),l.url}addAlphaFilter(t){let e=this.#r.get(t);if(e)return e;const[n]=this.#d([t]),r=`alpha_${n}`;if(e=this.#r.get(r),e)return this.#r.set(t,e),e;const l=`g_${this.#n}_alpha_map_${this.#o++}`,c=this.#u(l);this.#r.set(t,c),this.#r.set(r,c);const h=this.#p(l);return this.#y(n,h),c}addLuminosityFilter(t){let e=this.#r.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",e=this.#r.get(r),e)return this.#r.set(t,e),e;const l=`g_${this.#n}_luminosity_map_${this.#o++}`,c=this.#u(l);this.#r.set(t,c),this.#r.set(r,c);const h=this.#p(l);return this.#f(h),t&&this.#y(n,h),c}addHighlightHCMFilter(t,e,n,r,l){const c=`${e}-${n}-${r}-${l}`;let h=this.#h.get(t);if(h?.key===c||(h?(h.filter?.remove(),h.key=c,h.url="none",h.filter=null):(h={key:c,url:"none",filter:null},this.#h.set(t,h)),!e||!n))return h.url;const[d,f]=[e,n].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),y=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[b,v]=[r,l].map(this.#b.bind(this));y<p&&([p,y,b,v]=[y,p,v,b]),this.#l.style.color="";const x=(_,k,C)=>{const N=new Array(256),M=(y-p)/C,j=_/255,B=(k-_)/(255*C);let U=0;for(let $=0;$<=C;$++){const Q=Math.round(p+$*M),J=j+$*B;for(let rt=U;rt<=Q;rt++)N[rt]=J;U=Q+1}for(let $=U;$<256;$++)N[$]=N[U-1];return N.join(",")},w=`g_${this.#n}_hcm_${t}_filter`,T=h.filter=this.#p(w);return this.#g(T),this.#m(x(b[0],v[0],5),x(b[1],v[1],5),x(b[2],v[2],5),T),h.url=this.#u(w),h.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#o=0)}#f(t){const e=this.#a.createElementNS(fn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(fn,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(fn,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#c(t,e,n){const r=this.#a.createElementNS(fn,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#m(t,e,n,r){const l=this.#a.createElementNS(fn,"feComponentTransfer");r.append(l),this.#c(l,"feFuncR",t),this.#c(l,"feFuncG",e),this.#c(l,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(fn,"feComponentTransfer");e.append(n),this.#c(n,"feFuncA",t)}#b(t){return this.#l.style.color=t,jf(getComputedStyle(this.#l).getPropertyValue("color"))}}class V1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){zt("Abstract method `_fetch` called.")}}class vb extends V1{async _fetch(t){const e=await Va(t,"arraybuffer");return new Uint8Array(e)}}class H1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){zt("Abstract method `_fetch` called.")}}class xb extends H1{async _fetch(t){const e=await Va(t,"arraybuffer");return new Uint8Array(e)}}Ue&&xt("Please use the `legacy` build in Node.js environments.");async function zf(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class oM extends z1{}class lM extends I1{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class cM extends F1{async _fetch(t){return zf(t)}}class uM extends V1{async _fetch(t){return zf(t)}}class hM extends H1{async _fetch(t){return zf(t)}}const Le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Ud(a,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),a.clip(r)}class Vf{isModifyingCurrentTransform(){return!1}getPattern(){zt("Abstract method `getPattern` called.")}}class dM extends Vf{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let l;if(r===Le.STROKE||r===Le.FILL){const c=e.current.getClippedPathBoundingBox(r,Wt(t))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,f=e.cachedCanvases.getCanvas("pattern",h,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-c[0],-c[1]),n=lt.transform(n,[1,0,0,1,c[0],c[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Ud(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),l=t.createPattern(f.canvas,"no-repeat");const y=new DOMMatrix(n);l.setTransform(y)}else Ud(t,this._bbox),l=this._createGradient(t);return l}}function fd(a,t,e,n,r,l,c,h){const d=t.coords,f=t.colors,p=a.data,y=a.width*4;let b;d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=l,l=c,c=b),d[n+1]>d[r+1]&&(b=n,n=r,r=b,b=c,c=h,h=b),d[e+1]>d[n+1]&&(b=e,e=n,n=b,b=l,l=c,c=b);const v=(d[e]+t.offsetX)*t.scaleX,x=(d[e+1]+t.offsetY)*t.scaleY,w=(d[n]+t.offsetX)*t.scaleX,T=(d[n+1]+t.offsetY)*t.scaleY,_=(d[r]+t.offsetX)*t.scaleX,k=(d[r+1]+t.offsetY)*t.scaleY;if(x>=k)return;const C=f[l],N=f[l+1],M=f[l+2],j=f[c],B=f[c+1],U=f[c+2],$=f[h],Q=f[h+1],J=f[h+2],rt=Math.round(x),dt=Math.round(k);let nt,pt,L,I,tt,ct,D,q;for(let Z=rt;Z<=dt;Z++){if(Z<T){const At=Z<x?0:(x-Z)/(x-T);nt=v-(v-w)*At,pt=C-(C-j)*At,L=N-(N-B)*At,I=M-(M-U)*At}else{let At;Z>k?At=1:T===k?At=0:At=(T-Z)/(T-k),nt=w-(w-_)*At,pt=j-(j-$)*At,L=B-(B-Q)*At,I=U-(U-J)*At}let W;Z<x?W=0:Z>k?W=1:W=(x-Z)/(x-k),tt=v-(v-_)*W,ct=C-(C-$)*W,D=N-(N-Q)*W,q=M-(M-J)*W;const et=Math.round(Math.min(nt,tt)),bt=Math.round(Math.max(nt,tt));let at=y*Z+et*4;for(let At=et;At<=bt;At++)W=(nt-At)/(nt-tt),W<0?W=0:W>1&&(W=1),p[at++]=pt-(pt-ct)*W|0,p[at++]=L-(L-D)*W|0,p[at++]=I-(I-q)*W|0,p[at++]=255}}function fM(a,t,e){const n=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(n.length/h)-1,f=h-1;for(l=0;l<d;l++){let p=l*h;for(let y=0;y<f;y++,p++)fd(a,e,n[p],n[p+1],n[p+h],r[p],r[p+1],r[p+h]),fd(a,e,n[p+h+1],n[p+1],n[p+h],r[p+h+1],r[p+1],r[p+h])}break;case"triangles":for(l=0,c=n.length;l<c;l+=3)fd(a,e,n[l],n[l+1],n[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class gM extends Vf{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-h,p=Math.ceil(this._bounds[3])-d,y=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),v=f/y,x=p/b,w={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/v,scaleY:1/x},T=y+4,_=b+4,k=n.getCanvas("mesh",T,_),C=k.context,N=C.createImageData(y,b);if(e){const j=N.data;for(let B=0,U=j.length;B<U;B+=4)j[B]=e[0],j[B+1]=e[1],j[B+2]=e[2],j[B+3]=255}for(const j of this._figures)fM(N,j,w);return C.putImageData(N,2,2),{canvas:k.canvas,offsetX:h-2*v,offsetY:d-2*x,scaleX:v,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){Ud(t,this._bbox);const l=new Float32Array(2);if(r===Le.SHADING)lt.singularValueDecompose2dScale(Wt(t),l);else if(this.matrix){lt.singularValueDecompose2dScale(this.matrix,l);const[h,d]=l;lt.singularValueDecompose2dScale(e.baseTransform,l),l[0]*=h,l[1]*=d}else lt.singularValueDecompose2dScale(e.baseTransform,l);const c=this._createMeshCanvas(l,r===Le.SHADING?null:this._background,e.cachedCanvases);return r!==Le.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class pM extends Vf{getPattern(){return"hotpink"}}function mM(a){switch(a[0]){case"RadialAxial":return new dM(a);case"Mesh":return new gM(a);case"Dummy":return new pM}throw new Error(`Unknown IR type: ${a[0]}`)}const Ab={COLORED:1,UNCOLORED:2};class Hf{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:f}=this;d=Math.abs(d),f=Math.abs(f),bc("TilingType: "+l);const p=e[0],y=e[1],b=e[2],v=e[3],x=b-p,w=v-y,T=new Float32Array(2);lt.singularValueDecompose2dScale(this.matrix,T);const[_,k]=T;lt.singularValueDecompose2dScale(this.baseTransform,T);const C=_*T[0],N=k*T[1];let M=x,j=w,B=!1,U=!1;const $=Math.ceil(d*C),Q=Math.ceil(f*N),J=Math.ceil(x*C),rt=Math.ceil(w*N);$>=J?M=d:B=!0,Q>=rt?j=f:U=!0;const dt=this.getSizeAndScale(M,this.ctx.canvas.width,C),nt=this.getSizeAndScale(j,this.ctx.canvas.height,N),pt=t.cachedCanvases.getCanvas("pattern",dt.size,nt.size),L=pt.context,I=h.createCanvasGraphics(L);if(I.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(I,r,c),L.translate(-dt.scale*p,-nt.scale*y),I.transform(dt.scale,0,0,nt.scale,0,0),L.save(),this.clipBbox(I,p,y,b,v),I.baseTransform=Wt(I.ctx),I.executeOperatorList(n),I.endDrawing(),L.restore(),B||U){const tt=pt.canvas;B&&(M=d),U&&(j=f);const ct=this.getSizeAndScale(M,this.ctx.canvas.width,C),D=this.getSizeAndScale(j,this.ctx.canvas.height,N),q=ct.size,Z=D.size,W=t.cachedCanvases.getCanvas("pattern-workaround",q,Z),et=W.context,bt=B?Math.floor(x/d):0,at=U?Math.floor(w/f):0;for(let At=0;At<=bt;At++)for(let Rt=0;Rt<=at;Rt++)et.drawImage(tt,q*At,Z*Rt,q,Z,0,0,q,Z);return{canvas:W.canvas,scaleX:ct.scale,scaleY:D.scale,offsetX:p,offsetY:y}}return{canvas:pt.canvas,scaleX:dt.scale,scaleY:nt.scale,offsetX:p,offsetY:y}}getSizeAndScale(t,e,n){const r=Math.max(Hf.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*n);return l>=r?l=r:n=l/t,{scale:n,size:l}}clipBbox(t,e,n,r,l){const c=r-e,h=l-n;t.ctx.rect(e,n,c,h),lt.axialAlignedBoundingBox([e,n,r,l],Wt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,l=t.current;switch(e){case Ab.COLORED:const{fillStyle:c,strokeStyle:h}=this.ctx;r.fillStyle=l.fillColor=c,r.strokeStyle=l.strokeColor=h;break;case Ab.UNCOLORED:r.fillStyle=r.strokeStyle=n,l.fillColor=l.strokeColor=n;break;default:throw new zC(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r){let l=n;r!==Le.SHADING&&(l=lt.transform(l,e.baseTransform),this.matrix&&(l=lt.transform(l,this.matrix)));const c=this.createPatternCanvas(e);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}}function yM({src:a,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Ce.isLittleEndian?4278190080:255,[d,f]=c?[l,h]:[h,l],p=n>>3,y=n&7,b=a.length;e=new Uint32Array(e.buffer);let v=0;for(let x=0;x<r;x++){for(const T=t+p;t<T;t++){const _=t<b?a[t]:255;e[v++]=_&128?f:d,e[v++]=_&64?f:d,e[v++]=_&32?f:d,e[v++]=_&16?f:d,e[v++]=_&8?f:d,e[v++]=_&4?f:d,e[v++]=_&2?f:d,e[v++]=_&1?f:d}if(y===0)continue;const w=t<b?a[t++]:255;for(let T=0;T<y;T++)e[v++]=w&1<<7-T?f:d}return{srcPos:t,destPos:v}}const wb=16,Sb=100,bM=15,Eb=10,ti=16,gd=new DOMMatrix,di=new Float32Array(2),_a=new Float32Array([1/0,1/0,-1/0,-1/0]);function vM(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},a.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},a.transform=function(e,n,r,l,c,h){t.transform(e,n,r,l,c,h),this.__originalTransform(e,n,r,l,c,h)},a.setTransform=function(e,n,r,l,c,h){t.setTransform(e,n,r,l,c,h),this.__originalSetTransform(e,n,r,l,c,h)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},a.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},a.bezierCurveTo=function(e,n,r,l,c,h){t.bezierCurveTo(e,n,r,l,c,h),this.__originalBezierCurveTo(e,n,r,l,c,h)},a.rect=function(e,n,r,l){t.rect(e,n,r,l),this.__originalRect(e,n,r,l)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class xM{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Wl(a,t,e,n,r,l,c,h,d,f){const[p,y,b,v,x,w]=Wt(a);if(y===0&&b===0){const k=c*p+x,C=Math.round(k),N=h*v+w,M=Math.round(N),j=(c+d)*p+x,B=Math.abs(Math.round(j)-C)||1,U=(h+f)*v+w,$=Math.abs(Math.round(U)-M)||1;return a.setTransform(Math.sign(p),0,0,Math.sign(v),C,M),a.drawImage(t,e,n,r,l,0,0,B,$),a.setTransform(p,y,b,v,x,w),[B,$]}if(p===0&&v===0){const k=h*b+x,C=Math.round(k),N=c*y+w,M=Math.round(N),j=(h+f)*b+x,B=Math.abs(Math.round(j)-C)||1,U=(c+d)*y+w,$=Math.abs(Math.round(U)-M)||1;return a.setTransform(0,Math.sign(y),Math.sign(b),0,C,M),a.drawImage(t,e,n,r,l,0,0,$,B),a.setTransform(p,y,b,v,x,w),[$,B]}a.drawImage(t,e,n,r,l,c,h,d,f);const T=Math.hypot(p,y),_=Math.hypot(b,v);return[T*d,_*f]}class Tb{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=zd;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Be.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e){this.clipBox=new Float32Array([0,0,t,e]),this.minMax=_a.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Le.FILL,e=null){const n=this.minMax.slice();if(t===Le.STROKE){e||zt("Stroke bounding box must include transform."),lt.singularValueDecompose2dScale(e,di);const r=di[0]*this.lineWidth/2,l=di[1]*this.lineWidth/2;n[0]-=r,n[1]-=l,n[2]+=r,n[3]+=l}return n}updateClipFromPath(){const t=lt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(_a,0)}getClippedPathBoundingBox(t=Le.FILL,e=null){return lt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function _b(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%ti,l=(e-r)/ti,c=r===0?l:l+1,h=a.createImageData(n,ti);let d=0,f;const p=t.data,y=h.data;let b,v,x,w;if(t.kind===eo.GRAYSCALE_1BPP){const T=p.byteLength,_=new Uint32Array(y.buffer,0,y.byteLength>>2),k=_.length,C=n+7>>3,N=4294967295,M=Ce.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(x=b<l?ti:r,f=0,v=0;v<x;v++){const j=T-d;let B=0;const U=j>C?n:j*8-7,$=U&-8;let Q=0,J=0;for(;B<$;B+=8)J=p[d++],_[f++]=J&128?N:M,_[f++]=J&64?N:M,_[f++]=J&32?N:M,_[f++]=J&16?N:M,_[f++]=J&8?N:M,_[f++]=J&4?N:M,_[f++]=J&2?N:M,_[f++]=J&1?N:M;for(;B<U;B++)Q===0&&(J=p[d++],Q=128),_[f++]=J&Q?N:M,Q>>=1}for(;f<k;)_[f++]=0;a.putImageData(h,0,b*ti)}}else if(t.kind===eo.RGBA_32BPP){for(v=0,w=n*ti*4,b=0;b<l;b++)y.set(p.subarray(d,d+w)),d+=w,a.putImageData(h,0,v),v+=ti;b<c&&(w=n*r*4,y.set(p.subarray(d,d+w)),a.putImageData(h,0,v))}else if(t.kind===eo.RGB_24BPP)for(x=ti,w=n*x,b=0;b<c;b++){for(b>=l&&(x=r,w=n*x),f=0,v=w;v--;)y[f++]=p[d++],y[f++]=p[d++],y[f++]=p[d++],y[f++]=255;a.putImageData(h,0,b*ti)}else throw new Error(`bad image kind: ${t.kind}`)}function Cb(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%ti,l=(e-r)/ti,c=r===0?l:l+1,h=a.createImageData(n,ti);let d=0;const f=t.data,p=h.data;for(let y=0;y<c;y++){const b=y<l?ti:r;({srcPos:d}=yM({src:f,srcPos:d,dest:p,width:n,height:b,nonBlackColor:0})),a.putImageData(h,0,y*ti)}}function Hr(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)a[n]!==void 0&&(t[n]=a[n]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function Ql(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function Mb(a,t){if(t)return!0;lt.singularValueDecompose2dScale(a,di);const e=Math.fround(Li.pixelRatio*Ms.PDF_TO_CSS_UNITS);return di[0]<=e&&di[1]<=e}const AM=["butt","round","square"],wM=["miter","round","bevel"],SM={},Rb={};class Ra{constructor(t,e,n,r,l,{optionalContentConfig:c,markedContentStack:h=null},d,f){this.ctx=t,this.current=new Tb(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new xM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,n){const d=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Wt(this.compositeCtx))}this.ctx.save(),Ql(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Wt(this.ctx)}executeOperatorList(t,e,n,r){const l=t.argsArray,c=t.fnArray;let h=e||0;const d=l.length;if(d===h)return h;const f=d-h>Eb&&typeof n=="function",p=f?Date.now()+bM:0;let y=0;const b=this.commonObjs,v=this.objs;let x;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,n),h;if(x=c[h],x!==co.dependency)this[x].apply(this,l[h]);else for(const w of l[h]){const T=w.startsWith("g_")?b:v;if(!T.has(w))return T.get(w,n),h}if(h++,h===d)return h;if(f&&++y>Eb){if(Date.now()>p)return n(),h;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),h=n,d=r,f="prescale1",p,y;for(;l>2&&h>1||c>2&&d>1;){let b=h,v=d;l>2&&h>1&&(b=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/b),c>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/v),p=this.cachedCanvases.getCanvas(f,b,v),y=p.context,y.clearRect(0,0,b,v),y.drawImage(t,0,0,h,d,0,0,b,v),t=p.canvas,h=b,d=v,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,h=Wt(e);let d,f,p,y;if((t.bitmap||t.data)&&t.count>1){const $=t.bitmap||t.data.buffer;f=JSON.stringify(c?h:[h.slice(0,4),l]),d=this._cachedBitmapsMap.get($),d||(d=new Map,this._cachedBitmapsMap.set($,d));const Q=d.get(f);if(Q&&!c){const J=Math.round(Math.min(h[0],h[2])+h[4]),rt=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:Q,offsetX:J,offsetY:rt}}p=Q}p||(y=this.cachedCanvases.getCanvas("maskCanvas",n,r),Cb(y.context,t));let b=lt.transform(h,[1/n,0,0,-1/r,0,0]);b=lt.transform(b,[1,0,0,1,0,-r]);const v=_a.slice();lt.axialAlignedBoundingBox([0,0,n,r],b,v);const[x,w,T,_]=v,k=Math.round(T-x)||1,C=Math.round(_-w)||1,N=this.cachedCanvases.getCanvas("fillCanvas",k,C),M=N.context,j=x,B=w;M.translate(-j,-B),M.transform(...b),p||(p=this._scaleImage(y.canvas,Vi(M)),p=p.img,d&&c&&d.set(f,p)),M.imageSmoothingEnabled=Mb(Wt(M),t.interpolate),Wl(M,p,0,0,p.width,p.height,0,0,n,r),M.globalCompositeOperation="source-in";const U=lt.transform(Vi(M),[1,0,0,1,-j,-B]);return M.fillStyle=c?l.getPattern(e,this,U,Le.FILL):l,M.fillRect(0,0,n,r),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(f,N.canvas)),{canvas:N.canvas,offsetX:Math.round(j),offsetY:Math.round(B)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=AM[t]}setLineJoin(t){this.ctx.lineJoin=wM[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx;const l=this.ctx=r.context;l.setTransform(this.suspendedCtx.getTransform()),Hr(this.suspendedCtx,l),vM(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Hr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const l=r[0],c=r[1],h=r[2]-l,d=r[3]-c;h===0||d===0||(this.genericComposeSMask(e.context,n,h,d,e.subtype,e.backdrop,e.transferMap,l,c,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,l,c,h,d,f,p,y){let b=t.canvas,v=d-p,x=f-y;if(c)if(v<0||x<0||v+n>b.width||x+r>b.height){const T=this.cachedCanvases.getCanvas("maskExtension",n,r),_=T.context;_.drawImage(b,-v,-x),_.globalCompositeOperation="destination-atop",_.fillStyle=c,_.fillRect(0,0,n,r),_.globalCompositeOperation="source-over",b=T.canvas,v=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(v,x,n,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(v,x,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?e.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(h));const w=new Path2D;w.rect(d,f,n,r),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(b,v,x,n,r,d,f,n,r),e.restore()}save(){this.inSMaskMode&&Hr(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Hr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,l,c){this.ctx.transform(t,e,n,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){let[r]=e;if(!n){r||=e[0]=new Path2D,this[t](r);return}if(!(r instanceof Path2D)){const l=e[0]=new Path2D;for(let c=0,h=r.length;c<h;)switch(r[c++]){case Yl.moveTo:l.moveTo(r[c++],r[c++]);break;case Yl.lineTo:l.lineTo(r[c++],r[c++]);break;case Yl.curveTo:l.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);break;case Yl.closePath:l.closePath();break;default:xt(`Unrecognized drawing path operator: ${r[c-1]}`);break}r=l}lt.axialAlignedBoundingBox(n,Wt(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const l=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,Vi(n),Le.STROKE),l){const c=new Path2D;c.addPath(t,n.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Le.STROKE,Wt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const n=this.ctx,r=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const d=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,Vi(n),Le.FILL),d){const f=new Path2D;f.addPath(t,n.getTransform().invertSelf().multiplySelf(d)),t=f}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),c&&n.restore(),e&&this.consumePath(t,h)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=SM}eoClip(){this.pendingClip=Rb}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const n=new Path2D,r=e.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:d,path:f}of t)n.addPath(f,new DOMMatrix(l).preMultiplySelf(r).translate(c,h).scale(d,-d));e.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||zd,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&xt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const l=n.loadedName||"sans-serif",c=n.systemFontInfo?.css||`"${l}", ${n.fallbackName}`;let h="normal";n.black?h="900":n.bold&&(h="bold");const d=n.italic?"italic":"normal";let f=e;e<wb?f=wb:e>Sb&&(f=Sb),this.current.fontSizeScale=e/f,this.ctx.font=`${d} ${h} ${f}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#i(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,l){const c=this.ctx,h=this.current,d=h.font,f=h.textRenderingMode,p=h.fontSize/h.fontSizeScale,y=f&Be.FILL_STROKE_MASK,b=!!(f&Be.ADD_TO_PATH_FLAG),v=h.patternFill&&!d.missingFile,x=h.patternStroke&&!d.missingFile;let w;if((d.disableFontFace||b||v||x)&&(w=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v||x){c.save(),c.translate(e,n),c.scale(p,-p);let T;if((y===Be.FILL||y===Be.FILL_STROKE)&&(r?(T=c.getTransform(),c.setTransform(...r),c.fill(this.#i(w,T,r))):c.fill(w)),y===Be.STROKE||y===Be.FILL_STROKE)if(l){T||=c.getTransform(),c.setTransform(...l);const{a:_,b:k,c:C,d:N}=T,M=lt.inverseTransform(l),j=lt.transform([_,k,C,N,0,0],M);lt.singularValueDecompose2dScale(j,di),c.lineWidth*=Math.max(di[0],di[1])/p,c.stroke(this.#i(w,T,l))}else c.lineWidth/=p,c.stroke(w);c.restore()}else(y===Be.FILL||y===Be.FILL_STROKE)&&c.fillText(t,e,n),(y===Be.STROKE||y===Be.FILL_STROKE)&&c.strokeText(t,e,n);b&&(this.pendingTextPaths||=[]).push({transform:Wt(c),x:e,y:n,fontSize:p,path:w})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Ct(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,c=e.fontSizeScale,h=e.charSpacing,d=e.wordSpacing,f=e.fontDirection,p=e.textHScale*f,y=t.length,b=n.vertical,v=b?1:-1,x=n.defaultVMetrics,w=r*e.fontMatrix[0],T=e.textRenderingMode===Be.FILL&&!n.disableFontFace&&!e.patternFill;l.save(),e.textMatrix&&l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),f>0?l.scale(p,-1):l.scale(p,1);let _,k;if(e.patternFill){l.save();const B=e.fillColor.getPattern(l,this,Vi(l),Le.FILL);_=Wt(l),l.restore(),l.fillStyle=B}if(e.patternStroke){l.save();const B=e.strokeColor.getPattern(l,this,Vi(l),Le.STROKE);k=Wt(l),l.restore(),l.strokeStyle=B}let C=e.lineWidth;const N=e.textMatrixScale;if(N===0||C===0){const B=e.textRenderingMode&Be.FILL_STROKE_MASK;(B===Be.STROKE||B===Be.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=N;if(c!==1&&(l.scale(c,c),C/=c),l.lineWidth=C,n.isInvalidPDFjsFont){const B=[];let U=0;for(const $ of t)B.push($.unicode),U+=$.width;l.fillText(B.join(""),0,0),e.x+=U*w*p,l.restore(),this.compose();return}let M=0,j;for(j=0;j<y;++j){const B=t[j];if(typeof B=="number"){M+=v*B*r/1e3;continue}let U=!1;const $=(B.isSpace?d:0)+h,Q=B.fontChar,J=B.accent;let rt,dt,nt=B.width;if(b){const L=B.vmetric||x,I=-(B.vmetric?L[1]:nt*.5)*w,tt=L[2]*w;nt=L?-L[0]:nt,rt=I/c,dt=(M+tt)/c}else rt=M/c,dt=0;if(n.remeasure&&nt>0){const L=l.measureText(Q).width*1e3/r*c;if(nt<L&&this.isFontSubpixelAAEnabled){const I=nt/L;U=!0,l.save(),l.scale(I,1),rt/=I}else nt!==L&&(rt+=(nt-L)/2e3*r/c)}if(this.contentVisible&&(B.isInFont||n.missingFile)){if(T&&!J)l.fillText(Q,rt,dt);else if(this.paintChar(Q,rt,dt,_,k),J){const L=rt+r*J.offset.x/c,I=dt-r*J.offset.y/c;this.paintChar(J.fontChar,L,I,_,k)}}const pt=b?nt*w-$*f:nt*w+$*f;M+=pt,U&&l.restore()}b?e.y-=M:e.x+=M*p,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,l=n.fontSize,c=n.fontDirection,h=r.vertical?1:-1,d=n.charSpacing,f=n.wordSpacing,p=n.textHScale*c,y=n.fontMatrix||zd,b=t.length,v=n.textRenderingMode===Be.INVISIBLE;let x,w,T,_;if(!(v||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),n.textMatrix&&e.transform(...n.textMatrix),e.translate(n.x,n.y+n.textRise),e.scale(p,c),x=0;x<b;++x){if(w=t[x],typeof w=="number"){_=h*w*l/1e3,this.ctx.translate(_,0),n.x+=_*p;continue}const k=(w.isSpace?f:0)+d,C=r.charProcOperatorList[w.operatorListId];C?this.contentVisible&&(this.save(),e.scale(l,l),e.transform(...y),this.executeOperatorList(C),this.restore()):xt(`Type3 character "${w.operatorListId}" is not available.`);const N=[w.width,0];lt.applyTransform(N,y),T=N[0]*l+k,e.translate(T,0),n.x+=T*p}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,l,c){const h=new Path2D;h.rect(n,r,l-n,c-r),this.ctx.clip(h),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=this.baseTransform||Wt(this.ctx),r={createCanvasGraphics:l=>new Ra(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Hf(t,this.ctx,r,n)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=mM(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Vi(e),Le.SHADING);const r=Vi(e);if(r){const{width:l,height:c}=e.canvas,h=_a.slice();lt.axialAlignedBoundingBox([0,0,l,c],r,h);const[d,f,p,y]=h;this.ctx.fillRect(d,f,p-d,y-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){zt("Should not call beginInlineImage")}beginImageData(){zt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Wt(this.ctx),e)){lt.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[n,r,l,c]=e,h=new Path2D;h.rect(n,r,l-n,c-r),this.ctx.clip(h),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||bc("TODO: Support non-isolated groups."),t.knockout&&xt("Knockout groups not supported.");const n=Wt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=_a.slice();lt.axialAlignedBoundingBox(t.bbox,Wt(e),r);const l=[0,0,e.canvas.width,e.canvas.height];r=lt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-c,1),f=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(p,d,f),b=y.context;b.translate(-c,-h),b.transform(...n);let v=new Path2D;const[x,w,T,_]=t.bbox;if(v.rect(x,w,T-x,_-w),t.matrix){const k=new Path2D;k.addPath(v,new DOMMatrix(t.matrix)),v=k}b.clip(v),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:c,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(c,h),e.save()),Hr(e,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Wt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=_a.slice();lt.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r,l),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,l){if(this.#t(),Ql(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const c=e[2]-e[0],h=e[3]-e[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=c,e[3]=h,lt.singularValueDecompose2dScale(Wt(this.ctx),di);const{viewportScale:d}=this,f=Math.ceil(c*this.outputScaleX*d),p=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(di[0],0,0,-di[1],0,h*di[1]),Ql(this.ctx)}else{Ql(this.ctx),this.endPath();const d=new Path2D;d.rect(e[0],e[1],c,h),this.ctx.clip(d)}}this.current=new Tb(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this._createMaskCanvas(t),l=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=Wt(h);h.transform(e,n,r,l,0,0);const f=this._createMaskCanvas(t);h.setTransform(1,0,0,1,f.offsetX-d[4],f.offsetY-d[5]);for(let p=0,y=c.length;p<y;p+=2){const b=lt.transform(d,[e,n,r,l,c[p],c[p+1]]);h.drawImage(f.canvas,b[4],b[5])}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:h,height:d,transform:f}=l,p=this.cachedCanvases.getCanvas("maskCanvas",h,d),y=p.context;y.save();const b=this.getObject(c,l);Cb(y,b),y.globalCompositeOperation="source-in",y.fillStyle=r?n.getPattern(y,this,Vi(e),Le.FILL):n,y.fillRect(0,0,h,d),y.restore(),e.save(),e.transform(...f),e.scale(1,-1),Wl(e,p.canvas,0,0,h,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){xt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,d=[];for(let f=0,p=r.length;f<p;f+=2)d.push({transform:[e,0,0,n,r[f],r[f+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(e,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;this.save();const{filter:l}=r;l!=="none"&&l!==""&&(r.filter="none"),r.scale(1/e,-1/n);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",e,n).context;_b(f,t),c=this.applyTransferMapsToCanvas(f)}const h=this._scaleImage(c,Vi(r));r.imageSmoothingEnabled=Mb(Wt(r),t.interpolate),Wl(r,h.img,0,0,h.paintWidth,h.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,d=this.cachedCanvases.getCanvas("inlineImage",l,c).context;_b(d,t),r=this.applyTransferMapsToCanvas(d)}for(const l of e)n.save(),n.transform(...l.transform),n.scale(1,-1),Wl(n,r,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===Rb?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Wt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:l}=this.ctx.getTransform();let c,h;if(n===0&&r===0){const d=Math.abs(e),f=Math.abs(l);if(d===f)if(t===0)c=h=1/d;else{const p=d*t;c=h=p<1?1/p:1}else if(t===0)c=1/d,h=1/f;else{const p=d*t,y=f*t;c=p<1?1/p:1,h=y<1?1/y:1}}else{const d=Math.abs(e*l-n*r),f=Math.hypot(e,n),p=Math.hypot(r,l);if(t===0)c=p/d,h=f/d;else{const y=t*d;c=p>y?p/y:1,h=f>y?f/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[l,c]=this.getScaleForStroking();if(l===c){n.lineWidth=(r||1)*l,n.stroke(t);return}const h=n.getLineDash();e&&n.save(),n.scale(l,c),gd.a=1/l,gd.d=1/c;const d=new Path2D;if(d.addPath(t,gd),h.length>0){const f=Math.max(l,c);n.setLineDash(h.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=r||1,n.stroke(d),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const a in co)Ra.prototype[a]!==void 0&&(Ra.prototype[co[a]]=Ra.prototype[a]);class Gn{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class EM{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const xa=Symbol("INTERNAL");class TM{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:l}){this.#t=!!(t&ui.DISPLAY),this.#e=!!(t&ui.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=l}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==xa&&zt("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class _M{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=ui.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new TM(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(xa,!1);for(const n of t.on)this.#e.get(n)._setVisible(xa,!0);for(const n of t.off)this.#e.get(n)._setVisible(xa,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const l=t[r];let c;if(Array.isArray(l))c=this.#a(l);else if(this.#e.has(l))c=this.#e.get(l).visible;else return xt(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return bc("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(xt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return xt(`Unknown optional content policy ${t.policy}.`),!0}return xt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){xt(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const l of r.rbGroups)for(const c of l)c!==t&&this.#e.get(c)?._setVisible(xa,!1,!0);r._setVisible(xa,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const l=this.#e.get(r);if(l)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new O1;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class CM{constructor(t,{disableRange:e=!1,disableStream:n=!1}){be(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,l?.length>0){const d=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});be(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){be(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new MM(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new RM(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class MM{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=xc(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class RM{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function kM(a){let t=!0,e=n("filename\\*","i").exec(a);if(e){e=e[1];let p=h(e);return p=unescape(p),p=d(p),p=f(p),l(p)}if(e=c(a),e){const p=f(e);return l(p)}if(e=n("filename","i").exec(a),e){e=e[1];let p=h(e);return p=f(p),l(p)}function n(p,y){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(p,y){if(p){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(p,{fatal:!0}),v=Ao(y);y=b.decode(v),t=!1}catch{}}return y}function l(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function c(p){const y=[];let b;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=v.exec(p))!==null;){let[,w,T,_]=b;if(w=parseInt(w,10),w in y){if(w===0)break;continue}y[w]=[T,_]}const x=[];for(let w=0;w<y.length&&w in y;++w){let[T,_]=y[w];_=h(_),T&&(_=unescape(_),w===0&&(_=d(_))),x.push(_)}return x.join("")}function h(p){if(p.startsWith('"')){const y=p.slice(1).split('\\"');for(let b=0;b<y.length;++b){const v=y[b].indexOf('"');v!==-1&&(y[b]=y[b].slice(0,v),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}p=y.join('"')}return p}function d(p){const y=p.indexOf("'");if(y===-1)return p;const b=p.slice(0,y),x=p.slice(y+1).replace(/^[^']*'/,"");return r(b,x)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,v,x){if(v==="q"||v==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,T){return String.fromCharCode(parseInt(T,16))}),r(b,x);try{x=atob(x)}catch{}return r(b,x)})}return""}function U1(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Ac(a){return URL.parse(a)?.origin??null}function G1({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(a.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||n||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function q1(a){const t=a.get("Content-Disposition");if(t){let e=kM(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(xc(e))return e}return null}function _o(a,t){return new uo(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function X1(a){return a===200||a===206}function Y1(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function $1(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(xt(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class DM{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=U1(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return be(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new NM(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new LM(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class NM{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,Y1(n,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=Ac(l.url),!X1(l.status))throw _o(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:d}=G1({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=q1(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yn("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:$1(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class LM{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${n-1}`);const c=r.url;fetch(c,Y1(l,this._withCredentials,this._abortController)).then(h=>{const d=Ac(h.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!X1(h.status))throw _o(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:$1(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const pd=200,md=206;function PM(a){const t=a.response;return typeof t!="string"?t:Ao(t).buffer}class OM{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=U1(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,c]of this.headers)e.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=md):r.expectedStatus=pd,e.responseType="arraybuffer",be(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const l=r.status||pd;if(!(l===pd&&n.expectedStatus===md)&&l!==n.expectedStatus){n.onError(r.status);return}const h=PM(r);if(l===md){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:h}):(xt('Missing or invalid "Content-Range" header.'),n.onError(0))}else h?n.onDone({begin:0,chunk:h}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class jM{constructor(t){this._source=t,this._manager=new OM(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return be(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new BM(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new IM(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class BM{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Ac(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(h=>{const[d,...f]=h.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=G1({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=q1(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=_o(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class IM{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Ac(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=_o(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const FM=/^[a-z][a-z0-9\-+.]+:/i;function zM(a){if(FM.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class VM{constructor(t){this.source=t,this.url=zM(t.url),be(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return be(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new HM(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new UM(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class HM{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=_o(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yn("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class UM{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ur=Symbol("INITIAL_DATA");class K1{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Ur}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===Ur)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Ur}delete(t){const e=this.#t[t];return!e||e.data===Ur?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Ur&&(yield[t,e])}}}const GM=1e5,kb=30;let ho=class Ei{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#o=0;#r=0;#h=null;#l=null;#d=0;#u=0;#f=Object.create(null);#g=[];#p=null;#c=[];#m=new WeakMap;#y=null;static#b=new Map;static#x=new Map;static#A=new WeakMap;static#w=null;static#T=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#u=n.scale*Li.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:l,pageX:c,pageY:h}=n.rawDims;this.#y=[1,0,0,-1,-c,h+l],this.#r=r,this.#o=l,Ei.#D(),Yn(e,n),this.#t.promise.finally(()=>{Ei.#T.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ce.platform;return Ct(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),Ei.#T.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*Li.pixelRatio,r=t.rotation;if(r!==this.#d&&(e?.(),this.#d=r,Yn(this.#l,{rotation:r})),n!==this.#u){e?.(),this.#u=n;const l={div:null,properties:null,ctx:Ei.#M(this.#a)};for(const c of this.#c)l.properties=this.#m.get(c),l.div=c,this.#S(l)}}cancel(){const t=new yn("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#g}#C(t){if(this.#i)return;this.#s.ctx??=Ei.#M(this.#a);const e=this.#c,n=this.#g;for(const r of t){if(e.length>GM){xt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const l=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),l.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#R(r)}}#R(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const r=lt.transform(this.#y,t.transform);let l=Math.atan2(r[1],r[0]);const c=this.#f[t.fontName];c.vertical&&(l+=Math.PI/2);let h=this.#n&&c.fontSubstitution||c.fontFamily;h=Ei.fontFamilyMap.get(h)||h;const d=Math.hypot(r[2],r[3]),f=d*Ei.#N(h,c,this.#a);let p,y;l===0?(p=r[4],y=r[5]-f):(p=r[4]+f*Math.sin(l),y=r[5]-f*Math.cos(l));const b="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#l?(v.left=`${(100*p/this.#r).toFixed(2)}%`,v.top=`${(100*y/this.#o).toFixed(2)}%`):(v.left=`${b}${p.toFixed(2)}px)`,v.top=`${b}${y.toFixed(2)}px)`),v.fontSize=`${b}${(Ei.#w*d).toFixed(2)}px)`,v.fontFamily=h,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),T=Math.abs(t.transform[3]);w!==T&&Math.max(w,T)/Math.min(w,T)>1.5&&(x=!0)}if(x&&(n.canvasWidth=c.vertical?t.height:t.width),this.#m.set(e,n),this.#s.div=e,this.#s.properties=n,this.#S(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#e.append(w)}}#S(t){const{div:e,properties:n,ctx:r}=t,{style:l}=e;let c="";if(Ei.#w>1&&(c=`scale(${1/Ei.#w})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:h}=l,{canvasWidth:d,fontSize:f}=n;Ei.#_(r,f*this.#u,h);const{width:p}=r.measureText(e.textContent);p>0&&(c=`scaleX(${d*this.#u/p}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(l.transform=c)}static cleanup(){if(!(this.#T.size>0)){this.#b.clear();for(const{canvas:t}of this.#x.values())t.remove();this.#x.clear()}}static#M(t=null){let e=this.#x.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(t,e),this.#A.set(e,{size:0,family:""})}return e}static#_(t,e,n){const r=this.#A.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#D(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#N(t,e,n){const r=this.#b.get(t);if(r)return r;const l=this.#M(n);l.canvas.width=l.canvas.height=kb,this.#_(l,kb,t);const c=l.measureText(""),h=c.fontBoundingBoxAscent,d=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let f=.8;return h?f=h/(h+d):(Ce.platform.isFirefox&&xt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}};class fo{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(l){if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(fo.shouldBuildText(h))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&e.push({str:c}),!!l.children)for(const d of l.children)r(d)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const qM=100;function Uf(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new Gf,{docId:e}=t,n=a.url?eM(a.url):null,r=a.data?iM(a.data):null,l=a.httpHeaders||null,c=a.withCredentials===!0,h=a.password??null,d=a.range instanceof qf?a.range:null,f=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let p=a.worker instanceof Oa?a.worker:null;const y=a.verbosity,b=typeof a.docBaseUrl=="string"&&!So(a.docBaseUrl)?a.docBaseUrl:null,v=$l(a.cMapUrl),x=a.cMapPacked!==!1,w=a.CMapReaderFactory||(Ue?cM:bb),T=$l(a.iccUrl),_=$l(a.standardFontDataUrl),k=a.StandardFontDataFactory||(Ue?uM:vb),C=$l(a.wasmUrl),N=a.WasmFactory||(Ue?hM:xb),M=a.stopAtErrors!==!0,j=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,B=a.isEvalSupported!==!1,U=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Ue,$=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Ue&&(Ce.platform.isFirefox||!globalThis.chrome),Q=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,J=typeof a.disableFontFace=="boolean"?a.disableFontFace:Ue,rt=a.fontExtraProperties===!0,dt=a.enableXfa===!0,nt=a.ownerDocument||globalThis.document,pt=a.disableRange===!0,L=a.disableStream===!0,I=a.disableAutoFetch===!0,tt=a.pdfBug===!0,ct=a.CanvasFactory||(Ue?lM:aM),D=a.FilterFactory||(Ue?oM:rM),q=a.enableHWA===!0,Z=a.useWasm!==!1,W=d?d.length:a.length??NaN,et=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Ue&&!J,bt=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(w===bb&&k===vb&&N===xb&&v&&_&&C&&Yr(v,document.baseURI)&&Yr(_,document.baseURI)&&Yr(C,document.baseURI)),at=null;BC(y);const At={canvasFactory:new ct({ownerDocument:nt,enableHWA:q}),filterFactory:new D({docId:e,ownerDocument:nt}),cMapReaderFactory:bt?null:new w({baseUrl:v,isCompressed:x}),standardFontDataFactory:bt?null:new k({baseUrl:_}),wasmFactory:bt?null:new N({baseUrl:C})};p||(p=Oa.create({verbosity:y,port:Gn.workerPort}),t._worker=p);const Rt={docId:e,apiVersion:"5.3.93",data:r,password:h,disableAutoFetch:I,rangeChunkSize:f,length:W,docBaseUrl:b,enableXfa:dt,evaluatorOptions:{maxImageSize:j,disableFontFace:J,ignoreErrors:M,isEvalSupported:B,isOffscreenCanvasSupported:U,isImageDecoderSupported:$,canvasMaxAreaInBytes:Q,fontExtraProperties:rt,useSystemFonts:et,useWasm:Z,useWorkerFetch:bt,cMapUrl:v,iccUrl:T,standardFontDataUrl:_,wasmUrl:C}},de={ownerDocument:nt,pdfBug:tt,styleElement:at,loadingParams:{disableAutoFetch:I,enableXfa:dt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Vt=p.messageHandler.sendWithPromise("GetDocRequest",Rt,r?[r.buffer]:null);let Xe;if(d)Xe=new CM(d,{disableRange:pt,disableStream:L});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const ii=Yr(n)?DM:Ue?VM:jM;Xe=new ii({url:n,length:W,httpHeaders:l,withCredentials:c,rangeChunkSize:f,disableRange:pt,disableStream:L})}return Vt.then(ii=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const kt=new $r(e,ii,p.port),jt=new $M(kt,t,Xe,de,At);t._transport=jt,kt.send("Ready",null)})}).catch(t._capability.reject),t}class Gf{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Gf.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let qf=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){zt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class XM{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class YM{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new pb:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new K1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:l=!1}={}){return new wo({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=Xi.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:y=!1}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(n,r,p,y),{renderingIntent:v,cacheKey:x}=b;this.#t=!1,h||=this._transport.getOptionalContentConfig(v);let w=this._intentStates.get(x);w||(w=Object.create(null),this._intentStates.set(x,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const T=!!(v&ui.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const _=N=>{w.renderTasks.delete(k),T&&(this.#t=!0),this.#e(),N?(k.capability.reject(N),this._abortOperatorList({intentState:w,reason:N instanceof Error?N:new Error(N)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new Ca({callback:_,params:{canvasContext:t,viewport:e,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!T,pdfBug:this._pdfBug,pageColors:f});(w.renderTasks||=new Set).add(k);const C=k.task;return Promise.all([w.displayReadyCapability.promise,h]).then(([N,M])=>{if(this.destroyed){_();return}if(this._stats?.time("Rendering"),!(M.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:N,optionalContentConfig:M}),k.operatorListChanged()}).catch(_),C}getOperatorList({intent:t="display",annotationMode:e=Xi.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(t,e,n,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||=new Set).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>fo.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function l(){c.read().then(function({value:d,done:f}){if(f){n(h);return}h.lang??=d.lang,Object.assign(h.styles,d.styles),h.items.push(...d.items),l()},r)}const c=e.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new pb),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:l,transfer:c}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},c).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:y,done:b})=>{if(b){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,f),p())},y=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const b of f.renderTasks)b.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(y);else if(f.opListReadCapability)f.opListReadCapability.reject(y);else throw y}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof vc){let r=qM;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new yn(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Un,Ni,gn,ws,fc,Ss,Es,qe,sc,W1,Q1,Kr,Na,ac;const Yt=class Yt{constructor({name:t=null,port:e=null,verbosity:n=IC()}={}){Fi(this,qe);Fi(this,Un,Promise.withResolvers());Fi(this,Ni,null);Fi(this,gn,null);Fi(this,ws,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(Xt(Yt,Es).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Xt(Yt,Es).set(e,this),zi(this,qe,W1).call(this,e)}else zi(this,qe,Q1).call(this)}get promise(){return Xt(this,Un).promise}get port(){return Xt(this,gn)}get messageHandler(){return Xt(this,Ni)}destroy(){this.destroyed=!0,Xt(this,ws)?.terminate(),Ze(this,ws,null),Xt(Yt,Es).delete(Xt(this,gn)),Ze(this,gn,null),Xt(this,Ni)?.destroy(),Ze(this,Ni,null)}static create(t){const e=Xt(this,Es).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Yt(t)}static get workerSrc(){if(Gn.workerSrc)return Gn.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>Xt(this,Na,ac)?Xt(this,Na,ac):(await import(this.workerSrc)).WorkerMessageHandler)())}};Un=new WeakMap,Ni=new WeakMap,gn=new WeakMap,ws=new WeakMap,fc=new WeakMap,Ss=new WeakMap,Es=new WeakMap,qe=new WeakSet,sc=function(){Xt(this,Un).resolve(),Xt(this,Ni).send("configure",{verbosity:this.verbosity})},W1=function(t){Ze(this,gn,t),Ze(this,Ni,new $r("main","worker",t)),Xt(this,Ni).on("ready",()=>{}),zi(this,qe,sc).call(this)},Q1=function(){if(Xt(Yt,Ss)||Xt(Yt,Na,ac)){zi(this,qe,Kr).call(this);return}let{workerSrc:t}=Yt;try{Yt._isSameOrigin(window.location,t)||(t=Yt._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new $r("main","worker",e),r=()=>{l.abort(),n.destroy(),e.terminate(),this.destroyed?Xt(this,Un).reject(new Error("Worker was destroyed")):zi(this,qe,Kr).call(this)},l=new AbortController;e.addEventListener("error",()=>{Xt(this,ws)||r()},{signal:l.signal}),n.on("test",h=>{if(l.abort(),this.destroyed||!h){r();return}Ze(this,Ni,n),Ze(this,gn,e),Ze(this,ws,e),zi(this,qe,sc).call(this)}),n.on("ready",h=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{zi(this,qe,Kr).call(this)}});const c=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};c();return}catch{bc("The worker has been disabled.")}zi(this,qe,Kr).call(this)},Kr=function(){Xt(Yt,Ss)||(xt("Setting up fake worker."),Ze(Yt,Ss,!0)),Yt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Xt(this,Un).reject(new Error("Worker was destroyed"));return}const e=new sM;Ze(this,gn,e);const n=`fake${H0(Yt,fc)._++}`,r=new $r(n+"_worker",n,e);t.setup(r,e),Ze(this,Ni,new $r(n,n+"_worker",e)),zi(this,qe,sc).call(this)}).catch(t=>{Xt(this,Un).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Na=new WeakSet,ac=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Fi(Yt,Na),Fi(Yt,fc,0),Fi(Yt,Ss,!1),Fi(Yt,Es,new WeakMap),Ue&&(Ze(Yt,Ss,!0),Gn.workerSrc||="./pdf.worker.mjs"),Yt._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},Yt._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Yt.fromPort=t=>{if(YC("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Yt.create(t)};let Oa=Yt;class $M{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,r,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new K1,this.fontLoader=new JC({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Ct(this,"annotationStorage",new Ff)}getRenderingIntent(t,e=Xi.ENABLE,n=null,r=!1,l=!1){let c=ui.DISPLAY,h=Vd;switch(t){case"any":c=ui.ANY;break;case"display":break;case"print":c=ui.PRINT;break;default:xt(`getRenderingIntent - invalid intent: ${t}`)}const d=c&ui.PRINT&&n instanceof j1?n:this.annotationStorage;switch(e){case Xi.DISABLE:c+=ui.ANNOTATIONS_DISABLE;break;case Xi.ENABLE:break;case Xi.ENABLE_FORMS:c+=ui.ANNOTATIONS_FORMS;break;case Xi.ENABLE_STORAGE:c+=ui.ANNOTATIONS_STORAGE,h=d.serializable;break;default:xt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(c+=ui.IS_EDITING),l&&(c+=ui.OPLIST);const{ids:f,hash:p}=d.modifiedIds,y=[c,h.hash,p];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:h,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),ho.cleanup(),this._networkStream?.cancelAllRequests(new yn("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{be(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}be(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=h=>{e.onProgress?.({loaded:h.loaded,total:h.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(n,r)=>{be(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){r.close();return}be(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new XM(n,this))}),t.on("DocException",n=>{e._capability.reject(Je(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw Je(n);const r=l=>{l instanceof Error?this.#a.reject(l):this.#a.resolve({password:l})};e.onPassword(r,n.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,l])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in l){const f=l.error;xt(`Error during font loading: ${f}`),this.commonObjs.resolve(n,f);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,h=new tM(l,c);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:d}=l;be(d,"The imageRef must be defined.");for(const f of this.#e.values())for(const[,p]of f.objs)if(p?.ref===d)return p.dataLen?(this.commonObjs.resolve(n,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,l,c])=>{if(this.destroyed)return;const h=this.#e.get(r);if(!h.objs.has(n)){if(h._intentStates.size===0){c?.bitmap?.close();return}switch(l){case"Image":case"Pattern":h.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#n.set(l.refStr,t);const c=new YM(e,l,this,this._params.pdfBug);return this.#e.set(e,c),c});return this.#i.set(e,r),r}getPageIndex(t){return Hd(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new _M(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new EM(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),ho.cleanup()}}cachedPageNumber(t){if(!Hd(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class KM{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ca{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:y=!1,pageColors:b=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new KM(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ca.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ca.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:l,background:c}=this.params;this.gfx=new Ra(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ca.#e.delete(this._canvas),t||=new vc(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ca.#e.delete(this._canvas),this.callback())))}}const go="5.3.93",Z1="cbeef3233";function Db(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Gr(a){return Math.max(0,Math.min(255,255*a))}class Nb{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Gr(t),[t,t,t]}static G_HTML([t]){const e=Db(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Gr)}static RGB_HTML(t){return`#${t.map(Db).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Gr(1-Math.min(1,t+r)),Gr(1-Math.min(1,n+r)),Gr(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,l=1-e,c=1-n,h=Math.min(r,l,c);return["CMYK",r,l,c,h]}}class WM{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){zt("Abstract method `_createSVG` called.")}}class po extends WM{_createSVG(t){return document.createElementNS(fn,t)}}class Xf{static setupStorage(t,e,n,r,l){const c=r.getValue(e,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?t.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{r.setValue(e,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(e,{value:h.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const h of n.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:l}){const{attributes:c}=e,h=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[d,f]of Object.entries(c))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}h&&l.addLinkAttributes(t,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(t,c.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:n});const h=l!=="richText",d=t.div;if(d.append(c),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=y}h&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const y=document.createTextNode(r.value);c.append(y),h&&fo.shouldBuildText(r.name)&&f.push(y)}return{textDivs:f}}const p=[[r,-1,c]];for(;p.length>0;){const[y,b,v]=p.at(-1);if(b+1===y.children.length){p.pop();continue}const x=y.children[++p.at(-1)[1]];if(x===null)continue;const{name:w}=x;if(w==="#text"){const _=document.createTextNode(x.value);f.push(_),v.append(_);continue}const T=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,w):document.createElement(w);if(v.append(T),x.attributes&&this.setAttributes({html:T,element:x,storage:e,intent:l,linkService:n}),x.children?.length>0)p.push([x,-1,T]);else if(x.value){const _=document.createTextNode(x.value);h&&fo.shouldBuildText(w)&&f.push(_),T.append(_)}}for(const y of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const QM=9,Rs=new WeakSet;class Lb{static create(t){switch(t.data.annotationType){case re.LINK:return new J1(t);case re.TEXT:return new ZM(t);case re.WIDGET:switch(t.data.fieldType){case"Tx":return new JM(t);case"Btn":return t.data.radioButton?new tx(t):t.data.checkBox?new eR(t):new iR(t);case"Ch":return new nR(t);case"Sig":return new tR(t)}return new Ns(t);case re.POPUP:return new Gd(t);case re.FREETEXT:return new ex(t);case re.LINE:return new aR(t);case re.SQUARE:return new rR(t);case re.CIRCLE:return new oR(t);case re.POLYLINE:return new ix(t);case re.CARET:return new cR(t);case re.INK:return new Yf(t);case re.POLYGON:return new lR(t);case re.HIGHLIGHT:return new nx(t);case re.UNDERLINE:return new uR(t);case re.SQUIGGLY:return new hR(t);case re.STRIKEOUT:return new dR(t);case re.STAMP:return new sx(t);case re.FILEATTACHMENT:return new fR(t);default:return new ue(t)}}}class ue{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ue._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:e}=t;e&&this.#n(e),this.#i?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:d}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-h)/l}%`,e.top=`${100*(c-t[3]+d)/c}%`,r===0?(e.width=`${100*(t[2]-t[0])/l}%`,e.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof Ns||(l.tabIndex=0);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof Gd){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,l),l}const{width:h,height:d}=this;if(!t&&e.borderStyle.width>0){c.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,T=e.borderStyle.verticalCornerRadius;if(w>0||T>0){const k=`calc(${w}px * var(--total-scale-factor)) / calc(${T}px * var(--total-scale-factor))`;c.borderRadius=k}else if(this instanceof tx){const k=`calc(${h}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;c.borderRadius=k}switch(e.borderStyle.style){case va.SOLID:c.borderStyle="solid";break;case va.DASHED:c.borderStyle="dashed";break;case va.BEVELED:xt("Unimplemented border style: beveled");break;case va.INSET:xt("Unimplemented border style: inset");break;case va.UNDERLINE:c.borderBottomStyle="solid";break}const _=e.borderColor||null;_?(this.#e=!0,c.borderColor=lt.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):c.borderWidth=0}const f=lt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:y,pageX:b,pageY:v}=r.rawDims;c.left=`${100*(f[0]-b)/p}%`,c.top=`${100*(f[1]-v)/y}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(c.width=`${100*h/p}%`,c.height=`${100*d/y}%`):this.setRotation(x,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:l,height:c}=this;t%180!==0&&([l,c]=[c,l]),e.style.width=`${100*l/n}%`,e.style.height=`${100*c/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const l=r.detail[e],c=l[0],h=l.slice(1);r.target.style[n]=Nb[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[n]:Nb[`${c}_rgb`](h)})};return Ct(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,l]of Object.entries(e)){const c=n[r];if(c){const h={detail:{[r]:l},target:t};c(h),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,l]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,T,_,k]=t.subarray(2,6);if(r===w&&l===T&&e===_&&n===k)return}const{style:c}=this.container;let h;if(this.#e){const{borderColor:w,borderWidth:T}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${T}">`],this.container.classList.add("hasBorder")}const d=r-e,f=l-n,{svgFactory:p}=this,y=p.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0),y.role="none";const b=p.createElement("defs");y.append(b);const v=p.createElement("clipPath"),x=`clippath_${this.data.id}`;v.setAttribute("id",x),v.setAttribute("clipPathUnits","objectBoundingBox"),b.append(v);for(let w=2,T=t.length;w<T;w+=8){const _=t[w],k=t[w+1],C=t[w+2],N=t[w+3],M=p.createElement("rect"),j=(C-e)/d,B=(l-k)/f,U=(_-C)/d,$=(k-N)/f;M.setAttribute("x",j),M.setAttribute("y",B),M.setAttribute("width",U),M.setAttribute("height",$),v.append(M),h?.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${B}" width="${U}" height="${$}"/>`)}this.#e&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(y),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:t}=this,e=this.#i=new Gd({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(e.render())}render(){zt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:h}of r){if(l===-1||c===e)continue;const d=typeof h=="string"?h:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!Rs.has(f)){xt(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:d,domElement:f})}return n}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==e&&Rs.has(r)&&n.push({id:c,exportValue:l,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class J1 extends ue{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#i(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t()}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),this.#t()}#e(t,e,n=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,n),!1),this.#t()}#i(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const l=n.get(r);l&&(t[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:l,include:c}=e,h=[];if(r.length!==0||l.length!==0){const p=new Set(l);for(const y of r){const b=this._fieldObjects[y]||[];for(const{id:v}of b)p.add(v)}for(const y of Object.values(this._fieldObjects))for(const b of y)p.has(b.id)===c&&h.push(b)}else for(const p of Object.values(this._fieldObjects))h.push(...p);const d=this.annotationStorage,f=[];for(const p of h){const{id:y}=p;switch(f.push(y),p.type){case"text":{const v=p.defaultValue||"";d.setValue(y,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;d.setValue(y,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";d.setValue(y,{value:v});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!Rs.has(b)){xt(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class ZM extends ue{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ns extends ue{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ce.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,l){n.includes("mouse")?t.addEventListener(n,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(n,c=>{if(n==="blur"){if(!e.focused||!c.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}})})}_setEventListeners(t,e,n,r){for(const[l,c]of n)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,l,c,r),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":lt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||QM,l=t.style;let c;const h=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-h),p=Math.round(f/(cd*r))||1,y=f/p;c=Math.min(r,d(y/cd))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,d(f/cd))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=lt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class JM extends Ns{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[e]=n),l.setValue(c.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let l=r.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let h=r.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=h??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",h??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Rs.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const f=this.data.dateFormat||this.data.timeFormat;f&&(n.title=f),this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",y=>{t.setValue(e,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",y=>{const b=this.data.defaultFieldValue??"";n.value=d.userValue=b,d.formattedValue=null});let p=y=>{const{formattedValue:b}=d;b!=null&&(y.target.value=b),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{if(d.focused)return;const{target:v}=b;d.userValue&&(v.value=d.userValue),d.lastCommittedValue=v.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const v={value(x){d.userValue=x.detail.value??"",t.setValue(e,{value:d.userValue.toString()}),x.target.value=d.userValue},formattedValue(x){const{formattedValue:w}=x.detail;d.formattedValue=w,w!=null&&x.target!==document.activeElement&&(x.target.value=w),t.setValue(e,{formattedValue:w})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:w}=x.detail,{target:T}=x;if(w===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",w);let _=d.userValue;!_||_.length<=w||(_=_.slice(0,w),T.value=d.userValue=_,t.setValue(e,{value:_}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(v,b)}),n.addEventListener("keydown",b=>{d.commitKey=1;let v=-1;if(b.key==="Escape"?v=0:b.key==="Enter"&&!this.data.multiLine?v=2:b.key==="Tab"&&(d.commitKey=3),v===-1)return;const{value:x}=b.target;d.lastCommittedValue!==x&&(d.lastCommittedValue=x,d.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:v,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const y=p;p=null,n.addEventListener("blur",b=>{if(!d.focused||!b.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:v}=b.target;d.userValue=v,d.lastCommittedValue!==v&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:d.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),y(b)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",b=>{d.lastCommittedValue=null;const{data:v,target:x}=b,{value:w,selectionStart:T,selectionEnd:_}=x;let k=T,C=_;switch(b.inputType){case"deleteWordBackward":{const N=w.substring(0,T).match(/\w*[^\w]*$/);N&&(k-=N[0].length);break}case"deleteWordForward":{const N=w.substring(T).match(/^[^\w]*\w*/);N&&(C+=N[0].length);break}case"deleteContentBackward":T===_&&(k-=1);break;case"deleteContentForward":T===_&&(C+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,change:v||"",willCommit:!1,selStart:k,selEnd:C}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class tR extends Ns{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class eR extends Ns{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Rs.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=0,l.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const f of this._getElementsByName(h,n)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:d})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue||"Off";c.target.checked=h===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class tx extends Ns{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const c of this._getElementsByName(e.fieldName,n))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(Rs.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=0,l.addEventListener("change",c=>{const{name:h,checked:d}=c.target;for(const f of this._getElementsByName(h,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:d})}),l.addEventListener("resetform",c=>{const h=e.defaultFieldValue;c.target.checked=h!=null&&h===e.buttonValue}),this.enableScripting&&this.hasJSActions){const c=e.buttonValue;l.addEventListener("updatefromsandbox",h=>{const d={value:f=>{const p=c===f.detail.value;for(const y of this._getElementsByName(f.target.name)){const b=p&&y.id===n;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class iR extends J1{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class nR extends Ns{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Rs.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const y=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===y});for(const p of this.data.options){const y=document.createElement("option");y.textContent=p.displayValue,y.value=p.exportValue,n.value.includes(p.exportValue)&&(y.setAttribute("selected",!0),l=!1),r.append(y)}let c=null;if(l){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),c=()=>{p.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=p=>{const y=p?"value":"textContent",{options:b,multiple:v}=r;return v?Array.prototype.filter.call(b,x=>x.selected).map(x=>x[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let d=h(!1);const f=p=>{const y=p.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const y={value(b){c?.();const v=b.detail.value,x=new Set(Array.isArray(v)?v:[v]);for(const w of r.options)w.selected=x.has(w.value);t.setValue(e,{value:h(!0)}),d=h(!1)},multipleSelection(b){r.multiple=!0},remove(b){const v=r.options,x=b.detail.remove;v[x].selected=!1,r.remove(x),v.length>0&&Array.prototype.findIndex.call(v,T=>T.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:h(!0),items:f(b)}),d=h(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=h(!1)},insert(b){const{index:v,displayValue:x,exportValue:w}=b.detail.insert,T=r.children[v],_=document.createElement("option");_.textContent=x,_.value=w,T?T.before(_):r.append(_),t.setValue(e,{value:h(!0),items:f(b)}),d=h(!1)},items(b){const{items:v}=b.detail;for(;r.length!==0;)r.remove(0);for(const x of v){const{displayValue:w,exportValue:T}=x,_=document.createElement("option");_.textContent=w,_.value=T,r.append(_)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:h(!0),items:f(b)}),d=h(!1)},indices(b){const v=new Set(b.detail.indices);for(const x of b.target.options)x.selected=v.has(x.index);t.setValue(e,{value:h(!0)}),d=h(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,p)}),r.addEventListener("input",p=>{const y=h(!0),b=h(!1);t.setValue(e,{value:y}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Gd extends ue{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:ue._hasPopupData(e)}),this.elements=n,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new sR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Pf}${r}`).join(",")),this.container}}class sR{#t=this.#C.bind(this);#e=this.#_.bind(this);#i=this.#M.bind(this);#n=this.#S.bind(this);#a=null;#s=null;#o=null;#r=null;#h=null;#l=null;#d=null;#u=!1;#f=null;#g=null;#p=null;#c=null;#m=null;#y=null;#b=!1;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:l,contentsObj:c,richText:h,parent:d,rect:f,parentRect:p,open:y}){this.#s=t,this.#m=r,this.#o=c,this.#c=h,this.#l=d,this.#a=e,this.#p=f,this.#d=p,this.#h=n,this.#r=Of.toDateObject(l),this.trigger=n.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",this.#n),b.addEventListener("mouseenter",this.#i),b.addEventListener("mouseleave",this.#e),b.classList.add("popupTriggerArea");for(const b of n)b.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,y&&this.#S()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#a){const l=t.style.outlineColor=lt.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=this.#m,t.append(e),this.#r){const l=document.createElement("time");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#r.valueOf()})),l.dateTime=this.#r.toISOString(),e.append(l)}const r=this.#x;if(r)Xf.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(this.#o);t.append(l)}this.#s.append(t)}get#x(){const t=this.#c,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#c.html||null}get#A(){return this.#x?.attributes?.style?.fontSize||0}get#w(){return this.#x?.attributes?.style?.color||null}#T(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#w,fontSize:this.#A?`calc(${this.#A}px * var(--total-scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return n}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const h=r[l];n.append(document.createTextNode(h)),l<c-1&&n.append(document.createElement("br"))}return n}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#S()}updateEdited({rect:t,popupContent:e}){this.#y||={contentsObj:this.#o,richText:this.#c},t&&(this.#g=null),e&&(this.#c=this.#T(e),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#o,richText:this.#c}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#g=null)}#R(){if(this.#g!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:l}}}=this.#l;let c=!!this.#d,h=c?this.#d:this.#p;for(const x of this.#h)if(!h||lt.intersect(x.data.rect,h)!==null){h=x.data.rect,c=!0;break}const d=lt.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),p=c?h[2]-h[0]+5:0,y=d[0]+p,b=d[1];this.#g=[100*(y-r)/e,100*(b-l)/n];const{style:v}=this.#s;v.left=`${this.#g[0]}%`,v.top=`${this.#g[1]}%`}#S(){this.#u=!this.#u,this.#u?(this.#M(),this.#s.addEventListener("click",this.#n),this.#s.addEventListener("keydown",this.#t)):(this.#_(),this.#s.removeEventListener("click",this.#n),this.#s.removeEventListener("keydown",this.#t))}#M(){this.#f||this.render(),this.isVisible?this.#u&&this.#s.classList.add("focused"):(this.#R(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#_(){this.#s.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#s.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#M(),this.#b=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class ex extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=vt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class aR extends ue{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),l=this.#t=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class rR extends ue{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",e-l),c.setAttribute("height",n-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class oR extends ue{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",e/2),c.setAttribute("cy",n/2),c.setAttribute("rx",e/2-l/2),c.setAttribute("ry",n/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ix extends ue{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:l,height:c}=this;if(!e)return this.container;const h=this.svgFactory.create(l,c,!0);let d=[];for(let p=0,y=e.length;p<y;p+=2){const b=e[p]-t[0],v=t[3]-e[p+1];d.push(`${b},${v}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),h.append(f),this.container.append(h),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class lR extends ix{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class cR extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Yf extends ue{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?vt.HIGHLIGHT:vt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:l}}=this,{transform:c,width:h,height:d}=this.#i(e,t),f=this.svgFactory.create(h,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let y=0,b=n.length;y<b;y++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",n[y].join(",")),p.append(v)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,l=this.#t;if(e>=0&&l.setAttribute("stroke-width",e||1),n)for(let c=0,h=this.#e.length;c<h;c++)this.#e[c].setAttribute("points",n[c].join(","));if(r){const{transform:c,width:h,height:d}=this.#i(this.data.rotation,r);l.parentElement.setAttribute("viewBox",`0 0 ${h} ${d}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class nx extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=vt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class uR extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class hR extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class dR extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class sx extends ue{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=vt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class fR extends ue{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=Ce.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(r?l.metaKey:l.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let $f=class ax{#t=null;#e=null;#i=new Map;#n=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:h}){this.div=t,this.#t=e,this.#e=n,this.#n=h||null,this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#i.size>0}async#a(t,e,n){const r=t.firstChild||t,l=r.id=`${Pf}${e}`,c=await this.#n?.getAriaAttributes(l);if(c)for(const[h,d]of c)r.setAttribute(h,d);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Yn(n,this.viewport);const r=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new po,annotationStorage:t.annotationStorage||new Ff,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===re.POPUP;if(h){const p=r.get(c.id);if(!p)continue;l.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const d=Lb.create(l);if(!d.isRenderable)continue;if(!h&&c.popupRef){const p=r.get(c.popupRef);p?p.push(d):r.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),await this.#a(f,c.id,l.elements),d._isEditable&&(this.#i.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#s()}async addLinkAnnotations(t,e){const n={data:null,layer:this.div,linkService:e,svgFactory:new po,parent:this};for(const r of t){r.borderStyle||=ax._defaultBorderStyle,n.data=r;const l=Lb.create(n);if(!l.isRenderable)continue;const c=l.render();await this.#a(c,r.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Yn(e,{rotation:t.rotation}),this.#s(),e.hidden=!1}#s(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(n):l.classList.contains("annotationContent")?l.after(n):l.before(n):r.append(n);const c=this.#i.get(e);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),c._hasNoCanvas=!1):c.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#i.values())}getEditableAnnotation(t){return this.#i.get(t)}static get _defaultBorderStyle(){return Ct(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:va.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Zl=/\r\n?|\n/g;class Ae extends ut{#t;#e="";#i=`${this.id}-editor`;#n=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Ae.prototype,e=l=>l.isEmpty(),n=bn.TRANSLATE_SMALL,r=bn.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new Eo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=vt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||Ae._defaultColor||ut._defaultLineColor,this.#a=t.fontSize||Ae._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){ut.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Mt.FREETEXT_SIZE:Ae._defaultFontSize=e;break;case Mt.FREETEXT_COLOR:Ae._defaultColor=e;break}}updateParams(t,e){switch(t){case Mt.FREETEXT_SIZE:this.#s(e);break;case Mt.FREETEXT_COLOR:this.#o(e);break}}static get defaultPropertiesToUpdate(){return[[Mt.FREETEXT_SIZE,Ae._defaultFontSize],[Mt.FREETEXT_COLOR,Ae._defaultColor||ut._defaultLineColor]]}get propertiesToUpdate(){return[[Mt.FREETEXT_SIZE,this.#a],[Mt.FREETEXT_COLOR,this.#t]]}#s(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#a)*this.parentScale),this.#a=r,this.#h()},n=this.#a;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const e=r=>{this.#t=this.editorDiv.style.color=r},n=this.#t;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ae._internalPadding*t,-(Ae._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#n=new AbortController;const t=this._uiManager.combinedSignal(this.#n);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#i),this._isDraggable=!0,this.#n?.abort(),this.#n=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Ae.#l(n)),e=n);return t.join(`
`)}#h(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:l}=this,c=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",r.div.append(this.div),n=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,e=this.#e=this.#r().trimEnd();if(t===e)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ae._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#i),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[f,p]=this.pageDimensions,[y,b]=this.pageTranslation;let v,x;switch(this.rotation){case 0:v=t+(c[0]-y)/f,x=e+this.height-(c[1]-b)/p;break;case 90:v=t+(c[0]-y)/f,x=e-(c[1]-b)/p,[h,d]=[d,-h];break;case 180:v=t-this.width+(c[0]-y)/f,x=e-(c[1]-b)/p,[h,d]=[-h,-d];break;case 270:v=t+(c[0]-y-this.height*p)/f,x=e+(c[1]-b-this.width*f)/p,[h,d]=[-d,h];break}this.setAt(v*r,x*l,h,d)}else this._moveAfterPaste(t,e);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Zl,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=Ae.#f(e.getData("text")||"").replaceAll(Zl,`
`);if(!r)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:d}=c,f=[],p=[];if(h.nodeType===Node.TEXT_NODE){const v=h.parentElement;if(p.push(h.nodeValue.slice(d).replaceAll(Zl,"")),v!==this.editorDiv){let x=f;for(const w of this.editorDiv.childNodes){if(w===v){x=p;continue}x.push(Ae.#l(w))}}f.push(h.nodeValue.slice(0,d).replaceAll(Zl,""))}else if(h===this.editorDiv){let v=f,x=0;for(const w of this.editorDiv.childNodes)x++===d&&(v=p),v.push(Ae.#l(w))}this.#e=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#d();const y=new Range;let b=Math.sumPrecise(f.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const x=v.nodeValue.length;if(b<=x){y.setStart(v,b),y.setEnd(v,b);break}b-=x}l.removeAllRanges(),l.addRange(y)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,e,n){let r=null;if(t instanceof ex){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:d,rotation:f,id:p,popupRef:y},textContent:b,textPosition:v,parent:{page:{pageNumber:x}}}=t;if(!b||b.length===0)return null;r=t={annotationType:vt.FREETEXT,color:Array.from(h),fontSize:c,value:b.join(`
`),position:v,pageIndex:x-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:y}}const l=await super.deserialize(t,e,n);return l.#a=t.fontSize,l.#t=lt.makeHexColor(...t.color),l.#e=Ae.#f(t.value),l._initialData=r,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Ae._internalPadding*this.parentScale,n=this.getRect(e,e),r=ut._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),l={annotationType:vt.FREETEXT,color:r,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!this.#g(l)?null:(l.id=this.annotationElementId,l)}#g(t){const{value:e,fontSize:n,color:r,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((c,h)=>c!==r[h])||t.pageIndex!==l}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,n.color=this.#t,e.replaceChildren();for(const l of this.#e.split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),e.append(c)}const r=Ae._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class it{static PRECISION=1e-4;toSVGPath(){zt("Abstract method `toSVGPath` must be implemented.")}get box(){zt("Abstract getter `box` must be implemented.")}serialize(t,e){zt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,l,c){c||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)c[h]=e+t[h]*r,c[h+1]=n+t[h+1]*l;return c}static _rescaleAndSwap(t,e,n,r,l,c){c||=new Float32Array(t.length);for(let h=0,d=t.length;h<d;h+=2)c[h]=e+t[h+1]*r,c[h+1]=n+t[h]*l;return c}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)r[l]=e+t[l],r[l+1]=n+t[l+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,l){switch(l){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,l,c){return[(t+5*n)/6,(e+5*r)/6,(5*n+l)/6,(5*r+c)/6,(n+l)/2,(r+c)/2]}}class As{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#o;#r;#h;#l;#d;#u;#f=[];static#g=8;static#p=2;static#c=As.#g+As.#p;constructor({x:t,y:e},n,r,l,c,h=0){this.#t=n,this.#u=l*r,this.#n=c,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=h,this.#l=As.#g*r,this.#h=As.#c*r,this.#d=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,r,l,c]=this.#t;return[(this.#o+(t[0]-e[0])/2-n)/l,(this.#r+(t[1]-e[1])/2-r)/c,(this.#o+(e[0]-t[0])/2-n)/l,(this.#r+(e[1]-t[1])/2-r)/c]}add({x:t,y:e}){this.#o=t,this.#r=e;const[n,r,l,c]=this.#t;let[h,d,f,p]=this.#s.subarray(8,12);const y=t-f,b=e-p,v=Math.hypot(y,b);if(v<this.#h)return!1;const x=v-this.#l,w=x/v,T=w*y,_=w*b;let k=h,C=d;h=f,d=p,f+=T,p+=_,this.#f?.push(t,e);const N=-_/x,M=T/x,j=N*this.#u,B=M*this.#u;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+j,p+B],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-j,p-B],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([h+j,d+B],2),this.#a.push(NaN,NaN,NaN,NaN,(h+j-n)/l,(d+B-r)/c),this.#s.set([h-j,d-B],14),this.#e.push(NaN,NaN,NaN,NaN,(h-j-n)/l,(d-B-r)/c)),this.#s.set([k,C,h,d,f,p],6),!this.isEmpty()):(this.#s.set([k,C,h,d,f,p],6),Math.abs(Math.atan2(C-d,k-h)-Math.atan2(_,T))<Math.PI/2?([h,d,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((h+f)/2-n)/l,((d+p)/2-r)/c),[h,d,k,C]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((k+h)/2-n)/l,((C+d)/2-r)/c),!0):([k,C,h,d,f,p]=this.#s.subarray(0,6),this.#a.push(((k+5*h)/6-n)/l,((C+5*d)/6-r)/c,((5*h+f)/6-n)/l,((5*d+p)/6-r)/c,((h+f)/2-n)/l,((d+p)/2-r)/c),[f,p,h,d,k,C]=this.#s.subarray(12,18),this.#e.push(((k+5*h)/6-n)/l,((C+5*d)/6-r)/c,((5*h+f)/6-n)/l,((5*d+p)/6-r)/c,((h+f)/2-n)/l,((d+p)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#x(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[l,c,h,d]=this.#m();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/r} L${l} ${c} L${h} ${d} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#x(t){const[e,n,r,l]=this.#t,c=this.#s.subarray(4,6),h=this.#s.subarray(16,18),[d,f,p,y]=this.#m();t.push(`L${(c[0]-e)/r} ${(c[1]-n)/l} L${d} ${f} L${p} ${y} L${(h[0]-e)/r} ${(h[1]-n)/l}`)}newFreeDrawOutline(t,e,n,r,l,c){return new rx(t,e,n,r,l,c)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[r,l,c,h]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let y=0,b=d.length-2;y<b;y+=2)d[y]=(this.#f[y]-r)/c,d[y+1]=(this.#f[y+1]-l)/h;if(d[d.length-2]=(this.#o-r)/c,d[d.length-1]=(this.#r-l)/h,isNaN(n[6])&&!this.isEmpty())return this.#A(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let y=0;y<p;y+=2){if(isNaN(t[y])){f[y]=f[y+1]=NaN;continue}f[y]=t[y],f[y+1]=t[y+1]}p=this.#T(f,p);for(let y=e.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(e[y+b])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[y+b],f[p+1]=e[y+b+1],p+=2}return this.#w(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#d,this.#i,this.#n)}#A(t){const e=this.#s,[n,r,l,c]=this.#t,[h,d,f,p]=this.#m(),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-r)/c,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-r)/c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-r)/c,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-r)/c],0),this.newFreeDrawOutline(y,t,this.#t,this.#d,this.#i,this.#n)}#w(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#T(t,e){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[l,c,h,d]=this.#t,[f,p,y,b]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/h,(n[1]-c)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(r[0]-l)/h,(r[1]-c)/d],e),e+=24}}class rx extends it{#t;#e=new Float32Array(4);#i;#n;#a;#s;#o;constructor(t,e,n,r,l,c){super(),this.#o=t,this.#a=e,this.#t=n,this.#s=r,this.#i=l,this.#n=c,this.lastPoint=[NaN,NaN],this.#r(c);const[h,d,f,p]=this.#e;for(let y=0,b=t.length;y<b;y+=2)t[y]=(t[y]-h)/f,t[y+1]=(t[y+1]-d)/p;for(let y=0,b=e.length;y<b;y+=2)e[y]=(e[y]-h)/f,e[y+1]=(e[y+1]-d)/p}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let e=6,n=this.#o.length;e<n;e+=6){if(isNaN(this.#o[e])){t.push(`L${this.#o[e+4]} ${this.#o[e+5]}`);continue}t.push(`C${this.#o[e]} ${this.#o[e+1]} ${this.#o[e+2]} ${this.#o[e+3]} ${this.#o[e+4]} ${this.#o[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],l){const c=n-t,h=r-e;let d,f;switch(l){case 0:d=it._rescale(this.#o,t,r,c,-h),f=it._rescale(this.#a,t,r,c,-h);break;case 90:d=it._rescaleAndSwap(this.#o,t,e,c,h),f=it._rescaleAndSwap(this.#a,t,e,c,h);break;case 180:d=it._rescale(this.#o,n,e,-c,h),f=it._rescale(this.#a,n,e,-c,h);break;case 270:d=it._rescaleAndSwap(this.#o,n,r,-c,-h),f=it._rescaleAndSwap(this.#a,n,r,-c,-h);break}return{outline:Array.from(d),points:[Array.from(f)]}}#r(t){const e=this.#o;let n=e[4],r=e[5];const l=[n,r,n,r];let c=n,h=r;const d=t?Math.max:Math.min;for(let p=6,y=e.length;p<y;p+=6){const b=e[p+4],v=e[p+5];if(isNaN(e[p]))lt.pointBoundingBox(b,v,l),h<v?(c=b,h=v):h===v&&(c=d(c,b));else{const x=[1/0,1/0,-1/0,-1/0];lt.bezierBoundingBox(n,r,...e.slice(p,p+6),x),lt.rectBoundingBox(...x,l),h<x[3]?(c=x[2],h=x[3]):h===x[3]&&(c=d(c,x[2]))}n=b,r=v}const f=this.#e;f[0]=l[0]-this.#i,f[1]=l[1]-this.#i,f[2]=l[2]-l[0]+2*this.#i,f[3]=l[3]-l[1]+2*this.#i,this.lastPoint=[c,h]}get box(){return this.#e}newOutliner(t,e,n,r,l,c=0){return new As(t,e,n,r,l,c)}getNewOutline(t,e){const[n,r,l,c]=this.#e,[h,d,f,p]=this.#t,y=l*f,b=c*p,v=n*f+h,x=r*p+d,w=this.newOutliner({x:this.#a[0]*y+v,y:this.#a[1]*b+x},this.#t,this.#s,t,this.#n,e??this.#i);for(let T=2;T<this.#a.length;T+=2)w.add({x:this.#a[T]*y+v,y:this.#a[T+1]*b+x});return w.getOutlines()}}class qd{#t;#e;#i=[];#n=[];constructor(t,e=0,n=0,r=!0){const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:v,y:x,width:w,height:T}of t){const _=Math.floor((v-e)/c)*c,k=Math.ceil((v+w+e)/c)*c,C=Math.floor((x-e)/c)*c,N=Math.ceil((x+T+e)/c)*c,M=[_,C,N,!0],j=[k,C,N,!1];this.#i.push(M,j),lt.rectBoundingBox(_,C,k,N,l)}const h=l[2]-l[0]+2*n,d=l[3]-l[1]+2*n,f=l[0]-n,p=l[1]-n,y=this.#i.at(r?-1:-2),b=[y[0],y[2]];for(const v of this.#i){const[x,w,T]=v;v[0]=(x-f)/h,v[1]=(w-p)/d,v[2]=(T-p)/d}this.#t=new Float32Array([f,p,h,d]),this.#e=b}getOutlines(){this.#i.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#i)e[3]?(t.push(...this.#h(e)),this.#o(e)):(this.#r(e),t.push(...this.#h(e)));return this.#a(t)}#a(t){const e=[],n=new Set;for(const c of t){const[h,d,f]=c;e.push([h,d,c],[h,f,c])}e.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=e.length;c<h;c+=2){const d=e[c][2],f=e[c+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const r=[];let l;for(;n.size>0;){const c=n.values().next().value;let[h,d,f,p,y]=c;n.delete(c);let b=h,v=d;for(l=[h,f],r.push(l);;){let x;if(n.has(p))x=p;else if(n.has(y))x=y;else break;n.delete(x),[h,d,f,p,y]=x,b!==h&&(l.push(b,v,h,v===d?d:f),b=h),v=v===d?f:d}l.push(b,v)}return new gR(r,this.#t,this.#e)}#s(t){const e=this.#n;let n=0,r=e.length-1;for(;n<=r;){const l=n+r>>1,c=e[l][0];if(c===t)return l;c<t?n=l+1:r=l-1}return r+1}#o([,t,e]){const n=this.#s(t);this.#n.splice(n,0,[t,e])}#r([,t,e]){const n=this.#s(t);for(let r=n;r<this.#n.length;r++){const[l,c]=this.#n[r];if(l!==t)break;if(l===t&&c===e){this.#n.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[l,c]=this.#n[r];if(l!==t)break;if(l===t&&c===e){this.#n.splice(r,1);return}}}#h(t){const[e,n,r]=t,l=[[e,n,r]],c=this.#s(r);for(let h=0;h<c;h++){const[d,f]=this.#n[h];for(let p=0,y=l.length;p<y;p++){const[,b,v]=l[p];if(!(f<=b||v<=d)){if(b>=d){if(v>f)l[p][1]=f;else{if(y===1)return[];l.splice(p,1),p--,y--}continue}l[p][2]=d,v>f&&l.push([e,f,v])}}}return l}}class gR extends it{#t;#e;constructor(t,e,n){super(),this.#e=t,this.#t=e,this.lastPoint=n}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let l=2;l<e.length;l+=2){const c=e[l],h=e[l+1];c===n?(t.push(`V${h}`),r=h):h===r&&(t.push(`H${c}`),n=c)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],l){const c=[],h=n-t,d=r-e;for(const f of this.#e){const p=new Array(f.length);for(let y=0;y<f.length;y+=2)p[y]=t+f[y]*h,p[y+1]=r-f[y+1]*d;c.push(p)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Xd extends As{newFreeDrawOutline(t,e,n,r,l,c){return new pR(t,e,n,r,l,c)}}class pR extends rx{newOutliner(t,e,n,r,l,c=0){return new Xd(t,e,n,r,l,c)}}class hi{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#o=null;#r;#h=null;#l=null;#d;static#u=null;static get _keyboardManager(){return Ct(this,"_keyboardManager",new Eo([[["Escape","mac+Escape"],hi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],hi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],hi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],hi.prototype._moveToPrevious],[["Home","mac+Home"],hi.prototype._moveToBeginning],[["End","mac+End"],hi.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#d=Mt.HIGHLIGHT_COLOR,this.#o=t):(this.#s=!0,this.#d=Mt.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||e,this.#r=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",hi.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#o&&(t.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#c.bind(this),{signal:e}),t.addEventListener("keydown",this.#p.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#f();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#f(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Ci,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(t.id=`${this.#o.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=n,l.setAttribute("data-l10n-id",hi.#u[n]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.ariaSelected=r===this.#i,l.addEventListener("click",this.#g.bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",this.#p.bind(this),{signal:e}),t}#g(t,e){e.stopPropagation(),this.#r.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#c(t);return}const e=t.target.getAttribute("data-color");e&&this.#g(e,t)}_moveToNext(t){if(!this.#y){this.#c(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#c(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#y){this.#c(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#y){this.#c(t);return}this.#n.lastChild?.focus()}#p(t){hi._keyboardManager.exec(this,t)}#c(t){if(this.#y){this.hideDropdown();return}if(this.#a=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#h)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#f();this.#t.append(e)}#m(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#h?.abort(),this.#h=null}get#y(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#y){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class oe extends ut{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#o=null;#r=0;#h=null;#l=null;#d=null;#u=!1;#f=null;#g;#p=null;#c="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=vt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=oe.prototype;return Ct(this,"_keyboardManager",new Eo([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||oe._defaultColor,this.#m=t.thickness||oe._defaultThickness,this.#g=t.opacity||oe._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#x(t),this.#R()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#r=t.focusOffset,this.#b(),this.#R(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new qd(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new qd(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{lastPoint:n}=this.#s;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#x({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:oe.#S(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:oe.#S(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[l,c,h,d]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=h,this.height=d;break;case 90:{const[p,y]=this.parentDimensions;this.x=c,this.y=1-l,this.width=h*y/p,this.height=d*p/y;break}case 180:this.x=1-l,this.y=1-c,this.width=h,this.height=d;break;case 270:{const[p,y]=this.parentDimensions;this.x=1-c,this.y=l,this.width=h*y/p,this.height=d*p/y;break}}const{lastPoint:f}=this.#s;this.#f=[(f[0]-l)/h,(f[1]-c)/d]}static initialize(t,e){ut.initialize(t,e),oe._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Mt.HIGHLIGHT_DEFAULT_COLOR:oe._defaultColor=e;break;case Mt.HIGHLIGHT_THICKNESS:oe._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#f}updateParams(t,e){switch(t){case Mt.HIGHLIGHT_COLOR:this.#A(e);break;case Mt.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[Mt.HIGHLIGHT_DEFAULT_COLOR,oe._defaultColor],[Mt.HIGHLIGHT_THICKNESS,oe._defaultThickness]]}get propertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,this.color||oe._defaultColor],[Mt.HIGHLIGHT_THICKNESS,this.#m||oe._defaultThickness],[Mt.HIGHLIGHT_FREE,this.#u]]}#A(t){const e=(l,c)=>{this.color=l,this.#g=c,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:l,"fill-opacity":c}}),this.#a?.updateColor(l)},n=this.color,r=this.#g;this.addCommands({cmd:e.bind(this,t,oe._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#w(t){const e=this.#m,n=r=>{this.#m=r,this.#T(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new hi({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#D())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#R(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#R(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#T(t){if(!this.#u)return;this.#x({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#R(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#g},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#n))}static#S([t,e,n,r],l){switch(l){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#u?(t=(t-this.rotation+360)%360,n=oe.#S(this.#l.box,t)):n=oe.#S([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:oe.#S(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#M.bind(this),{signal:this._uiManager._signal});const e=this.#h=document.createElement("div");t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),P1(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#M(t){oe._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#_(!0);break;case 1:case 3:this.#_(!1);break}}#_(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#o,this.#r)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#_(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#D(){return this.#u?this.rotation:0}#N(){if(this.#u)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,l=this.#i,c=new Float32Array(l.length*8);let h=0;for(const{x:d,y:f,width:p,height:y}of l){const b=d*t+n,v=(1-f)*e+r;c[h]=c[h+4]=b,c[h+1]=c[h+3]=v,c[h+2]=c[h+6]=b+p*t,c[h+5]=c[h+7]=v-y*e,h+=8}return c}#L(t){return this.#l.serialize(t,this.#D())}static startHighlighting(t,e,{target:n,x:r,y:l}){const{x:c,y:h,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,y=t.combinedSignal(p),b=v=>{p.abort(),this.#E(t,v)};window.addEventListener("blur",b,{signal:y}),window.addEventListener("pointerup",b,{signal:y}),window.addEventListener("pointerdown",ce,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Ci,{signal:y}),n.addEventListener("pointermove",this.#z.bind(this,t),{signal:y}),this._freeHighlight=new Xd({x:r,y:l},[c,h,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#z(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof nx){const{data:{quadPoints:x,rect:w,rotation:T,id:_,color:k,opacity:C,popupRef:N},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:vt.HIGHLIGHT,color:Array.from(k),opacity:C,quadPoints:x,boxes:null,pageIndex:M-1,rect:w.slice(0),rotation:T,annotationElementId:_,id:_,deleted:!1,popupRef:N}}else if(t instanceof Yf){const{data:{inkLists:x,rect:w,rotation:T,id:_,color:k,borderStyle:{rawWidth:C},popupRef:N},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:vt.HIGHLIGHT,color:Array.from(k),thickness:C,inkLists:x,boxes:null,pageIndex:M-1,rect:w.slice(0),rotation:T,annotationElementId:_,id:_,deleted:!1,popupRef:N}}const{color:l,quadPoints:c,inkLists:h,opacity:d}=t,f=await super.deserialize(t,e,n);f.color=lt.makeHexColor(...l),f.#g=d||1,h&&(f.#m=t.thickness),f._initialData=r;const[p,y]=f.pageDimensions,[b,v]=f.pageTranslation;if(c){const x=f.#i=[];for(let w=0;w<c.length;w+=8)x.push({x:(c[w]-b)/p,y:1-(c[w+1]-v)/y,width:(c[w+2]-c[w])/p,height:(c[w+1]-c[w+5])/y});f.#b(),f.#R(),f.rotate(f.rotation)}else if(h){f.#u=!0;const x=h[0],w={x:x[0]-b,y:y-(x[1]-v)},T=new Xd(w,[0,0,p,y],1,f.#m/2,!0,.001);for(let C=0,N=x.length;C<N;C+=2)w.x=x[C]-b,w.y=y-(x[C+1]-v),T.add(w);const{id:_,clipPathId:k}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);f.#x({highlightOutlines:T.getOutlines(),highlightId:_,clipPathId:k}),f.#R(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),n=ut._colorManager.convert(this.color),r={annotationType:vt.HIGHLIGHT,color:n,opacity:this.#g,thickness:this.#m,quadPoints:this.#N(),outlines:this.#L(e),pageIndex:this.pageIndex,rect:e,rotation:this.#D(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#v(r)?null:(r.id=this.annotationElementId,r)}#v(t){const{color:e}=this._initialData;return t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class ox{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){zt("Not implemented")}}class gt extends ut{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#s=NaN;static#o=null;static#r=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#c(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(gt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,l]of Object.entries(e))n.has(r)?Object.assign(t[r],l):t[r]=l;return t}static getDefaultDrawingOptions(t){zt("Not implemented")}static get typesMap(){zt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(gt.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,l=r[e],c=h=>{r.updateProperty(e,h);const d=this.#t.updateProperty(e,h);d&&this.#c(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:c.bind(this,n),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#g([t,e,n,r]){const{parentDimensions:[l,c],rotation:h}=this;switch(h){case 90:return[e,1-t,n*(c/l),r*(l/c)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(c/l),r*(l/c)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[l,c],rotation:h}=this;switch(h){case 90:return[1-e,t,n*(l/c),r*(c/l)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(l/c),r*(c/l)];default:return[t,e,n,r]}}#c(t){if([this.x,this.y,this.width,this.height]=this.#g(t),this.div){this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}this._onResized()}#m(){const{x:t,y:e,width:n,height:r,rotation:l,parentRotation:c,parentDimensions:[h,d]}=this;switch((l*4+c)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(h/d),r*(d/h),n*(h/d)];case 5:return[1-e,t,n*(h/d),r*(d/h)];case 6:return[1-t-r*(d/h),1-e,r*(d/h),n*(h/d)];case 7:return[e-n*(h/d),1-t-r*(d/h),n*(h/d),r*(d/h)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(d/h),e,r*(d/h),n*(h/d)];case 13:return[1-e-n*(h/d),t-r*(d/h),n*(h/d),r*(d/h)];case 14:return[1-t,1-e-n*(h/d),r*(d/h),n*(h/d)];case 15:return[e,1-t,n*(h/d),r*(d/h)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,gt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[l,c]=this.parentDimensions;return this.setDims(this.width*l,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,l){zt("Not implemented")}static startDrawing(t,e,n,r){const{target:l,offsetX:c,offsetY:h,pointerId:d,pointerType:f}=r;if(gt.#o&&gt.#o!==f)return;const{viewport:{rotation:p}}=t,{width:y,height:b}=l.getBoundingClientRect(),v=gt.#n=new AbortController,x=t.combinedSignal(v);if(gt.#s||=d,gt.#o??=f,window.addEventListener("pointerup",w=>{gt.#s===w.pointerId?this._endDraw(w):gt.#r?.delete(w.pointerId)},{signal:x}),window.addEventListener("pointercancel",w=>{gt.#s===w.pointerId?this._currentParent.endDrawingSession():gt.#r?.delete(w.pointerId)},{signal:x}),window.addEventListener("pointerdown",w=>{gt.#o===w.pointerType&&((gt.#r||=new Set).add(w.pointerId),gt.#i.isCancellable()&&(gt.#i.removeLastElement(),gt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Ci,{signal:x}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),l.addEventListener("touchmove",w=>{w.timeStamp===gt.#h&&ce(w)},{signal:x}),t.toggleDrawing(),e._editorUndoBar?.hide(),gt.#i){t.drawLayer.updateProperties(this._currentDrawId,gt.#i.startNew(c,h,y,b,p));return}e.updateUIForDefaultProperties(this),gt.#i=this.createDrawerInstance(c,h,y,b,p),gt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(gt.#a.toSVGProperties(),gt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(gt.#h=-1,!gt.#i)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(gt.#s===r){if(gt.#r?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,gt.#i.add(e,n)),gt.#h=t.timeStamp,ce(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,gt.#i=null,gt.#a=null,gt.#o=null,gt.#h=NaN),gt.#n&&(gt.#n.abort(),gt.#n=null,gt.#s=NaN,gt.#r=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,gt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=gt.#i,r=this._currentDrawId,l=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(l))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Mt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Mt.DRAW_STEP),!gt.#i.isEmpty()){const{pageDimensions:[n,r],scale:l}=e,c=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:gt.#i.getOutlines(n*l,r*l,l,this._INNER_MARGIN),drawingOptions:gt.#a,mustBeCommitted:!t});return this._cleanup(!0),c}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,l,c){zt("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:l,pageX:c,pageY:h}}=e.viewport,d=this.deserializeDraw(c,h,r,l,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[r,l]=this.pageDimensions;return this.#t.serialize([e,n,r,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class mR{#t=new Float64Array(6);#e;#i;#n;#a;#s;#o="";#r=0;#h=new Co;#l;#d;constructor(t,e,n,r,l,c){this.#l=n,this.#d=r,this.#n=l,this.#a=c,[t,e]=this.#u(t,e);const h=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:h,points:this.#s}],this.#t.set(h,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#u(t,e){return it._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#u(t,e);const[n,r,l,c]=this.#t.subarray(2,6),h=t-l,d=e-c;return Math.hypot(this.#l*h,this.#d*d)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([l,c,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,l,c,t,e],0),this.#e.push(...it.createBezierPoints(n,r,l,c,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,l){this.#l=n,this.#d=r,this.#n=l,[t,e]=this.#u(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const h=this.#i.at(-1);return h&&(h.line=new Float32Array(h.line),h.points=new Float32Array(h.points)),this.#i.push({line:c,points:this.#s}),this.#t.set(c,0),this.#r=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#r=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#h.removeLastElement();this.#i.pop(),this.#o="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:r}=this.#i[t];this.#e=n,this.#s=r,this.#r=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=it.svgRound(this.#e[4]),e=it.svgRound(this.#e[5]);if(this.#s.length===2)return this.#o=`${this.#o} M ${t} ${e} Z`,this.#o;if(this.#s.length<=6){const r=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,r)} M ${t} ${e}`,this.#r=6}if(this.#s.length===4){const r=it.svgRound(this.#e[10]),l=it.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${r} ${l}`,this.#r=12,this.#o}const n=[];this.#r===0&&(n.push(`M ${t} ${e}`),this.#r=6);for(let r=this.#r,l=this.#e.length;r<l;r+=6){const[c,h,d,f,p,y]=this.#e.slice(r,r+6).map(it.svgRound);n.push(`C${c} ${h} ${d} ${f} ${p} ${y}`)}return this.#o+=n.join(" "),this.#r=this.#e.length,this.#o}getOutlines(t,e,n,r){const l=this.#i.at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),this.#h.build(this.#i,t,e,n,this.#n,this.#a,r),this.#t=null,this.#e=null,this.#i=null,this.#o=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Co extends it{#t;#e=0;#i;#n;#a;#s;#o;#r;#h;build(t,e,n,r,l,c,h){this.#a=e,this.#s=n,this.#o=r,this.#r=l,this.#h=c,this.#i=h??0,this.#n=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${it.svgRound(e[4])} ${it.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${it.svgRound(e[10])} ${it.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[l,c,h,d,f,p]=e.subarray(n,n+6).map(it.svgRound);t.push(`C${l} ${c} ${h} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,n,r],l){const c=[],h=[],[d,f,p,y]=this.#d();let b,v,x,w,T,_,k,C,N;switch(this.#r){case 0:N=it._rescale,b=t,v=e+r,x=n,w=-r,T=t+d*n,_=e+(1-f-y)*r,k=t+(d+p)*n,C=e+(1-f)*r;break;case 90:N=it._rescaleAndSwap,b=t,v=e,x=n,w=r,T=t+f*n,_=e+d*r,k=t+(f+y)*n,C=e+(d+p)*r;break;case 180:N=it._rescale,b=t+n,v=e,x=-n,w=r,T=t+(1-d-p)*n,_=e+f*r,k=t+(1-d)*n,C=e+(f+y)*r;break;case 270:N=it._rescaleAndSwap,b=t+n,v=e+r,x=-n,w=-r,T=t+(1-f-y)*n,_=e+(1-d-p)*r,k=t+(1-f)*n,C=e+(1-d)*r;break}for(const{line:M,points:j}of this.#n)c.push(N(M,b,v,x,w,l?new Array(M.length):null)),h.push(N(j,b,v,x,w,l?new Array(j.length):null));return{lines:c,points:h,rect:[T,_,k,C]}}static deserialize(t,e,n,r,l,{paths:{lines:c,points:h},rotation:d,thickness:f}){const p=[];let y,b,v,x,w;switch(d){case 0:w=it._rescale,y=-t/n,b=e/r+1,v=1/n,x=-1/r;break;case 90:w=it._rescaleAndSwap,y=-e/r,b=-t/n,v=1/r,x=1/n;break;case 180:w=it._rescale,y=t/n+1,b=-e/r,v=-1/n,x=1/r;break;case 270:w=it._rescaleAndSwap,y=e/r+1,b=t/n+1,v=-1/r,x=-1/n;break}if(!c){c=[];for(const _ of h){const k=_.length;if(k===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1]]));continue}if(k===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,_[0],_[1],NaN,NaN,NaN,NaN,_[2],_[3]]));continue}const C=new Float32Array(3*(k-2));c.push(C);let[N,M,j,B]=_.subarray(0,4);C.set([NaN,NaN,NaN,NaN,N,M],0);for(let U=4;U<k;U+=2){const $=_[U],Q=_[U+1];C.set(it.createBezierPoints(N,M,j,B,$,Q),(U-2)*3),[N,M,j,B]=[j,B,$,Q]}}}for(let _=0,k=c.length;_<k;_++)p.push({line:w(c[_].map(C=>C??NaN),y,b,v,x),points:w(h[_].map(C=>C??NaN),y,b,v,x)});const T=new this.prototype.constructor;return T.build(p,n,r,1,d,f,l),T}#l(t=this.#h){const e=this.#i+t/2*this.#o;return this.#r%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,n,r]=this.#t,[l,c]=this.#l(0);return[t+l,e+c,n-2*l,r-2*c]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let h=4,d=r.length;h<d;h+=6)lt.pointBoundingBox(r[h],r[h+1],t);continue}let l=r[4],c=r[5];for(let h=6,d=r.length;h<d;h+=6){const[f,p,y,b,v,x]=r.subarray(h,h+6);lt.bezierBoundingBox(l,c,f,p,y,b,v,x,t),l=v,c=x}}const[e,n]=this.#l();t[0]=Ie(t[0]-e,0,1),t[1]=Ie(t[1]-n,0,1),t[2]=Ie(t[2]+e,0,1),t[3]=Ie(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#h=t;const[r,l]=this.#l(),[c,h]=[r-e,l-n],d=this.#t;return d[0]-=c,d[1]-=h,d[2]+=2*c,d[3]+=2*h,d}updateParentDimensions([t,e],n){const[r,l]=this.#l();this.#a=t,this.#s=e,this.#o=n;const[c,h]=this.#l(),d=c-r,f=h-l,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(it.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,l=0,c=0,h=0,d=0;switch(this.#e){case 90:r=e/t,l=-t/e,h=t;break;case 180:n=-1,c=-1,h=t,d=e;break;case 270:r=-e/t,l=t/e,d=e;break;default:return""}return`matrix(${n} ${r} ${l} ${c} ${it.svgRound(h)} ${it.svgRound(d)})`}getPathResizingSVGProperties([t,e,n,r]){const[l,c]=this.#l(),[h,d,f,p]=this.#t;if(Math.abs(f-l)<=it.PRECISION||Math.abs(p-c)<=it.PRECISION){const w=t+n/2-(h+f/2),T=e+r/2-(d+p/2);return{path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:`${this.rotationTransform} translate(${w} ${T})`}}}const y=(n-2*l)/(f-2*l),b=(r-2*c)/(p-2*c),v=f/n,x=p/r;return{path:{"transform-origin":`${it.svgRound(h)} ${it.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${x}) translate(${it.svgRound(l)} ${it.svgRound(c)}) scale(${y} ${b}) translate(${it.svgRound(-l)} ${it.svgRound(-c)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[l,c]=this.#l(),h=this.#t,[d,f,p,y]=h;if(h[0]=t,h[1]=e,h[2]=n,h[3]=r,Math.abs(p-l)<=it.PRECISION||Math.abs(y-c)<=it.PRECISION){const T=t+n/2-(d+p/2),_=e+r/2-(f+y/2);for(const{line:k,points:C}of this.#n)it._translate(k,T,_,k),it._translate(C,T,_,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(n-2*l)/(p-2*l),v=(r-2*c)/(y-2*c),x=-b*(d+l)+t+l,w=-v*(f+c)+e+c;if(b!==1||v!==1||x!==0||w!==0)for(const{line:T,points:_}of this.#n)it._rescale(T,x,w,b,v,T),it._rescale(_,x,w,b,v,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,l]=n,c=this.#t,h=t-c[0],d=e-c[1];if(this.#a===r&&this.#s===l)for(const{line:f,points:p}of this.#n)it._translate(f,h,d,f),it._translate(p,h,d,p);else{const f=this.#a/r,p=this.#s/l;this.#a=r,this.#s=l;for(const{line:y,points:b}of this.#n)it._rescale(y,h,d,f,p,y),it._rescale(b,h,d,f,p,b);c[2]*=f,c[3]*=p}return c[0]=t,c[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${it.svgRound(t)} ${it.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${it.svgRound(t[0])} ${it.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class wc extends ox{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ut._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new wc(this._viewParameters);return t.updateAll(this),t}}class Kf extends gt{static _type="ink";static _editorType=vt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){ut.initialize(t,e),this._defaultDrawingOptions=new wc(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ct(this,"typesMap",new Map([[Mt.INK_THICKNESS,"stroke-width"],[Mt.INK_COLOR,"stroke"],[Mt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,l){return new mR(t,e,n,r,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,l,c){return Co.deserialize(t,e,n,r,l,c)}static async deserialize(t,e,n){let r=null;if(t instanceof Yf){const{data:{inkLists:c,rect:h,rotation:d,id:f,color:p,opacity:y,borderStyle:{rawWidth:b},popupRef:v},parent:{page:{pageNumber:x}}}=t;r=t={annotationType:vt.INK,color:Array.from(p),thickness:b,opacity:y,paths:{points:c},boxes:null,pageIndex:x-1,rect:h.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:v}}const l=await super.deserialize(t,e,n);return l._initialData=r,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Kf.getDefaultDrawingOptions({stroke:lt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":h}}=this,d={annotationType:vt.INK,color:ut._colorManager.convert(l),opacity:c,thickness:h,paths:{lines:e,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(d.isCopy=!0,d):this.annotationElementId&&!this.#t(d)?null:(d.id=this.annotationElementId,d)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,h)=>c!==e[h])||t.thickness!==n||t.opacity!==r||t.pageIndex!==l}renderAnnotationElement(t){const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e}),null}}class Yd extends Co{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Jl=8,qr=3;class bs{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,r,l,c,h){const d=this.#e(n,r,l,c);for(let f=0;f<8;f++){const p=(-f+d-h+16)%8,y=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+y)*e+(r+b)]!==0)return p}return-1}static#a(t,e,n,r,l,c,h){const d=this.#e(n,r,l,c);for(let f=0;f<8;f++){const p=(f+d+h+16)%8,y=this.#i[2*p],b=this.#i[2*p+1];if(t[(n+y)*e+(r+b)]!==0)return p}return-1}static#s(t,e,n,r){const l=t.length,c=new Int32Array(l);for(let p=0;p<l;p++)c[p]=t[p]<=r?1:0;for(let p=1;p<n-1;p++)c[p*e]=c[p*e+e-1]=0;for(let p=0;p<e;p++)c[p]=c[e*n-1-p]=0;let h=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let y=1;y<e-1;y++){const b=p*e+y,v=c[b];if(v===0)continue;let x=p,w=y;if(v===1&&c[b-1]===0)h+=1,w-=1;else if(v>=1&&c[b+1]===0)h+=1,w+=1,v>1&&(d=v);else{v!==1&&(d=Math.abs(v));continue}const T=[y,p],_=w===y+1,k={isHole:_,points:T,id:h,parent:0};f.push(k);let C;for(const J of f)if(J.id===d){C=J;break}C?C.isHole?k.parent=_?C.parent:d:k.parent=_?d:C.parent:k.parent=_?d:0;const N=this.#n(c,e,p,y,x,w,0);if(N===-1){c[b]=-h,c[b]!==1&&(d=Math.abs(c[b]));continue}let M=this.#i[2*N],j=this.#i[2*N+1];const B=p+M,U=y+j;x=B,w=U;let $=p,Q=y;for(;;){const J=this.#a(c,e,$,Q,x,w,1);M=this.#i[2*J],j=this.#i[2*J+1];const rt=$+M,dt=Q+j;T.push(dt,rt);const nt=$*e+Q;if(c[nt+1]===0?c[nt]=-h:c[nt]===1&&(c[nt]=h),rt===p&&dt===y&&$===B&&Q===U){c[b]!==1&&(d=Math.abs(c[b]));break}else x=$,w=Q,$=rt,Q=dt}}}return f}static#o(t,e,n,r){if(n-e<=4){for(let B=e;B<n-2;B+=2)r.push(t[B],t[B+1]);return}const l=t[e],c=t[e+1],h=t[n-4]-l,d=t[n-3]-c,f=Math.hypot(h,d),p=h/f,y=d/f,b=p*c-y*l,v=d/h,x=1/f,w=Math.atan(v),T=Math.cos(w),_=Math.sin(w),k=x*(Math.abs(T)+Math.abs(_)),C=x*(1-k+k**2),N=Math.max(Math.atan(Math.abs(_+T)*C),Math.atan(Math.abs(_-T)*C));let M=0,j=e;for(let B=e+2;B<n-2;B+=2){const U=Math.abs(b-p*t[B+1]+y*t[B]);U>M&&(j=B,M=U)}M>(f*N)**2?(this.#o(t,e,j+2,r),this.#o(t,j,n,r)):r.push(l,c)}static#r(t){const e=[],n=t.length;return this.#o(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#h(t,e,n,r,l,c){const h=new Float32Array(c**2),d=-2*r**2,f=c>>1;for(let w=0;w<c;w++){const T=(w-f)**2;for(let _=0;_<c;_++)h[w*c+_]=Math.exp((T+(_-f)**2)/d)}const p=new Float32Array(256),y=-2*l**2;for(let w=0;w<256;w++)p[w]=Math.exp(w**2/y);const b=t.length,v=new Uint8Array(b),x=new Uint32Array(256);for(let w=0;w<n;w++)for(let T=0;T<e;T++){const _=w*e+T,k=t[_];let C=0,N=0;for(let j=0;j<c;j++){const B=w+j-f;if(!(B<0||B>=n))for(let U=0;U<c;U++){const $=T+U-f;if($<0||$>=e)continue;const Q=t[B*e+$],J=h[j*c+U]*p[Math.abs(Q-k)];C+=Q*J,N+=J}}const M=v[_]=Math.round(C/N);x[M]++}return[v,x]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,l=1/0;for(let h=0,d=n.length;h<d;h++){if(t[(h<<2)+3]===0){r=n[h]=255;continue}const p=n[h]=t[h<<2];p>r&&(r=p),p<l&&(l=p)}const c=255/(r-l);for(let h=0;h<e;h++)n[h]=(n[h]-l)*c;return n}static#u(t){let e,n=-1/0,r=-1/0;const l=t.findIndex(d=>d!==0);let c=l,h=l;for(e=l;e<256;e++){const d=t[e];d>n&&(e-c>r&&(r=e-c,h=e-1),n=d,c=e)}for(e=h-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:l}=this.#t;let c=n,h=r;if(n>l||r>l){let b=n,v=r,x=Math.log2(Math.max(n,r)/l);const w=Math.floor(x);x=x===w?w-1:w;for(let _=0;_<x;_++){c=Math.ceil(b/2),h=Math.ceil(v/2);const k=new OffscreenCanvas(c,h);k.getContext("2d").drawImage(t,0,0,b,v,0,0,c,h),b=c,v=h,t!==e&&t.close(),t=k.transferToImageBitmap()}const T=Math.min(l/c,l/h);c=Math.round(c*T),h=Math.round(h*T)}const f=new OffscreenCanvas(c,h).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,c,h);const p=f.getImageData(0,0,c,h).data;return[this.#d(p),c,h]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},l,c,h,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const y=200,b=p.font=`${n} ${r} ${y}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:x,actualBoundingBoxAscent:w,actualBoundingBoxDescent:T,fontBoundingBoxAscent:_,fontBoundingBoxDescent:k,width:C}=p.measureText(t),N=1.5,M=Math.ceil(Math.max(Math.abs(v)+Math.abs(x)||0,C)*N),j=Math.ceil(Math.max(Math.abs(w)+Math.abs(T)||y,Math.abs(_)+Math.abs(k)||y)*N);f=new OffscreenCanvas(M,j),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=b,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,M,j),p.fillStyle="black",p.fillText(t,M*(N-1)/2,j*(3-N)/2);const B=this.#d(p.getImageData(0,0,M,j).data),U=this.#l(B),$=this.#u(U),Q=this.#s(B,M,j,$);return this.processDrawnLines({lines:{curves:Q,width:M,height:j},pageWidth:l,pageHeight:c,rotation:h,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,l){const[c,h,d]=this.#f(t),[f,p]=this.#h(c,h,d,Math.hypot(h,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),y=this.#u(p),b=this.#s(f,h,d,y);return this.processDrawnLines({lines:{curves:b,width:h,height:d},pageWidth:e,pageHeight:n,rotation:r,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:l,mustSmooth:c,areContours:h}){r%180!==0&&([e,n]=[n,e]);const{curves:d,width:f,height:p}=t,y=t.thickness??0,b=[],v=Math.min(e/f,n/p),x=v/e,w=v/n,T=[];for(const{points:k}of d){const C=c?this.#r(k):k;if(!C)continue;T.push(C);const N=C.length,M=new Float32Array(N),j=new Float32Array(3*(N===2?2:N-2));if(b.push({line:j,points:M}),N===2){M[0]=C[0]*x,M[1]=C[1]*w,j.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[B,U,$,Q]=C;B*=x,U*=w,$*=x,Q*=w,M.set([B,U,$,Q],0),j.set([NaN,NaN,NaN,NaN,B,U],0);for(let J=4;J<N;J+=2){const rt=M[J]=C[J]*x,dt=M[J+1]=C[J+1]*w;j.set(it.createBezierPoints(B,U,$,Q,rt,dt),(J-2)*3),[B,U,$,Q]=[$,Q,rt,dt]}}if(b.length===0)return null;const _=h?new Yd:new Co;return _.build(b,e,n,1,r,h?0:y,l),{outline:_,newCurves:T,areContours:h,thickness:y,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:l}){let c=1/0,h=-1/0,d=0;for(const C of t){d+=C.length;for(let N=2,M=C.length;N<M;N++){const j=C[N]-C[N-2];c=Math.min(c,j),h=Math.max(h,j)}}let f;c>=-128&&h<=127?f=Int8Array:c>=-32768&&h<=32767?f=Int16Array:f=Int32Array;const p=t.length,y=Jl+qr*p,b=new Uint32Array(y);let v=0;b[v++]=y*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,b[v++]=0,b[v++]=r,b[v++]=l,b[v++]=e?0:1,b[v++]=Math.max(0,Math.floor(n??0)),b[v++]=p,b[v++]=f.BYTES_PER_ELEMENT;for(const C of t)b[v++]=C.length-2,b[v++]=C[0],b[v++]=C[1];const x=new CompressionStream("deflate-raw"),w=x.writable.getWriter();await w.ready,w.write(b);const T=f.prototype.constructor;for(const C of t){const N=new T(C.length-2);for(let M=2,j=C.length;M<j;M++)N[M-2]=C[M]-C[M-2];w.write(N)}w.close();const _=await new Response(x.readable).arrayBuffer(),k=new Uint8Array(_);return k1(k)}static async decompressSignature(t){try{const e=XC(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),l=r.getWriter();await l.ready,l.write(e).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,h=0;for await(const C of n)c||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),c.set(C,h),h+=C.length;const d=new Uint32Array(c.buffer,0,c.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],y=d[3],b=d[4]===0,v=d[5],x=d[6],w=d[7],T=[],_=(Jl+qr*x)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(w){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(c.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(c.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(c.buffer,_);break}h=0;for(let C=0;C<x;C++){const N=d[qr*C+Jl],M=new Float32Array(N+2);T.push(M);for(let j=0;j<qr-1;j++)M[j]=d[qr*C+Jl+j+1];for(let j=0;j<N;j++)M[j+2]=M[j]+k[h++]}return{areContours:b,thickness:v,outlines:T,width:p,height:y}}catch(e){return xt(`decompressSignature: ${e}`),null}}}class Wf extends ox{constructor(){super(),super.updateProperties({fill:ut._defaultLineColor,"stroke-width":0})}clone(){const t=new Wf;return t.updateAll(this),t}}class Qf extends wc{constructor(t){super(t),super.updateProperties({stroke:ut._defaultLineColor,"stroke-width":1})}clone(){const t=new Qf(this._viewParameters);return t.updateAll(this),t}}class Ui extends gt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=vt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){ut.initialize(t,e),this._defaultDrawingOptions=new Wf,this._defaultDrawnSignatureOptions=new Qf(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ct(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:l,areContours:c,description:h,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:y},rotation:b}=this.parent.viewport,v=bs.processDrawnLines({lines:r,pageWidth:p,pageHeight:y,rotation:b,innerMargin:Ui._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(v,f,h,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:l}=this.#i,c=Math.max(r,l),h=bs.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:n,width:r,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:l,y:c}=this,{outline:h}=this.#i=t;this.#t=h instanceof Yd,this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let d;this.#t?d=Ui.getDefaultDrawingOptions():(d=Ui._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:d});const[f,p]=this.parentDimensions,[,y]=this.pageDimensions;let b=e/y;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(f*this.width,p*this.height),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return bs.process(t,e,n,r,Ui._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:l}=this.parent.viewport;return bs.extractContoursFromText(t,e,n,r,l,Ui._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return bs.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:Ui._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Ui.getDefaultDrawingOptions():(this._drawingOptions=Ui._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,c={annotationType:vt.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:l,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:e,points:n},c.uuid=this.#n,c.isCopy=!0):c.lines=e,this.#e&&(c.accessibilityData={type:"Figure",alt:this.#e}),c}static deserializeDraw(t,e,n,r,l,c){return c.areContours?Yd.deserialize(t,e,n,r,l,c):Co.deserialize(t,e,n,r,l,c)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.#e=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class yR extends ut{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#o=null;#r=!1;#h=null;#l=!1;#d=!1;static _type="stamp";static _editorType=vt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){ut.initialize(t,e)}static isHandlingMimeForPasting(t){return dc.includes(t)}static paste(t,e){e.pasteEditor({mode:vt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#u(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,h=await n.guess({name:"altText",request:{data:r,width:l,height:c,channels:r.length/(l*c)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#u(r)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#u(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=dc.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#r)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#r||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#r=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,l]=this.pageDimensions,c=.75;if(this.width)e=this.width*r,n=this.height*l;else if(e>c*r||n>c*l){const p=Math.min(c*r/e,c*l/n);e*=p,n*=p}const[h,d]=this.parentDimensions;this.setDims(e*h/r,n*d/l),this._uiManager.enableWaiting(!1);const f=this.#o=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=e/r,this.height=n/l,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:l}=this.#t,c=new Li;let h=this.#t,d=r,f=l,p=null;if(e){if(r>e||l>e){const j=Math.min(e/r,e/l);d=Math.floor(r*j),f=Math.floor(l*j)}p=document.createElement("canvas");const b=p.width=Math.ceil(d*c.sx),v=p.height=Math.ceil(f*c.sy);this.#l||(h=this.#c(b,v));const x=p.getContext("2d");x.filter=this._uiManager.hcmFilter;let w="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(w="#8f8f9d",T="#42414d");const _=15,k=_*c.sx,C=_*c.sy,N=new OffscreenCanvas(k*2,C*2),M=N.getContext("2d");M.fillStyle=w,M.fillRect(0,0,k*2,C*2),M.fillStyle=T,M.fillRect(0,0,k,C),M.fillRect(k,C,k,C),x.fillStyle=x.createPattern(N,"repeat"),x.fillRect(0,0,b,v),x.drawImage(h,0,0,h.width,h.height,0,0,b,v)}let y=null;if(n){let b,v;if(c.symmetric&&h.width<t&&h.height<t)b=h.width,v=h.height;else if(h=this.#t,r>t||l>t){const T=Math.min(t/r,t/l);b=Math.floor(r*T),v=Math.floor(l*T),this.#l||(h=this.#c(b,v))}const w=new OffscreenCanvas(b,v).getContext("2d",{willReadFrequently:!0});w.drawImage(h,0,0,h.width,h.height,0,0,b,v),y={width:b,height:v,data:w.getImageData(0,0,b,v).data}}return{canvas:p,width:d,height:f,imageData:y}}#c(t,e){const{width:n,height:r}=this.#t;let l=n,c=r,h=this.#t;for(;l>2*t||c>2*e;){const d=l,f=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*e&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(l,c);p.getContext("2d").drawImage(h,0,0,d,f,0,0,l,c),h=p.transferToImageBitmap()}return h}#m(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,l=new Li,c=Math.ceil(n*t*l.sx),h=Math.ceil(r*e*l.sy),d=this.#o;if(!d||d.width===c&&d.height===h)return;d.width=c,d.height=h;const f=this.#l?this.#t:this.#c(c,h),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,h)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*Ms.PDF_TO_CSS_UNITS),l=Math.round(this.height*n*Ms.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,l);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,l),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,l=!1;if(t instanceof sx){const{data:{rect:w,rotation:T,id:_,structParent:k,popupRef:C},container:N,parent:{page:{pageNumber:M}},canvas:j}=t;let B,U;j?(delete t.canvas,{id:B,bitmap:U}=n.imageManager.getFromCanvas(N.id,j),j.remove()):(l=!0,t._hasNoCanvas=!0);const $=(await e._structTree.getAriaAttributes(`${Pf}${_}`))?.get("aria-label")||"";r=t={annotationType:vt.STAMP,bitmapId:B,bitmap:U,pageIndex:M-1,rect:w.slice(0),rotation:T,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:k,popupRef:C}}const c=await super.deserialize(t,e,n),{rect:h,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:y,accessibilityData:b}=t;l?(n.addMissingCanvas(t.id,c),c.#r=!0):p&&n.imageManager.isValidId(p)?(c.#e=p,d&&(c.#t=d)):c.#n=f,c.#l=y;const[v,x]=c.pageDimensions;return c.width=(h[2]-h[0])/v,c.height=(h[3]-h[1])/x,b&&(c.altTextData=b),c._initialData=r,c.#d=!!r,c}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:vt.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:l}=this.serializeAltText(!1);if(!r&&l&&(n.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=this.#b(n);if(h.isSame)return null;h.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,e===null)return n;e.stamps||=new Map;const c=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:c,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const h=e.stamps.get(this.#e);c>h.area&&(h.area=c,h.serialized.bitmap.close(),h.serialized.bitmap=this.#y(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,l=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&l,isSameAltText:l}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class qi{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#o=!1;#r=!1;#h=!1;#l=null;#d=null;#u=null;#f=null;#g=null;#p=-1;#c;static _initialized=!1;static#m=new Map([Ae,Kf,yR,oe,Ui].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:d,viewport:f,l10n:p}){const y=[...qi.#m.values()];if(!qi._initialized){qi._initialized=!0;for(const b of y)b.initialize(p,t)}t.registerEditorTypes(y),this.#c=t,this.pageIndex=e,this.div=n,this.#t=l,this.#i=c,this.viewport=f,this.#u=d,this.drawLayer=h,this._structTree=r,this.#c.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===vt.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#w(),t){case vt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case vt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case vt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of qi.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#s.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#c.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#i){this.#h=!1;return}const e=this.#i.getEditableAnnotations();for(const n of e){if(n.hide(),this.#c.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#h=!1}disable(){if(this.#r=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#g){this.#g=new AbortController;const r=this.#c.combinedSignal(this.#g);this.#u.div.addEventListener("pointerdown",l=>{const{clientX:h,clientY:d,timeStamp:f}=l,p=this.#p;if(f-p>500){this.#p=f;return}this.#p=-1;const{classList:y}=this.div;y.toggle("getElements",!0);const b=document.elementsFromPoint(h,d);if(y.toggle("getElements",!1),!this.div.contains(b[0]))return;let v;const x=new RegExp(`^${T1}[0-9]+$`);for(const T of b)if(x.test(T.id)){v=T.id;break}if(!v)return;const w=this.#s.get(v);w?.annotationElementId===null&&(l.stopPropagation(),l.preventDefault(),w.dblclick())},{signal:r,capture:!0})}const t=new Map,e=new Map;for(const r of this.#s.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#i){const r=this.#i.getEditableAnnotations();for(const l of r){const{id:c}=l.data;if(this.#c.isDeletedAnnotationElement(c))continue;let h=e.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=t.get(c),h&&(this.#c.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of qi.#m.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#r=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#y.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#y(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#u.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#u.div.contains(e)){const{isMac:n}=Ce.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),oe.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#c.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#r&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),ut.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return this.#c.getId()}get#b(){return qi.#m.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#x(t){const e=this.#b;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#A(),l=this.getNextId(),c=this.#x({parent:this,id:l,x:n,y:r,uiManager:this.#c,isCentered:!0,...e});c&&this.add(c)}async deserialize(t){return await qi.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),l=this.#x({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...n});return l&&this.add(l),l}#A(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,e),h=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+r),f=(l+h)/2-t,p=(c+d)/2-e,[y,b]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:y,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#A(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=Ce.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#o||(this.#o=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#c.getMode();if(n===vt.STAMP||n===vt.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===vt.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:e}=Ce.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#o=!0,this.#b?.isDrawer){this.startDrawingSession(t);return}const n=this.#c.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#b.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#b.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#c.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#c.removeLayer(this)}#w(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Yn(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#w();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Yn(this.div,{rotation:n}),e!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class _e{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ct(this,"_svgFactory",new po)}static#a(t,[e,n,r,l]){const{style:c}=t;c.top=`${100*n}%`,c.left=`${100*e}%`,c.width=`${100*r}%`,c.height=`${100*l}%`}#s(){const t=_e._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,e){const n=_e._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const l=_e._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r}#r(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=_e.#n++,l=this.#s(),c=_e._svgFactory.createElement("defs");l.append(c);const h=_e._svgFactory.createElement("path");c.append(h);const d=`path_p${this.pageIndex}_${r}`;h.setAttribute("id",d),h.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,h);const f=n?this.#o(c,d):null,p=_e._svgFactory.createElement("use");return l.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(l,t),this.#e.set(r,l),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=_e.#n++,r=this.#s(),l=_e._svgFactory.createElement("defs");r.append(l);const c=_e._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${n}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const y=_e._svgFactory.createElement("mask");l.append(y),d=`mask_p${this.pageIndex}_${n}`,y.setAttribute("id",d),y.setAttribute("maskUnits","objectBoundingBox");const b=_e._svgFactory.createElement("rect");y.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=_e._svgFactory.createElement("use");y.append(v),v.setAttribute("href",`#${h}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const f=_e._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${h}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:l,path:c}=e,h=typeof t=="number"?this.#e.get(t):t;if(h){if(n&&this.#r(h,n),r&&_e.#a(h,r),l){const{classList:d}=h;for(const[f,p]of Object.entries(l))d.toggle(f,p)}if(c){const f=h.firstChild.firstChild;this.#r(f,c)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:qd};globalThis.pdfjsLib={AbortException:yn,AnnotationEditorLayer:qi,AnnotationEditorParamsType:Mt,AnnotationEditorType:vt,AnnotationEditorUIManager:bn,AnnotationLayer:$f,AnnotationMode:Xi,AnnotationType:re,build:Z1,ColorPicker:hi,createValidAbsoluteUrl:Df,DOMSVGFactory:po,DrawLayer:_e,FeatureTest:Ce,fetchData:Va,getDocument:Uf,getFilenameFromUrl:D1,getPdfFilenameFromUrl:N1,getUuid:Lf,getXfaPageViewport:L1,GlobalWorkerOptions:Gn,ImageKind:eo,InvalidPDFException:hc,isDataScheme:So,isPdfFile:xc,isValidExplicitDest:B1,MathClamp:Ie,noContextMenu:Ci,normalizeUnicode:R1,OPS:co,OutputScale:Li,PasswordResponses:C1,PDFDataRangeTransport:qf,PDFDateString:Of,PDFWorker:Oa,PermissionFlag:_1,PixelsPerInch:Ms,RenderingCancelledException:vc,ResponseException:uo,setLayerDimensions:Yn,shadow:Ct,SignatureExtractor:bs,stopEvent:ce,SupportedImageMimeTypes:dc,TextLayer:ho,TouchManager:To,updateUrlHash:Nf,Util:lt,VerbosityLevel:xo,version:go,XfaLayer:Xf};const bR=Object.freeze(Object.defineProperty({__proto__:null,AbortException:yn,AnnotationEditorLayer:qi,AnnotationEditorParamsType:Mt,AnnotationEditorType:vt,AnnotationEditorUIManager:bn,AnnotationLayer:$f,AnnotationMode:Xi,AnnotationType:re,ColorPicker:hi,DOMSVGFactory:po,DrawLayer:_e,FeatureTest:Ce,GlobalWorkerOptions:Gn,ImageKind:eo,InvalidPDFException:hc,MathClamp:Ie,OPS:co,OutputScale:Li,PDFDataRangeTransport:qf,PDFDateString:Of,PDFWorker:Oa,PasswordResponses:C1,PermissionFlag:_1,PixelsPerInch:Ms,RenderingCancelledException:vc,ResponseException:uo,SignatureExtractor:bs,SupportedImageMimeTypes:dc,TextLayer:ho,TouchManager:To,Util:lt,VerbosityLevel:xo,XfaLayer:Xf,build:Z1,createValidAbsoluteUrl:Df,fetchData:Va,getDocument:Uf,getFilenameFromUrl:D1,getPdfFilenameFromUrl:N1,getUuid:Lf,getXfaPageViewport:L1,isDataScheme:So,isPdfFile:xc,isValidExplicitDest:B1,noContextMenu:Ci,normalizeUnicode:R1,setLayerDimensions:Yn,shadow:Ct,stopEvent:ce,updateUrlHash:Nf,version:go},Symbol.toStringTag,{value:"Module"}));function lx(a){var t,e,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var r=a.length;for(t=0;t<r;t++)a[t]&&(e=lx(a[t]))&&(n&&(n+=" "),n+=e)}else for(e in a)a[e]&&(n&&(n+=" "),n+=e);return n}function Sc(){for(var a,t,e=0,n="",r=arguments.length;e<r;e++)(a=arguments[e])&&(t=lx(a))&&(n&&(n+=" "),n+=t);return n}var Pb=Object.prototype.hasOwnProperty;function Ob(a,t,e){for(e of a.keys())if(ka(e,t))return e}function ka(a,t){var e,n,r;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((n=a.length)===t.length)for(;n--&&ka(a[n],t[n]););return n===-1}if(e===Set){if(a.size!==t.size)return!1;for(n of a)if(r=n,r&&typeof r=="object"&&(r=Ob(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(n of a)if(r=n[0],r&&typeof r=="object"&&(r=Ob(t,r),!r)||!ka(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((n=a.byteLength)===t.byteLength)for(;n--&&a.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===t.byteLength)for(;n--&&a[n]===t[n];);return n===-1}if(!e||typeof a=="object"){n=0;for(e in a)if(Pb.call(a,e)&&++n&&!Pb.call(t,e)||!(e in t)||!ka(a[e],t[e]))return!1;return Object.keys(t).length===n}}return a!==a&&t!==t}function Mo(a){let t=!1;return{promise:new Promise((n,r)=>{a.then(l=>!t&&n(l)).catch(l=>!t&&r(l))}),cancel(){t=!0}}}const vR=["onCopy","onCut","onPaste"],xR=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],AR=["onFocus","onBlur"],wR=["onInput","onInvalid","onReset","onSubmit"],SR=["onLoad","onError"],ER=["onKeyDown","onKeyPress","onKeyUp"],TR=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],_R=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],CR=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],MR=["onSelect"],RR=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],kR=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],DR=["onScroll"],NR=["onWheel"],LR=["onAnimationStart","onAnimationEnd","onAnimationIteration"],PR=["onTransitionEnd"],OR=["onToggle"],jR=["onChange"],BR=[...vR,...xR,...AR,...wR,...SR,...ER,...TR,..._R,...CR,...MR,...RR,...kR,...DR,...NR,...LR,...PR,...jR,...OR];function cx(a,t){const e={};for(const n of BR){const r=a[n];r&&(t?e[n]=l=>r(l,t(n)):e[n]=r)}return e}var IR="Invariant failed";function Ut(a,t){if(!a)throw new Error(IR)}var yd,jb;function FR(){if(jb)return yd;jb=1;var a=function(){};return yd=a,yd}var zR=FR();const Fe=Wd(zR),ux=Y.createContext(null),VR="noopener noreferrer nofollow";class HR{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ut(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Ut(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Ut(this.pdfDocument),Ut(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Ut(Array.isArray(e));const n=e[0];new Promise(r=>{Ut(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(l=>{r(l)}).catch(()=>{Ut(!1)}):typeof n=="number"?r(n):Ut(!1)}).then(r=>{const l=r+1;Ut(this.pdfViewer),Ut(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Ut(this.pdfViewer),Ut(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||VR,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Da({children:a,type:t}){return S.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const Bb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function UR(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function ja(){return Y.useReducer(UR,{value:void 0,error:void 0})}const Ec=typeof window<"u",hx=Ec&&window.location.protocol==="file:";function GR(a){return typeof a<"u"}function ms(a){return GR(a)&&a!==null}function qR(a){return typeof a=="string"}function XR(a){return a instanceof ArrayBuffer}function YR(a){return Ut(Ec),a instanceof Blob}function $d(a){return qR(a)&&/^data:/.test(a)}function Ib(a){Ut($d(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function $R(){return Ec&&window.devicePixelRatio||1}const dx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Fb(){Fe(!hx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${dx}`)}function KR(){Fe(!hx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${dx}`)}function ks(a){a?.cancel&&a.cancel()}function Kd(a,t){return Object.defineProperty(a,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function WR(a){return a.name==="RenderingCancelledException"}function QR(a){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return e(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}const{PDFDataRangeTransport:ZR}=bR,JR=(a,t)=>{switch(t){case Bb.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case Bb.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function zb(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const Vb=Y.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:l,file:c,inputRef:h,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:y,onLoadError:b,onLoadProgress:v,onLoadSuccess:x,onPassword:w=JR,onSourceError:T,onSourceSuccess:_,options:k,renderMode:C,rotate:N,scale:M,...j},B){const[U,$]=ja(),{value:Q,error:J}=U,[rt,dt]=ja(),{value:nt,error:pt}=rt,L=Y.useRef(new HR),I=Y.useRef([]),tt=Y.useRef(void 0),ct=Y.useRef(void 0);c&&c!==tt.current&&zb(c)&&(Fe(!ka(c,tt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),tt.current=c),k&&k!==ct.current&&(Fe(!ka(k,ct.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ct.current=k);const D=Y.useRef({scrollPageIntoView:kt=>{const{dest:jt,pageNumber:ne,pageIndex:fe=ne-1}=kt;if(y){y({dest:jt,pageIndex:fe,pageNumber:ne});return}const Me=I.current[fe];if(Me){Me.scrollIntoView();return}Fe(!1,`An internal link leading to page ${ne} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Y.useImperativeHandle(B,()=>({linkService:L,pages:I,viewer:D}),[]);function q(){_&&_()}function Z(){J&&(Fe(!1,J.toString()),T&&T(J))}function W(){$({type:"RESET"})}Y.useEffect(W,[c,$]);const et=Y.useCallback(async()=>{if(!c)return null;if(typeof c=="string")return $d(c)?{data:Ib(c)}:(Fb(),{url:c});if(c instanceof ZR)return{range:c};if(XR(c))return{data:c};if(Ec&&YR(c))return{data:await QR(c)};if(Ut(typeof c=="object"),Ut(zb(c)),"url"in c&&typeof c.url=="string"){if($d(c.url)){const{url:kt,...jt}=c;return{data:Ib(kt),...jt}}Fb()}return c},[c]);Y.useEffect(()=>{const kt=Mo(et());return kt.promise.then(jt=>{$({type:"RESOLVE",value:jt})}).catch(jt=>{$({type:"REJECT",error:jt})}),()=>{ks(kt)}},[et,$]),Y.useEffect(()=>{if(!(typeof Q>"u")){if(Q===!1){Z();return}q()}},[Q]);function bt(){nt&&(x&&x(nt),I.current=new Array(nt.numPages),L.current.setDocument(nt))}function at(){pt&&(Fe(!1,pt.toString()),b&&b(pt))}Y.useEffect(function(){dt({type:"RESET"})},[dt,Q]),Y.useEffect(function(){if(!Q)return;const jt=k?{...Q,...k}:Q,ne=Uf(jt);v&&(ne.onProgress=v),w&&(ne.onPassword=w);const fe=ne,Me=fe.promise.then(Kn=>{dt({type:"RESOLVE",value:Kn})}).catch(Kn=>{fe.destroyed||dt({type:"REJECT",error:Kn})});return()=>{Me.finally(()=>fe.destroy())}},[k,dt,Q]),Y.useEffect(()=>{if(!(typeof nt>"u")){if(nt===!1){at();return}bt()}},[nt]),Y.useEffect(function(){L.current.setViewer(D.current),L.current.setExternalLinkRel(r),L.current.setExternalLinkTarget(l)},[r,l]);const At=Y.useCallback((kt,jt)=>{I.current[kt]=jt},[]),Rt=Y.useCallback(kt=>{delete I.current[kt]},[]),de=Y.useMemo(()=>({imageResourcesPath:d,linkService:L.current,onItemClick:y,pdf:nt,registerPage:At,renderMode:C,rotate:N,scale:M,unregisterPage:Rt}),[d,y,nt,At,C,N,M,Rt]),Vt=Y.useMemo(()=>cx(j,()=>nt),[j,nt]);function Xe(){function kt(ne){return!!ne?.pdf}if(!kt(de))throw new Error("pdf is undefined");const jt=typeof t=="function"?t(de):t;return S.jsx(ux.Provider,{value:de,children:jt})}function ii(){return c?nt==null?S.jsx(Da,{type:"loading",children:typeof f=="function"?f():f}):nt===!1?S.jsx(Da,{type:"error",children:typeof n=="function"?n():n}):Xe():S.jsx(Da,{type:"no-data",children:typeof p=="function"?p():p})}return S.jsx("div",{className:Sc("react-pdf__Document",e),ref:h,...Vt,children:ii()})});function fx(){return Y.useContext(ux)}function gx(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(l){for(var c=0,h=e;c<h.length;c++){var d=h[c];typeof d=="function"?d(l):d&&(d.current=l)}}}const px=Y.createContext(null);function Tc(){return Y.useContext(px)}function tk(){const a=fx(),t=Tc();Ut(t);const e={...a,...t},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:y,rotate:b,scale:v=1}=e;Ut(p),Ut(f),Ut(r);const[x,w]=ja(),{value:T,error:_}=x,k=Y.useRef(null);Fe(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){T&&c&&c(T)}function N(){_&&(Fe(!1,_.toString()),l&&l(_))}Y.useEffect(function(){w({type:"RESET"})},[w,f]),Y.useEffect(function(){if(!f)return;const $=Mo(f.getAnnotations()),Q=$;return $.promise.then(J=>{w({type:"RESOLVE",value:J})}).catch(J=>{w({type:"REJECT",error:J})}),()=>{ks(Q)}},[w,f]),Y.useEffect(()=>{if(T!==void 0){if(T===!1){N();return}C()}},[T]);function M(){d&&d()}function j(U){Fe(!1,`${U}`),h&&h(U)}const B=Y.useMemo(()=>f.getViewport({scale:v,rotation:b}),[f,b,v]);return Y.useEffect(function(){if(!p||!f||!r||!T)return;const{current:$}=k;if(!$)return;const Q=B.clone({dontFlip:!0}),J={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:$,l10n:null,page:f,structTreeLayer:null,viewport:Q},rt={annotations:T,annotationStorage:p.annotationStorage,div:$,imageResourcesPath:n,linkService:r,page:f,renderForms:y,viewport:Q};$.innerHTML="";try{new $f(J).render(rt),M()}catch(dt){j(dt)}return()=>{}},[T,n,r,f,p,y,B]),S.jsx("div",{className:Sc("react-pdf__Page__annotations","annotationLayer"),ref:k})}const mx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},ek=/^H(\d+)$/;function ik(a){return a in mx}function _c(a){return"children"in a}function yx(a){return _c(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function nk(a){const t={};if(_c(a)){const{role:e}=a,n=e.match(ek);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(ik(e)){const r=mx[e];r&&(t.role=r)}}return t}function bx(a){const t={};if(_c(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),yx(a)){const[e]=a.children;if(e){const n=bx(e);return{...t,...n}}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function sk(a){return a?{...nk(a),...bx(a)}:null}function vx({className:a,node:t}){const e=Y.useMemo(()=>sk(t),[t]),n=Y.useMemo(()=>!_c(t)||yx(t)?null:t.children.map((r,l)=>S.jsx(vx,{node:r},l)),[t]);return S.jsx("span",{className:a,...e,children:n})}function ak(){const a=Tc();Ut(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[n,r]=ja(),{value:l,error:c}=n,{customTextRenderer:h,page:d}=a;function f(){l&&e&&e(l)}function p(){c&&(Fe(!1,c.toString()),t&&t(c))}return Y.useEffect(function(){r({type:"RESET"})},[r,d]),Y.useEffect(function(){if(h||!d)return;const b=Mo(d.getStructTree()),v=b;return b.promise.then(x=>{r({type:"RESOLVE",value:x})}).catch(x=>{r({type:"REJECT",error:x})}),()=>ks(v)},[h,d,r]),Y.useEffect(()=>{if(l!==void 0){if(l===!1){p();return}f()}},[l]),l?S.jsx(vx,{className:"react-pdf__Page__structTree structTree",node:l}):null}const Hb=Xi;function rk(a){const t=Tc();Ut(t);const e={...t,...a},{_className:n,canvasBackground:r,devicePixelRatio:l=$R(),onRenderError:c,onRenderSuccess:h,page:d,renderForms:f,renderTextLayer:p,rotate:y,scale:b}=e,{canvasRef:v}=a;Ut(d);const x=Y.useRef(null);function w(){d&&h&&h(Kd(d,b))}function T(N){WR(N)||(Fe(!1,N.toString()),c&&c(N))}const _=Y.useMemo(()=>d.getViewport({scale:b*l,rotation:y}),[l,d,y,b]),k=Y.useMemo(()=>d.getViewport({scale:b,rotation:y}),[d,y,b]);Y.useEffect(function(){if(!d)return;d.cleanup();const{current:M}=x;if(!M)return;M.width=_.width,M.height=_.height,M.style.width=`${Math.floor(k.width)}px`,M.style.height=`${Math.floor(k.height)}px`,M.style.visibility="hidden";const j={annotationMode:f?Hb.ENABLE_FORMS:Hb.ENABLE,canvasContext:M.getContext("2d",{alpha:!1}),viewport:_};r&&(j.background=r);const B=d.render(j),U=B;return B.promise.then(()=>{M.style.visibility="",w()}).catch(T),()=>ks(U)},[r,d,f,_,k]);const C=Y.useCallback(()=>{const{current:N}=x;N&&(N.width=0,N.height=0)},[]);return Y.useEffect(()=>C,[C]),S.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:gx(v,x),style:{display:"block",userSelect:"none"},children:p?S.jsx(ak,{}):null})}function ok(a){return"str"in a}function lk(){const a=Tc();Ut(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:h,pageNumber:d,rotate:f,scale:p}=a;Ut(c);const[y,b]=ja(),{value:v,error:x}=y,w=Y.useRef(null);Fe(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function T(){v&&n&&n(v)}function _(){x&&(Fe(!1,x.toString()),e&&e(x))}Y.useEffect(function(){b({type:"RESET"})},[c,b]),Y.useEffect(function(){if(!c)return;const U=Mo(c.getTextContent()),$=U;return U.promise.then(Q=>{b({type:"RESOLVE",value:Q})}).catch(Q=>{b({type:"REJECT",error:Q})}),()=>ks($)},[c,b]),Y.useEffect(()=>{if(v!==void 0){if(v===!1){_();return}T()}},[v]);const k=Y.useCallback(()=>{l&&l()},[l]),C=Y.useCallback(B=>{Fe(!1,B.toString()),r&&r(B)},[r]);function N(){const B=w.current;B&&B.classList.add("selecting")}function M(){const B=w.current;B&&B.classList.remove("selecting")}const j=Y.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return Y.useLayoutEffect(function(){if(!c||!v)return;const{current:U}=w;if(!U)return;U.innerHTML="";const $=c.streamTextContent({includeMarkedContent:!0}),Q={container:U,textContentSource:$,viewport:j},J=new ho(Q),rt=J;return J.render().then(()=>{const dt=document.createElement("div");dt.className="endOfContent",U.append(dt);const nt=U.querySelectorAll('[role="presentation"]');if(t){let pt=0;v.items.forEach((L,I)=>{if(!ok(L))return;const tt=nt[pt];if(!tt)return;const ct=t({pageIndex:h,pageNumber:d,itemIndex:I,...L});tt.innerHTML=ct,pt+=L.str&&L.hasEOL?2:1})}k()}).catch(C),()=>ks(rt)},[t,C,k,c,h,d,v,j]),S.jsx("div",{className:Sc("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:N,ref:w})}const Ub=1;function Gb(a){const e={...fx(),...a},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:h,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:y,error:b="Failed to load the page.",height:v,inputRef:x,loading:w="Loading page",noData:T="No page specified.",onGetAnnotationsError:_,onGetAnnotationsSuccess:k,onGetStructTreeError:C,onGetStructTreeSuccess:N,onGetTextError:M,onGetTextSuccess:j,onLoadError:B,onLoadSuccess:U,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:Q,onRenderError:J,onRenderSuccess:rt,onRenderTextLayerError:dt,onRenderTextLayerSuccess:nt,pageIndex:pt,pageNumber:L,pdf:I,registerPage:tt,renderAnnotationLayer:ct=!0,renderForms:D=!1,renderMode:q="canvas",renderTextLayer:Z=!0,rotate:W,scale:et=Ub,unregisterPage:bt,width:at,...At}=e,[Rt,de]=ja(),{value:Vt,error:Xe}=Rt,ii=Y.useRef(null);Ut(I);const kt=ms(L)?L-1:pt??null,jt=L??(ms(pt)?pt+1:null),ne=W??(Vt?Vt.rotate:null),fe=Y.useMemo(()=>{if(!Vt)return null;let Zt=1;const Ve=et??Ub;if(at||v){const Jt=Vt.getViewport({scale:1,rotation:ne});at?Zt=at/Jt.width:v&&(Zt=v/Jt.height)}return Ve*Zt},[v,Vt,ne,et,at]);Y.useEffect(function(){return()=>{ms(kt)&&r&&bt&&bt(kt)}},[r,I,kt,bt]);function Me(){if(U){if(!Vt||!fe)return;U(Kd(Vt,fe))}if(r&&tt){if(!ms(kt)||!ii.current)return;tt(kt,ii.current)}}function Kn(){Xe&&(Fe(!1,Xe.toString()),B&&B(Xe))}Y.useEffect(function(){de({type:"RESET"})},[de,I,kt]),Y.useEffect(function(){if(!I||!jt)return;const Ve=Mo(I.getPage(jt)),Jt=Ve;return Ve.promise.then(Ha=>{de({type:"RESOLVE",value:Ha})}).catch(Ha=>{de({type:"REJECT",error:Ha})}),()=>ks(Jt)},[de,I,jt]),Y.useEffect(()=>{if(Vt!==void 0){if(Vt===!1){Kn();return}Me()}},[Vt,fe]);const Ls=Y.useMemo(()=>ms(kt)&&jt&&ms(ne)&&ms(fe)?{_className:n,canvasBackground:l,customTextRenderer:p,devicePixelRatio:y,onGetAnnotationsError:_,onGetAnnotationsSuccess:k,onGetStructTreeError:C,onGetStructTreeSuccess:N,onGetTextError:M,onGetTextSuccess:j,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:Q,onRenderError:J,onRenderSuccess:rt,onRenderTextLayerError:dt,onRenderTextLayerSuccess:nt,page:Vt,pageIndex:kt,pageNumber:jt,renderForms:D,renderTextLayer:Z,rotate:ne,scale:fe}:null,[n,l,p,y,_,k,C,N,M,j,$,Q,J,rt,dt,nt,Vt,kt,jt,D,Z,ne,fe]),Ro=Y.useMemo(()=>cx(At,()=>Vt&&(fe?Kd(Vt,fe):void 0)),[At,Vt,fe]),Wi=`${kt}@${fe}/${ne}`;function Cc(){switch(q){case"custom":return Ut(f),S.jsx(f,{},`${Wi}_custom`);case"none":return null;case"canvas":default:return S.jsx(rk,{canvasRef:c},`${Wi}_canvas`)}}function ko(){return Z?S.jsx(lk,{},`${Wi}_text`):null}function Mc(){return ct?S.jsx(tk,{},`${Wi}_annotations`):null}function Rc(){function Zt(Jt){return!!Jt?.page}if(!Zt(Ls))throw new Error("page is undefined");const Ve=typeof h=="function"?h(Ls):h;return S.jsxs(px.Provider,{value:Ls,children:[Cc(),ko(),Mc(),Ve]})}function Wn(){return jt?I===null||Vt===void 0||Vt===null?S.jsx(Da,{type:"loading",children:typeof w=="function"?w():w}):I===!1||Vt===!1?S.jsx(Da,{type:"error",children:typeof b=="function"?b():b}):Rc():S.jsx(Da,{type:"no-data",children:typeof T=="function"?T():T})}return S.jsx("div",{className:Sc(n,d),"data-page-number":jt,ref:gx(x,ii),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${fe}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ro,children:Wn()})}KR();Gn.workerSrc="pdf.worker.mjs";Gn.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${go}/pdf.worker.min.js`;function ck(){const a="/Portfolio/resume.pdf",[t,e]=Y.useState(!1),[n,r]=Y.useState(null),[l,c]=Y.useState(1),[h,d]=Y.useState(!1),f=({numPages:y})=>{console.log("PDF loaded successfully:",{numPages:y,pdf:a}),r(y),e(!1)},p=y=>{console.error("PDF load error:",y),console.error("PDF path:",a),console.error("Full error details:",y),console.log("Falling back to iframe view..."),d(!0),e(!1)};return Y.useEffect(()=>{console.log("Testing PDF accessibility:",a),console.log("Base URL:","/Portfolio/"),console.log("Full PDF URL:",window.location.origin+a),fetch(a,{method:"HEAD"}).then(b=>{console.log("PDF fetch response:",b.status,b.ok),b.ok?(console.log("PDF is accessible!"),e(!1)):(console.error("PDF not accessible, status:",b.status),e(!0))}).catch(b=>{console.error("PDF fetch error:",b),e(!0)});const y=setTimeout(()=>{!n&&!t&&(console.log("PDF viewer taking too long, switching to iframe..."),d(!0))},5e3);return()=>clearTimeout(y)},[a,n,t]),S.jsxs(za,{id:"resume",className:"max-w-6xl mx-auto px-4 py-16 md:py-20","aria-labelledby":"resume-heading",children:[S.jsx("h2",{id:"resume-heading",className:"text-3xl md:text-4xl font-bold tracking-tight gradient-heading mb-4",children:"Resume"}),S.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-12 max-w-2xl",children:"Quick preview + one-click download."}),S.jsx("div",{className:"mt-6 md:hidden rounded-2xl border border-black/5 dark:border-white/10 bg-white/80 dark:bg-neutral-900/60 p-5",children:S.jsx("a",{href:a,download:!0,className:"rounded-full bg-indigo-600 px-5 py-2 text-white",children:"Download Resume"})}),S.jsxs("div",{className:"hidden lg:flex gap-8 items-start",children:[S.jsx("div",{className:`flex-1 overflow-hidden rounded-2xl border border-gray-200/50 dark:border-gray-700/50 
                        bg-white/90 dark:bg-neutral-900/80 backdrop-blur-xl shadow-lg`,children:S.jsxs("div",{className:"h-[900px] bg-gray-50 dark:bg-gray-800 flex flex-col",children:[S.jsx("div",{className:"flex justify-center p-6 border-b border-gray-200/50 dark:border-gray-700/50 bg-white/50 dark:bg-gray-900/50",children:S.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1.5 shadow-inner",children:[S.jsx("button",{onClick:()=>d(!1),className:`px-6 py-3 text-sm font-semibold rounded-lg transition-all duration-300 ${h?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:scale-105":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-md scale-105"}`,children:"PDF Viewer"}),S.jsx("button",{onClick:()=>d(!0),className:`px-6 py-3 text-sm font-semibold rounded-lg transition-all duration-300 ${h?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-md scale-105":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:scale-105"}`,children:"Browser View"})]})}),t?S.jsx("div",{className:"flex-1 flex items-center justify-center",children:S.jsxs("div",{className:"text-center p-8",children:[S.jsx("div",{className:"mb-6",children:S.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),S.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"PDF Preview Unavailable"}),S.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Click below to view or download the PDF"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"View PDF in New Tab"}),S.jsx("br",{}),S.jsx("a",{href:a,download:!0,className:"inline-block bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Download PDF"})]})]})}):h?S.jsx("div",{className:"flex-1",children:S.jsx("iframe",{src:a,className:"w-full h-full",title:"Ali Younes Resume",style:{border:"none"},onLoad:()=>console.log("Iframe loaded successfully"),onError:y=>console.error("Iframe error:",y)})}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex-1 overflow-auto p-4 bg-white dark:bg-gray-900",children:S.jsx("div",{className:"flex justify-center",children:S.jsx(Vb,{file:a,onLoadSuccess:f,onLoadError:p,loading:S.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[S.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),S.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading PDF..."}),S.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500 mb-4",children:"If this takes too long, try Browser View"}),S.jsx("button",{onClick:()=>d(!0),className:`px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 
                                     bg-indigo-50 dark:bg-indigo-900/20 rounded-lg hover:bg-indigo-100 
                                     dark:hover:bg-indigo-900/30 transition-colors duration-200`,children:"Switch to Browser View"})]}),className:"pdf-document",options:{cMapUrl:`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${go}/cmaps/`,cMapPacked:!0},children:S.jsx(Gb,{pageNumber:l,width:Math.min(800,window.innerWidth-100),renderTextLayer:!1,renderAnnotationLayer:!1,className:"pdf-page shadow-lg",style:{border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white"}})})})}),n&&n>1&&S.jsxs("div",{className:`flex items-center justify-between p-6 border-t border-gray-200/50 dark:border-gray-700/50 
                                bg-white/50 dark:bg-gray-900/50 backdrop-blur`,children:[S.jsxs("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l<=1,className:`group flex items-center gap-2 px-6 py-3 text-sm font-semibold text-gray-700 dark:text-gray-300 
                               bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl 
                               hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600
                               hover:scale-105 hover:shadow-md transition-all duration-300 
                               disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none`,children:[S.jsx("svg",{className:"w-4 h-4 group-hover:-translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),S.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg",children:S.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Page ",l," of ",n]})}),S.jsxs("button",{onClick:()=>c(Math.min(n,l+1)),disabled:l>=n,className:`group flex items-center gap-2 px-6 py-3 text-sm font-semibold text-gray-700 dark:text-gray-300 
                               bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl 
                               hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600
                               hover:scale-105 hover:shadow-md transition-all duration-300 
                               disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none`,children:["Next",S.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}),S.jsxs("div",{className:"flex flex-col gap-3 mt-4 lg:mt-0",children:[S.jsxs("a",{href:a,download:!0,className:`group inline-flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-indigo-600 to-fuchsia-600
                       px-6 py-3 text-white font-medium shadow-lg hover:shadow-xl 
                       hover:translate-y-[-2px] transition-all duration-300
                       focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]}),S.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:`group inline-flex items-center justify-center gap-2 rounded-full border border-gray-200 dark:border-gray-700 
                       px-6 py-3 font-medium text-gray-700 dark:text-gray-300
                       hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600
                       hover:translate-y-[-1px] transition-all duration-300 shadow-sm hover:shadow-md
                       focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open in New Tab"]})]})]}),S.jsx("div",{className:`mt-8 block lg:hidden overflow-hidden rounded-2xl border border-gray-200/50 dark:border-gray-700/50 
                      bg-white/90 dark:bg-neutral-900/80 backdrop-blur-xl shadow-lg`,children:S.jsxs("div",{className:"h-[600px] bg-gray-50 dark:bg-gray-800 flex flex-col",children:[S.jsx("div",{className:"flex justify-center p-4 border-b border-gray-200/50 dark:border-gray-700/50 bg-white/50 dark:bg-gray-900/50",children:S.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1 shadow-inner",children:[S.jsx("button",{onClick:()=>d(!1),className:`px-4 py-2 text-xs font-semibold rounded-lg transition-all duration-300 ${h?"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:scale-105":"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-md scale-105"}`,children:"PDF Viewer"}),S.jsx("button",{onClick:()=>d(!0),className:`px-4 py-2 text-xs font-semibold rounded-lg transition-all duration-300 ${h?"bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-md scale-105":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:scale-105"}`,children:"Browser View"})]})}),t?S.jsx("div",{className:"flex-1 flex items-center justify-center",children:S.jsxs("div",{className:"text-center p-6",children:[S.jsx("div",{className:"mb-4",children:S.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),S.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-gray-100 mb-2",children:"PDF Preview Unavailable"}),S.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Click below to view or download the PDF"}),S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("a",{href:a,target:"_blank",rel:"noreferrer",className:"inline-block bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors font-medium text-sm",children:"View PDF in New Tab"}),S.jsx("a",{href:a,download:!0,className:"inline-block bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors font-medium text-sm",children:"Download PDF"})]})]})}):h?S.jsx("div",{className:"flex-1",children:S.jsx("iframe",{src:a,className:"w-full h-full",title:"Ali Younes Resume",style:{border:"none"},onLoad:()=>console.log("Iframe loaded successfully"),onError:y=>console.error("Iframe error:",y)})}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex-1 overflow-auto p-3 bg-white dark:bg-gray-900",children:S.jsx("div",{className:"flex justify-center",children:S.jsx(Vb,{file:a,onLoadSuccess:f,onLoadError:p,loading:S.jsxs("div",{className:"flex flex-col items-center justify-center h-48 space-y-3",children:[S.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600"}),S.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading PDF..."}),S.jsx("button",{onClick:()=>d(!0),className:`px-3 py-1 text-xs font-medium text-indigo-600 dark:text-indigo-400 
                                     bg-indigo-50 dark:bg-indigo-900/20 rounded-lg hover:bg-indigo-100 
                                     dark:hover:bg-indigo-900/30 transition-colors duration-200`,children:"Switch to Browser View"})]}),className:"pdf-document",options:{cMapUrl:`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${go}/cmaps/`,cMapPacked:!0},children:S.jsx(Gb,{pageNumber:l,width:Math.min(350,window.innerWidth-50),renderTextLayer:!1,renderAnnotationLayer:!1,className:"pdf-page shadow-lg",style:{border:"1px solid #e5e7eb",borderRadius:"8px",backgroundColor:"white"}})})})}),n&&n>1&&S.jsxs("div",{className:`flex items-center justify-between p-4 border-t border-gray-200/50 dark:border-gray-700/50 
                                bg-white/50 dark:bg-gray-900/50 backdrop-blur`,children:[S.jsxs("button",{onClick:()=>c(Math.max(1,l-1)),disabled:l<=1,className:`group flex items-center gap-1 px-3 py-2 text-xs font-semibold text-gray-700 dark:text-gray-300 
                               bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg 
                               hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600
                               hover:scale-105 hover:shadow-md transition-all duration-300 
                               disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none`,children:[S.jsx("svg",{className:"w-3 h-3 group-hover:-translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),S.jsx("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded-lg",children:S.jsxs("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:[l," / ",n]})}),S.jsxs("button",{onClick:()=>c(Math.min(n,l+1)),disabled:l>=n,className:`group flex items-center gap-1 px-3 py-2 text-xs font-semibold text-gray-700 dark:text-gray-300 
                               bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg 
                               hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600
                               hover:scale-105 hover:shadow-md transition-all duration-300 
                               disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:shadow-none`,children:["Next",S.jsx("svg",{className:"w-3 h-3 group-hover:translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})}),S.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 lg:hidden",children:[S.jsxs("a",{href:a,download:!0,className:`flex-1 sm:flex-none group inline-flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-indigo-600 to-fuchsia-600
                     px-6 py-3 text-white font-medium shadow-lg hover:shadow-xl 
                     hover:translate-y-[-2px] transition-all duration-300
                     focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download PDF"]}),S.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:`flex-1 sm:flex-none group inline-flex items-center justify-center gap-2 rounded-full border border-gray-200 dark:border-gray-700 
                     px-6 py-3 font-medium text-gray-700 dark:text-gray-300
                     hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600
                     hover:translate-y-[-1px] transition-all duration-300 shadow-sm hover:shadow-md
                     focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Open in New Tab"]})]}),S.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:["If the viewer doesn't load,"," ",S.jsx("a",{className:"underline hover:text-indigo-600 dark:hover:text-indigo-400",href:a,target:"_blank",rel:"noreferrer",children:"open in a new tab"})," ","or ",S.jsx("a",{className:"underline hover:text-indigo-600 dark:hover:text-indigo-400",href:a,download:!0,children:"download"}),"."]})]})}function uk(){return S.jsxs("div",{className:"min-h-screen",children:[S.jsx(BS,{}),S.jsxs("main",{children:[S.jsx(mC,{}),S.jsx(bC,{}),S.jsx(vC,{}),S.jsx(kC,{}),S.jsx(jC,{}),S.jsx(ck,{}),S.jsxs("section",{id:"contact",className:"max-w-6xl mx-auto px-4 py-16 md:py-20","aria-labelledby":"contact-heading",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("h2",{id:"contact-heading",className:"text-3xl md:text-4xl font-bold tracking-tight gradient-heading mb-4",children:"Let's Connect"}),S.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"I'm always interested in new opportunities, collaborations, or just having a chat about tech, cars, or anything interesting!"}),S.jsx("p",{className:"text-sm text-neutral-400 mt-2",children:"Based in Boston, MA  Open to internships/part-time while in classes."})]}),S.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:`group rounded-2xl border border-gray-200/50 dark:border-gray-700/50 
                            bg-white/90 dark:bg-neutral-900/80 backdrop-blur-xl p-8 
                            shadow-lg hover:shadow-xl transition-all duration-300
                            hover:border-gray-300/50 dark:hover:border-gray-600/50`,children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-500",children:S.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),S.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Get in Touch"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"group/item flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-200",children:[S.jsx("div",{className:"p-2 rounded-md bg-blue-100 dark:bg-blue-900/30",children:S.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Primary Email"}),S.jsx("a",{href:"mailto:younes.al@northeastern.edu",className:"text-gray-900 dark:text-gray-100 font-medium hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-200",children:"younes.al@northeastern.edu"})]})]}),S.jsxs("div",{className:"group/item flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-200",children:[S.jsx("div",{className:"p-2 rounded-md bg-green-100 dark:bg-green-900/30",children:S.jsx("svg",{className:"w-4 h-4 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Personal Email"}),S.jsx("a",{href:"mailto:whois.younes@gmail.com",className:"text-gray-900 dark:text-gray-100 font-medium hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-200",children:"whois.younes@gmail.com"})]})]}),S.jsxs("div",{className:"group/item flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors duration-200",children:[S.jsx("div",{className:"p-2 rounded-md bg-purple-100 dark:bg-purple-900/30",children:S.jsx("svg",{className:"w-4 h-4 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),S.jsx("a",{href:"tel:+14134099563",className:"text-gray-900 dark:text-gray-100 font-medium hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-200",children:"(413) 409-9563"})]})]})]})]}),S.jsxs("div",{className:`group rounded-2xl border border-gray-200/50 dark:border-gray-700/50 
                            bg-white/90 dark:bg-neutral-900/80 backdrop-blur-xl p-8 
                            shadow-lg hover:shadow-xl transition-all duration-300
                            hover:border-gray-300/50 dark:hover:border-gray-600/50`,children:[S.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[S.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500",children:S.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),S.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Connect Online"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("a",{href:"https://github.com/whoisaldo",target:"_blank",rel:"noreferrer",className:`group/link w-full sm:w-auto flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-800/50 
                             hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:border-indigo-200 dark:hover:border-indigo-700
                             border border-transparent transition-all duration-300 hover:scale-105 hover:shadow-md
                             focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx("div",{className:"p-2 rounded-lg bg-gray-900 dark:bg-gray-100",children:S.jsx("svg",{className:"w-5 h-5 text-white dark:text-gray-900",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover/link:text-indigo-600 dark:group-hover/link:text-indigo-400 transition-colors duration-200",children:"GitHub"}),S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Check out my projects and code"})]}),S.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover/link:text-indigo-500 group-hover/link:translate-x-1 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),S.jsxs("a",{href:"https://www.linkedin.com/in/ali-younes-41a2b4296/",target:"_blank",rel:"noreferrer",className:`group/link w-full sm:w-auto flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-800/50 
                             hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:border-blue-200 dark:hover:border-blue-700
                             border border-transparent transition-all duration-300 hover:scale-105 hover:shadow-md
                             focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx("div",{className:"p-2 rounded-lg bg-blue-600",children:S.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:S.jsx("path",{fillRule:"evenodd",d:"M16.338 16.338H13.67V12.16c0-.995-.017-2.277-1.387-2.277-1.39 0-1.601 1.086-1.601 2.207v4.248H8.014v-8.59h2.559v1.174h.037c.356-.675 1.227-1.387 2.526-1.387 2.703 0 3.203 1.778 3.203 4.092v4.711zM5.005 6.575a1.548 1.548 0 11-.003-3.096 1.548 1.548 0 01.003 3.096zm-1.337 9.763H6.34v-8.59H3.667v8.59zM17.668 1H2.328C1.595 1 1 1.581 1 2.298v15.403C1 18.418 1.595 19 2.328 19h15.34c.734 0 1.332-.582 1.332-1.299V2.298C19 1.581 18.402 1 17.668 1z",clipRule:"evenodd"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover/link:text-blue-600 dark:group-hover/link:text-blue-400 transition-colors duration-200",children:"LinkedIn"}),S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Professional networking and updates"})]}),S.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover/link:text-blue-500 group-hover/link:translate-x-1 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),S.jsxs("a",{href:"https://whoisaldo.github.io/Exerly-Fitness/#/",target:"_blank",rel:"noreferrer",className:`group/link w-full sm:w-auto flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-800/50 
                             hover:bg-purple-50 dark:hover:bg-purple-900/20 hover:border-purple-200 dark:hover:border-purple-700
                             border border-transparent transition-all duration-300 hover:scale-105 hover:shadow-md
                             focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:ring-offset-2 focus-visible:ring-offset-neutral-900`,children:[S.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500",children:S.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover/link:text-purple-600 dark:group-hover/link:text-purple-400 transition-colors duration-200",children:"Exerly Fitness"}),S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Try my latest project"})]}),S.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover/link:text-purple-500 group-hover/link:translate-x-1 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]})]})]}),S.jsx("footer",{className:"border-t border-gray-200/50 dark:border-gray-700/50 bg-white/50 dark:bg-gray-900/50 backdrop-blur",children:S.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:S.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[S.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",new Date().getFullYear()," Ali Younes. Built with React, Vite, and Tailwind CSS."]}),S.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[S.jsx("a",{href:"https://github.com/whoisaldo",target:"_blank",rel:"noreferrer",className:"text-gray-500 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200",children:"GitHub"}),S.jsx("a",{href:"https://www.linkedin.com/in/ali-younes-41a2b4296/",target:"_blank",rel:"noreferrer",className:"text-gray-500 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200",children:"LinkedIn"}),S.jsx("a",{href:"mailto:younes.al@northeastern.edu",className:"text-gray-500 hover:text-gray-900 dark:hover:text-gray-100 transition-colors duration-200",children:"Email"})]})]})})})]})}Xw.createRoot(document.getElementById("root")).render(S.jsx(Iw.StrictMode,{children:S.jsx(uk,{})}));
